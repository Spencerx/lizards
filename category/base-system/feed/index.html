<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>openSUSE Lizards &#187; Base System</title>
	<atom:link href="https://lizards.opensuse.org/category/base-system/feed/" rel="self" type="application/rss+xml" />
	<link>https://lizards.opensuse.org</link>
	<description>Blogs and Ramblings of the openSUSE Members</description>
	<lastBuildDate>Mon, 24 Mar 2014 12:46:00 +0000</lastBuildDate>
	<language>en-US</language>
		<sy:updatePeriod>hourly</sy:updatePeriod>
		<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.8.1</generator>
	<item>
		<title>Proprietary AMD/ATI Catalyst fglrx rpms released</title>
		<link>https://lizards.opensuse.org/2014/03/23/proprietary-amdati-catalyst-fglrx-rpms-released/</link>
		<comments>https://lizards.opensuse.org/2014/03/23/proprietary-amdati-catalyst-fglrx-rpms-released/#comments</comments>
		<pubDate>Sun, 23 Mar 2014 18:25:00 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Desktop]]></category>
		<category><![CDATA[Kernel]]></category>
		<category><![CDATA[X.org]]></category>
		<category><![CDATA[11.4]]></category>
		<category><![CDATA[12.1]]></category>
		<category><![CDATA[12.2]]></category>
		<category><![CDATA[12.3]]></category>
		<category><![CDATA[13.1]]></category>
		<category><![CDATA[amd]]></category>
		<category><![CDATA[ATI]]></category>
		<category><![CDATA[fglrx]]></category>
		<category><![CDATA[Tumbleweed]]></category>
		<category><![CDATA[unified]]></category>
		<category><![CDATA[xorg]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10693</guid>
		<description><![CDATA[Proprietary AMD/ATI Catalyst fglrx rpms released Patience is a virtue, especially with AMD gpu drivers, but today is the FGLRX day! Yesterday Sebastian Siebert has published new versions for almost everything (except legacy dead horse). So after 3 versions of the driver, compiled for 6 versions of openSUSE, under 2 arch, the rpms have been [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>Proprietary AMD/ATI Catalyst fglrx rpms released</h2>
<p>Patience is a virtue, especially with AMD gpu drivers, but today is the FGLRX day!</p>
<p>Yesterday Sebastian Siebert has published new versions for almost everything (except legacy dead horse).</p>
<p>So after 3 versions of the driver, compiled for 6 versions of openSUSE, under 2 arch, the rpms have been published today</p>
<p>Question : how many compilation does that mean? <img src="https://lizards.opensuse.org/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" /> </p>
<h3>Résumé</h3>
<h4># # AMD fglrx standard (HD5xxx+ radeon gpu) 13.251-4</h4>
<p>So we got a new build of the 13.12 standard version, including support for newer 3.14x kernel.Available for openSUSE 11.4 to 13.1 plus Tumbleweed
</p>
<p><a href="http://geeko.ioda.net/mirror/amd-fglrx/">mirror link</a></p>
<p>Informations &amp; bugreport <a href="http://www.sebastian-siebert.de/2013/12/21/opensuse-proprietaeren-grafik-treiber-amd-catalyst-13-12-als-rpm-installieren/">Sebastian&#8217;s blog</a></p>
<h4># # AMD fglrx standard BETA 14.3V1.0 (HD5xxx+ radeon gpu)</h4>
<p>Sebastian refresh the script to build the last beta offered by AMD</p>
<p>If you feel brave enough to work them, the rpm are located at the repository address</p>
<p><a href="http://geeko.ioda.net/mirror/amd-fglrx-beta/">beta mirror link</a></p>
<p>Informations &amp; bugreport <a href="http://www.sebastian-siebert.de/2014/03/21/opensuse-proprietaeren-grafik-treiber-amd-catalyst-14-3-beta-v1-0-als-rpm-installieren/">Sebastian&#8217;s blog</a></p>
<h4># # NEW AMD fglrx unified for FirePro &amp; FireMV gpu 13.251-1</h4>
<p>Sebastian now offer also the support for the unified driver for FirePro &amp; FireMV gpu.<br />
<br />The driver is also called fglrx, and you should not mix the different repository. So take care of that.<br />
<br />We create a new repository you could use.
</p>
<p><a href="http://geeko.ioda.net/mirror/amd-fire-unified/">amd-fire-unified mirror link</a></p>
<p>Informations &amp; bugreport <a href="http://www.sebastian-siebert.de/2014/03/21/opensuse-proprietaeren-grafik-treiber-amd-firepro-and-firemv-unified-driver-13-251-1-als-rpm-installieren/">Sebastian&#8217;s blog</a></p>
<p><span id="more-10693"></span></p>
<h3>Notices</h3>
<p>This release concern only owners of radeon HD5xxx or above.<br />
For older gpu, the fglrx-legacy is still 13.1, and thus didn&#8217;t work with openSUSE 12.3 or above.<br />
<a href="http://en.opensuse.org/SDB:AMD_fglrx_legacy">SDB:AMD_fgrlx_legacy</a><br />
Beware of that, and prefer the free open-source radeon driver which came out of the box from your openSUSE distribution.<br />
For 12.3 and especially 13.1 the free radeon often offer a better experience than the old fglrx-legacy.
</p>
<h4>geeko.ioda.net got a new home</h4>
<p>After more than 4 years of good service, our old server got retired. Since 10 days a new beefy server is in place to serve the community.<br />
If you find any trouble using it, please just drop me an email.</p>
<p>I&#8217;ve totally cleanup the old vhosts ftp.ioda.net, linux.ioda.net so update your bookmarks, and warn your friends.</p>
<h4>Changing the signer of package</h4>
<p>Last december, I&#8217;ve done a change with which key used for signing the package and repository. So you will need to trust the new key for the repository</p>
<pre>
zypper ref -f -r amd-fglrx
Forcing raw metadata refresh
Retrieving repository 'amd-fglrx' metadata ---------------------------------------------------------------------------------------------------------------------------------------------[\]

New repository or package signing key received:
Key ID: 484F703065BE584C
Key Name: builder Ioda-Net (Building and signing packages build at Ioda-Net) 
Key Fingerprint: 80D079EBFB1AB0FEE3CA41E6484F703065BE584C
Key Created: lun 30 jui 2012 15:27:35 CEST
Key Expires: sam 29 jui 2017 15:27:35 CEST
Repository: amd-fglrx

Do you want to reject the key, trust temporarily, or trust always? [r/t/a/? shows all options] (r): a
</pre>
<h4>Sebastien Siebert making script</h4>
<p style="clear:both"><a href="http://www.sebastian-siebert.de/">Sebastian Siebert posts about fglrx</a></p>
<p>If you have any problems with the driver, don&#8217;t be afraid to report to Sebastian (German and English bugreports are gladly accepted).<br />
he will try, as far as I am able to reproduce the bug. Together with the necessary system information, he will go directly to the right place at AMD to have the bug fixed in the next driver release.<br />
Thank you very much, Sebastian.
</p>
<p>See below what to do in case of troubles.</p>
<p>Or you can also ping him on irc (freespacer)</p>
<h4>Debugging troubles</h4>
<p>I recommend in case of trouble the use of <a href="http://www.sebastian-siebert.de/downloads/makerpm-amd-13.12.sh">his script</a> which can collect the whole informations needed to help you. then you just have to issue a simple commande in console to collect all informations, you can review them, and finally transmit them.<br />
Check the website to get the latest.
</p>
<pre>su -c 'sh makerpm-amd-13.12.sh -ur'
The system report 'amd-report.txt' was generated.                                                                                                          [ OK ]
Do you want to read the system report 'amd-report.txt' now? yes/no [y/n]: y
Are you sure to upload the above-named system report to sprunge.us? yes/no [y/n]: y

The report was uploaded to sprunge.us.
   The link is:  <a href="http://sprunge.us/eMEB">http://sprunge.us/eMEB</a>
</pre>
<p>Copy paste the link in the comment zone of Sebastian post</p>
<p>All proudly distributed by openSUSE powered server and sponsored by <a href="http://www.ioda-net.ch">Ioda-Net Sàrl</a></p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/23/proprietary-amdati-catalyst-fglrx-rpms-released/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>How to filter a certain class of hardware in dhcpd.conf</title>
		<link>https://lizards.opensuse.org/2014/03/19/how-to-filter-a-certain-class-of-hardware-in-dhcpd-conf/</link>
		<comments>https://lizards.opensuse.org/2014/03/19/how-to-filter-a-certain-class-of-hardware-in-dhcpd-conf/#comments</comments>
		<pubDate>Wed, 19 Mar 2014 12:00:59 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[dhcpd]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10675</guid>
		<description><![CDATA[To prepare the end of the XP world Atfer 8th April 2014, Windows XP system will be Like children in the lions&#8217; den, if connected to internet In a network around, all the still running XP are all vmware virtual machine, and none of the end-users are the right to modify the settings of the [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>To prepare the end of the XP world</h2>
<p>Atfer 8th April 2014, Windows XP system will be Like children in the lions&#8217; den, if connected to internet</p>
<p>In a network around, all the still running XP are all vmware virtual machine, and none of the end-users are the right to modify the settings of the virtual machine, nor has administrative right under XP</p>
<p>The idea is the simply to just suppress the gateway of the network.</p>
<h3>Playing with dhcpd.conf</h3>
<p>There&#8217;s lot of way to handle this classification, but I discover that you need to find the right syntax, and understand how the binary-to-ascii function of dhcpd work.</p>
<p>First binary-to-ascii remove any leading 0, then we will just readd them <img src="https://lizards.opensuse.org/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" /> </p>
<p>Extract of the dhcpd.conf</p>
<pre>
# binary-to-ascii remove leading 0 rebuild the complete MAC
set testmac = concat ( suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,1,1))),2), ":", suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,2,1))),2), ":", suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,3,1))),2), ":", suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,4,1))),2), ":",  suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,5,1))),2), ":", suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,6,1))),2) );

# Extract the only first 8 chars 
set testclass = substring(testmac, 0, 8);
# You will find a lot of this on internet but doesn't work
# set testmac = binary-to-ascii(16, 8, ":", substring(hardware, 1, 6));

# All our VMware VM use the same prefix
if ( testclass = "00:0c:29" ){
  # put dummy router
  option routers 127.0.0.1;
  # useful debug log
  log (info, "xp32 lease");
}else{
  # Default gateway for anyone else
  option routers 192.168.1.254;
  log (info, "standard lease");
}
</pre>
<p>That&#8217;s all for today</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/19/how-to-filter-a-certain-class-of-hardware-in-dhcpd-conf/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>osc build with kvm on an encrypted volume group</title>
		<link>https://lizards.opensuse.org/2014/03/15/osc-build-with-kvm-on-an-encrypted-volume-group/</link>
		<comments>https://lizards.opensuse.org/2014/03/15/osc-build-with-kvm-on-an-encrypted-volume-group/#comments</comments>
		<pubDate>Sat, 15 Mar 2014 17:34:14 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Kernel]]></category>
		<category><![CDATA[Packaging]]></category>
		<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[Build]]></category>
		<category><![CDATA[kvm]]></category>
		<category><![CDATA[osc]]></category>
		<category><![CDATA[virtio]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10665</guid>
		<description><![CDATA[How-to build a initrd-virtio on a fully encrypted volume group If like me you care about your data stored on your laptop, you certainly use a fully encrypted (excepted /boot) configuration based on lvm. In my case I also like to create, build, fix packages locally with our tool osc. I&#8217;ve plenty of power, beefy [&#8230;]]]></description>
				<content:encoded><![CDATA[<h1>How-to build a initrd-virtio on a fully encrypted volume group</h1>
<p>If like me you care about your data stored on your laptop, you certainly use a fully encrypted (excepted /boot) configuration based on lvm.</p>
<p>In my case I also like to create, build, fix packages locally with our tool osc. I&#8217;ve plenty of power, beefy ssd, so I dedicate a logical lvm for building cleanly package with qemu-kvm configuration, like <a href="http://build.opensuse.org">obs</a> does</p>
<h2>Prepare the kvm building system</h2>
<p>As root you create 2 lvm volume with lvcreate, one will be the build root, the other one will be the additional swap</p>
<p>In ~/.oscrc I enable the following parameters</p>
<pre>
build-type = kvm
build-device = /dev/mapper/vg0-lvobsbuild
build-swap = /dev/mapper/vg1-lvobsswap
build-memory = 4096
build-vmdisk-rootsize = 16000
build-vmdisk-swapsize = 4000
build-vmdisk-filesystem = ext4
</pre>
<p>You just have to adjust the Memory quantity and the device to what you create for your own environment.</p>
<p><span id="more-10665"></span></p>
<h2>Building with qemu-kvm</h2>
<p>Once the preparation is done you could try to build a package</p>
<pre>
Skipping verification of package signatures due to secure VM build
Writing build configuration
Running build
No initrd that provides virtio support found. virtio accelleration disabled.
Run the following command as root to enable virtio:
 "env" "rootfstype=ext4" "mkinitrd" "-d" "/dev/null" "-m" "ext3 ext4 btrfs reiserfs binfmt_misc virtio_pci virtio_blk" "-k" "/boot/vmlinuz" "-i" "/boot/initrd-3.13.6-1.g4727218-desktop-virtio"
VM_IMAGE: /dev/mapper/vg0-lvobsbuild, VM_SWAP: /dev/mapper/vg1-lvobsswap
Creating ext4 filesystem on /dev/mapper/vg0-lvobsbuild
tune2fs 1.42.8 (20-Jun-2013)
Setting maximal mount count to -1
mkswap /dev/mapper/vg1-lvobsswap
Setting up swapspace version 1, size = 4194300 KiB
no label, UUID=935f0e2d-52d7-4013-8a7f-7d48c813a482
logging output to /tmp/obsbuild/.build.log...
</pre>
<p>As you can see, it warn you that you could create a -virtio initrd to use virtio acceleration (who contribute a patch for the typo <img src="https://lizards.opensuse.org/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" /><br />
<br />But the command line is not completely correct in our case. It need the -d to be filled with the lvm buildroot to work as expected. If you successfully create the initrd-virtio you still will face a number of trouble, due to the way mkinitrd work.
</p>
<h2>Defeating the errors</h2>
<p>You remember that we have a fully encrypted volume group, and as a clever tool mkinitrd will feed the initrd with all the tools needed to boot your system.<br />
<br />But that mean it will forget the lv buildroot we ask, and will put unnecessary tools and options.
</p>
<p>Typical errors with a non optimized -virtio initrd</p>
<pre>
[    3s] /usr/bin/qemu-kvm -no-reboot -nographic -vga none -net none -cpu host -kernel /boot/vmlinuz -initrd /boot/initrd-3.13.6-1.g4727218-desktop -append root=/dev/sda panic=1 quiet no-kvmclock nmi_watchdog=0 rw elevator=noop console=ttyS0 init=/.build/build -m 4096 -hda /dev/mapper/vg0-lvobsbuild -drive file=/dev/mapper/vg1-lvobsswap,if=ide,index=1,cache=none -smp 8
[    9s] FATAL: Error inserting nvidia (/lib/modules/3.13.6-1.g4727218-desktop/updates/nvidia.ko): No such device
[    9s]   WARNING: Failed to connect to lvmetad: No such file or directory. Falling back to internal scanning.
[    9s]   Volume group "vg0" not found
[    9s]   WARNING: Failed to connect to lvmetad: No such file or directory. Falling back to internal scanning.
[    9s]   Volume group "vg0" not found
[    9s] *** Note: only US keyboard layout is supported.
[    9s] *** Please ensure that the password is typed correctly.
[   41s] Waiting for device /dev/disk/by-id/ata-Corsair_Force_GT_blah-part2 to appear: ..............................Unlocking cr_sda2 (/dev/disk/by-id/ata-Corsair_Force_GT_blah-part2)
[   41s] Device /dev/disk/by-id/ata-Corsair_Force_GT_blah-part2 doesn't exist or access denied.
[   41s] Trying manual resume from /dev/vg0/lvswap
[   41s] resume device /dev/vg0/lvswap not found (ignoring)
[   41s] Trying manual resume from /dev/vg0/lvswap
[   41s] resume device /dev/vg0/lvswap not found (ignoring)
[   73s] Waiting for device /dev/sda to appear: ..............................Could not find /dev/sda.
[   73s] Want me to fall back to /dev/vg0/lvsuse? (Y/n)
</pre>
<p><b>Rescue</b> you have as root to kill all build process.</p>
<pre>for P in $(ps auxw| grep build | grep -v grep | awk {'print $2'} );do kill $P;done</pre>
<p>
<h2>Find a solution</h2>
<p>We want an optimized -virtio initrd, which filter all the lvm and crypting tools we don&#8217;t need. Also there&#8217;s no need to encumber it with graphic blob.<br />
Then I create a small script I&#8217;ve called patch-initrd-virtio (source below) which exactly do that work anytime I&#8217;ve a kernel change.<br />
As it need to be run by root only, I normally place it in /root/bin/
</p>
<h2>patch-initrd-virtio sources</h2>
<pre>
#!/usr/bin/env bash

# WTF License 1.0 
# Author Bruno Friedmann tigerfoot (at) opensuse.org

# Usage : this script will create an optimized virtio initrd without
# lvm, crypt, gfx tool
# by using the actual /boot/initrd symlink you have.
# Edit the 2 devices you target to use 
# 
DEVBUILD='/dev/vg0/lvobsbuild'
DEVSWAP='/dev/vg1/lvobsswap'

nokms(){
sed -i '/^NO_KMS_IN_INITRD/s/no/yes/' /etc/sysconfig/kernel
}

kms(){
sed -i '/^NO_KMS_IN_INITRD/s/yes/no/' /etc/sysconfig/kernel
}

echo "cleanup /tmp"
rm -fr /tmp/initrd*

# Patch the virtio initrd
if [ -z "$1" ];then
export VER=`uname -r`
else
export VER="$1"
fi
export INITRD="/boot/initrd-$VER-virtio"
echo "Setting nokms"
nokms

echo "Building -virtio initrd ..."
"env" "rootfstype=ext4,resume=$DEVSWAP,rootdev=$DEVBUILD,udevtimeout=2,udev_timeout=2,nosplash,noluks" "mkinitrd" "-B" "-d" "$DEVBUILD" "-m" "ext4 btrfs binfmt_misc virtio_pci virtio_blk" "-k" "/boot/vmlinuz-$VER" "-i" "$INITRD"

ls -l $INITRD

echo "Setting kms"
kms

# copy the *.virtio initrd to /tmp
cp -vfa $INITRD /tmp/initrd-virtio.gz

# ungzip it gzip -d initrd
cd /tmp
mkdir initrd.build
gzip -d initrd-virtio.gz

cd initrd.build

# uncpio cpio -id &lt; ../initrd
cpio -id  ../initrd
rm -fv ../initrd-virtio
echo "rebuilding initrd ..."
find . | cpio --create --format='newc' &gt; ../initrd-virtio
cd ../
echo "Compressing initrd ..."
# Install pigz if you want to save half an hour of your life.
if [ -x /usr/bin/pigz ];then
 pigz -9v initrd-virtio
else
 gzip -9v initrd-virtio
fi
# copy to /boot
cp -v initrd-virtio.gz $INITRD
echo "Done ..."

</pre>
<h2>Usage of patch-initrd-virtio</h2>
<p>Here&#8217;s the result of a run</p>
<pre>
cleanup /tmp
Setting nokms
Building -virtio initrd ...

Kernel image:   /boot/vmlinuz-3.13.6-1.g4727218-desktop
Initrd image:   /boot/initrd-3.13.6-1.g4727218-desktop-virtio
Root device:    /dev/vg0/lvobsbuild (mounted on / as ext4)
Resume device:  /dev/vg0/lvswap
enabling LUKS support for /dev/disk/by-id/ata-Corsair_Force_GT_blah-part2 (cr_sda2)
Microcode: Adding Intel microcode 06-2a-07
Kernel Modules: thermal_sys thermal processor fan libcrc32c xor raid6_pq btrfs binfmt_misc virtio virtio_ring virtio_pci virtio_blk dm-mod dm-crypt dm-log dm-region-hash dm-mirror dm-snapshot scsi_dh scsi_dh_hp_sw scsi_dh_alua scsi_dh_rdac scsi_dh_emc xhci-hcd hid-logitech-dj hid-holtek-kbd hid-lenovo-tpkbd hid-ortek hid-roccat hid-roccat-common hid-roccat-arvo hid-roccat-isku hid-samsung ohci-pci linear arc4 sha256_generic cryptd crct10dif-pclmul crc32-pclmul crc32c-intel ghash-clmulni-intel aes-x86_64 glue_helper gf128mul lrw ablk_helper aesni-intel
Features:       acpi dm intel_microcode block usb lvm2 luks btrfs resume.userspace resume.kernel
Did not refresh the bootloader. You might need to refresh it manually.
-rw------- 1 root root 29338540 Mar 15 18:18 /boot/initrd-3.13.6-1.g4727218-desktop-virtio
Setting kms
‘/boot/initrd-3.13.6-1.g4727218-desktop-virtio’ -&gt; ‘/tmp/initrd-virtio.gz’
160249 blocks
removed ‘./boot/71-luks.sh’
removed ‘./config/luks.sh’
removed ‘../initrd-virtio’
rebuilding initrd ...
160239 blocks
Compressing initrd ...
initrd-virtio to initrd-virtio.gz
‘initrd-virtio.gz’ -&gt; ‘/boot/initrd-3.13.6-1.g4727218-desktop-virtio’
Done ...
</pre>
<h2>Finally start a build with -virtio activated</h2>
<p>So with our new optimized initrd-virtio we can restart a fully qemu-kvm build with osc build &#8211;clean</p>
<pre>
Skipping verification of package signatures due to secure VM build
Writing build configuration
Running build
VM_IMAGE: /dev/mapper/vg0-lvobsbuild, VM_SWAP: /dev/mapper/vg1-lvobsswap
Creating ext4 filesystem on /dev/mapper/vg0-lvobsbuild
tune2fs 1.42.8 (20-Jun-2013)
Setting maximal mount count to -1
mkswap /dev/mapper/vg1-lvobsswap
mkswap: /dev/mapper/vg1-lvobsswap: warning: wiping old swap signature.
Setting up swapspace version 1, size = 4194300 KiB
no label, UUID=c19c873b-2b6c-4200-9575-a60adc581204
logging output to /tmp/obsbuild/.build.log...
[    0s] Using BUILD_ROOT=/tmp/obsbuild/.mount
[    0s] Using BUILD_ARCH=x86_64:i686:i586:i486:i386
[    0s] Doing kvm build in /dev/mapper/vg0-lvobsbuild
[    0s] 
[    0s] 
[    0s] c-3po.labaroche.ioda.net started "build postgresql-plr.spec" at Sat Mar 15 17:27:18 UTC 2014.
[    0s] 
[    0s] 
[    0s] processing specfile /home/bruno/openSUSE/obs/home:bruno_friedmann:branches:openSUSE:12.3:Update/postgresql-plr.openSUSE_12.3_Update/postgresql-plr.spec ...
[    0s] running changelog2spec --target rpm --file /home/bruno/openSUSE/obs/home:bruno_friedmann:branches:openSUSE:12.3:Update/postgresql-plr.openSUSE_12.3_Update/postgresql-plr.spec
[    0s] init_buildsystem --configdir /usr/lib/build/configs --cachedir /var/cache/build --prepare --clean --rpmlist /tmp/rpmlist.Vy31Li /home/bruno/openSUSE/obs/home:bruno_friedmann:branches:openSUSE:12.3:Update/postgresql-plr.openSUSE_12.3_Update/postgresql-plr.spec ...
[    1s] cycle: pam -&gt; permissions -&gt; coreutils
[    1s]   breaking dependency permissions -&gt; coreutils
[    1s] [1/29] preinstalling filesystem...

</pre>
<p>Hope this give you the taste of building!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/15/osc-build-with-kvm-on-an-encrypted-volume-group/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Is my server alive and how good is my connection</title>
		<link>https://lizards.opensuse.org/2014/03/10/is-my-server-alive-and-how-good-is-my-connection/</link>
		<comments>https://lizards.opensuse.org/2014/03/10/is-my-server-alive-and-how-good-is-my-connection/#comments</comments>
		<pubDate>Mon, 10 Mar 2014 07:25:14 +0000</pubDate>
		<dc:creator><![CDATA[Tuukka Pasanen]]></dc:creator>
				<category><![CDATA[lizards.openSUSE.org]]></category>
		<category><![CDATA[Miscellaneous]]></category>
		<category><![CDATA[Network]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[bash]]></category>
		<category><![CDATA[ping]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10639</guid>
		<description><![CDATA[If you have time to setup real solution and need something reliable test Zabbix (http://zabbix.com). Zabbix is wonderful all in one solutions for monitoring network and your hosts (servers). If you are in need of knowing how good you Internet/(W)LAN connections is then things are getting complicated. Case is like this: You have computer and [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>If you have time to setup real solution and need something reliable test Zabbix (<a href="http://zabbix.com" title="Zabbix">http://zabbix.com</a>). Zabbix is wonderful all in one solutions for monitoring network and your hosts (servers). If you are in need of knowing how good you Internet/(W)LAN connections is then things are getting complicated.<span id="more-10639"></span><br />
Case is like this: You have computer and WIFI-card (Wireless Internet card). Most of the time it&#8217;s working great! Speed is high and there is no hick-ups any kind. Out of the blue comes troubles. In other network video is not playing from net or you keep getting connection errors in browser.. so what to do? How to debug this one? It can be that other people are just consuming all the router bandwidth available or there is many WIFI routers in same frequency (be sure to check first all the hardware before getting into software level). If hardware is not the case and you have double checked with normal Wire connection to Internet/LAN then there is definitely something else. With WIFI connection it still can be your grandma’s old beloved 1950 microwave oven (If you on 5Ghz band then you can&#8217;t blame her either)..<br />
So I assume you are on <a href="http://en.wikipedia.org/wiki/TCP/IP" title="TCP/IP">TCP/IP</a>-network if you don&#8217;t know what it is you should first find out and then read the rest of this story.<br />
WIFI-cards have signal strength monitor. I have notice that many times it&#8217;s just a estimation. You can have 100% strength and your connection is next to nothing. Manufacturers tends to make connections look way too better than they are or they make them look even worst than they are.<br />
So how to find out is my connection good or bad? Word of warning in this point: this is just one way to find out and it&#8217;s not very good (for some use cases it is). Way is to use little bit BASH (Bourne Again SHell) and <a href="http://www.wikihow.com/Ping-in-Linux" title="ping">ping-command</a> which is installed in openSUSE default.</p>
<h2>What ping does</h2>
<p>Ping consumes <a href="http://en.wikipedia.org/wiki/Internet_Control_Message_Protocol" title="ICMP">ICMP-protocol</a> which is very low level and I don&#8217;t know is it used for anything anymore these days (correct me if I&#8217;m very wrong) only with ping-command. If Wikipedia is correct ping calculates round-trip so how long takes data to find it&#8217;s way to server and come back (Small tip here! You can use <a href="http://www.computerhope.com/unix/utracero.htm" title="Traceroute">traceroute</a> to see how you packet is finding it&#8217;s way on the Internet and back to you).<br />
So how can I use ping to tell me is my server up? Short answer is simple: &#8216;you can&#8217;t&#8217;. Little bit longer answer: &#8216;Yes you can but it&#8217;s little bit more complicated than you first thought&#8217; and the long version: &#8216;You get information about if your server&#8217;s network card answers to (and most of the time kernel network stack) received ICMP-packet. If there is firewall rule that turns ICMP-packet answer off you are out of luck. Ping doesn&#8217;t tell if your service is up or Apache running correctly and reliable. Remember ping answer can work even if most of user space is smashed down and kernel is malfunctioning (been there done that!)&#8217;.<br />
So what you get it answer from network card and that&#8217;s it. If it&#8217;s enough (99% times it is) keep reading.</p>
<h2>Script</h2>
<p>Show me code you scream and I give it to you and please read comments on code before using. This is edited version from <a href="http://stackoverflow.com/questions/18258364/ping-tool-to-check-if-server-is-online" title="Stackoverflow.com">Stackoverflow.com</a> message script (so nothing original here):</p>
<pre>
#!/bin/bash

echo "Press [CTRL+C] to stop.."

# Make at least 10 pings in one time
COUNT=50
SUCCESS=0
LASTFAIL=NONE
# Change this to Domain name/IP
# or ip you want to monitor
IP=192.168.1.1
FAILS=0

while true
do
        #
        # Ping with interval 0.5s to IP (192.168.1.1)
        # COUNT (50) times
        # after that we just grep 'byte from' from output
        # or ping and them calculate how many we got
        # with wc -l (Lines of output) bacause we drop
        # other from output
        # You can use up (normally) 2000 size (-s) of package
        # to see if it's starts to drop..
        LINES=$(ping -s 1024 -i 0.5 -c ${COUNT} ${IP} | \
                grep "bytes from ${SERVERSERVER}" | wc -l)

        # Calculate how many fails there were
        let FAILS=${COUNT}-${LINES}+${FAILS}
        # Add to success rate
        let SUCCESS=${LINES}+${SUCCESS}

        # If there were error but date to LASTFAIL
        # so if you not every moment looking you can
        # see when this error happened
        if [ ${LINES} -ne ${COUNT} ]; then
             LASTFAIL=$(date)
        fi

        # Ok ping all together failed
        if [ $? -ne 0 ] ; then
          echo "Can't Connect to server ${IP}"
        else
          # Print statistics to screen
          echo "$(date) ${IP} Success: ${LINES} (Tot. F ${FAILS}) \
(Tot. S ${SUCCESS}) (Last F ${LASTFAIL})"
        fi

        # Sleep a while (not consume all the bandwidth)
        sleep 1
done
</pre>
<h2>Output</h2>
<p>Script prints mystical output. Things that matters that Success rate is 50 (or what pinging rate you are using) and Fails are not rising fast. It they are rising fast packets are dropped if you are not getting anything check IP/domain name. With this one you can get ping time. If success level is 50 but ping time is high you network is still very slow but that you have to check with ping-command by hand. Even with 2G mobile modem you should get under 300ms (3G should be like 100ms).<br />
To have any clue about your connection you have make this at least 30 minutes (First ping packets can tell everything but if you want to see whole picture). Actually this is stupid way to find out is your server up but if your WIFI-card  is working everywhere else great you can check are you packets going through. If ICMP-packets are dropping very fast then your TCP/IP packages are dropping very fast and you network stack have to re-send them so you notice that your network is slow (even though it has nothing to do with that). Again it can be route, WIFI-card or firewall problem still.. and ping doesn&#8217;t answer to that question. So this was this days script stuff. If you have better ways to do this.. please share I&#8217;m always interested in this topic.</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/10/is-my-server-alive-and-how-good-is-my-connection/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Network boot live ISO</title>
		<link>https://lizards.opensuse.org/2014/01/29/network-boot-live-iso/</link>
		<comments>https://lizards.opensuse.org/2014/01/29/network-boot-live-iso/#comments</comments>
		<pubDate>Wed, 29 Jan 2014 06:40:12 +0000</pubDate>
		<dc:creator><![CDATA[Jigish Gohil]]></dc:creator>
				<category><![CDATA[Derivative]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Education]]></category>
		<category><![CDATA[Network]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[eduction]]></category>
		<category><![CDATA[howto]]></category>
		<category><![CDATA[li-f-e]]></category>
		<category><![CDATA[LTSP]]></category>
		<category><![CDATA[pxe]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10470</guid>
		<description><![CDATA[The x86_64 edition of openSUSE Education&#8217;s Li-f-e live DVD supports PXE booting the iso over the network, here is how to do it: * Install Li-f-e (Switch to GRUB from Installation Summary page if your hardware does not support EFI boot ), make sure you have plenty of space assigned to / partition(about 20G) * [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>The x86_64 edition of openSUSE Education&#8217;s <a href="http://en.opensuse.org/openSUSE:Education-Li-f-e" title="Li-f-e">Li-f-e</a> live DVD supports PXE booting the iso over the network, here is how to do it:</p>
<p>* Install Li-f-e (Switch to GRUB from Installation Summary page if your hardware does not support EFI boot ), make sure you have plenty of space assigned to / partition(about 20G)<br />
* Set up LTSP by following this <a href="https://en.opensuse.org/SDB:LTSP%20quick%20start%2012.2%20Edu" title="LTSP Quick Start">quick start guide</a><br />
* Create /srv/nfs folder and copy Li-f-e iso there<br />
* Run the following as root in terminal:<br />
<code><br />
mount /srv/nfs/openSUSE-Edu-li-f-e.x86_64-13.1.1.iso /mnt<br />
cp /mnt/boot/x86_64/loader/linux /srv/tftpboot/boot/linux-life64<br />
cp /mnt/boot/x86_64/loader/initrd /srv/tftpboot/boot/initrd-life64<br />
echo "/srv/nfs *(ro,no_root_squash,async,no_subtree_check)" &gt;&gt; /etc/exports<br />
cat &lt;&lt;EOF&gt;&gt; /srv/tftpboot/pxelinux.cfg/default<br />
LABEL Li-f-e<br />
kernel boot/linux-life64<br />
append initrd=boot/initrd-life64 isofrom_device=nfs:10.0.0.254:/srv/nfs/ isofrom_system=/openSUSE-Edu-li-f-e.x86_64-13.1.1.iso nonm<br />
IPAPPEND 2<br />
EOF<br />
chkconfig rpcbind on &amp;&amp; service rpcbind restart<br />
chkconfig nfsserver on &amp;&amp; service nfsserver restart<br />
</code><br />
Now you can PXE boot any machine over the network, select Li-f-e from the end of the boot menu to boot live DVD iso instead of normal LTSP session.</p>
<p>Please note that if you install Li-f-e booted over the network then after the installation  you will need to remove &#8220;nonm&#8221; boot option using yast2 bootloader to get NetworkManager working again.</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/01/29/network-boot-live-iso/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Proprietary AMD/ATI Catalyst fglrx 13.12 (13.251-3) rpm get a new build release</title>
		<link>https://lizards.opensuse.org/2014/01/27/proprietary-amdati-catalyst-fglrx-13-12-13-251-3-rpm-get-a-new-build-release/</link>
		<comments>https://lizards.opensuse.org/2014/01/27/proprietary-amdati-catalyst-fglrx-13-12-13-251-3-rpm-get-a-new-build-release/#comments</comments>
		<pubDate>Mon, 27 Jan 2014 15:08:39 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Desktop]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[GNOME]]></category>
		<category><![CDATA[KDE]]></category>
		<category><![CDATA[Kernel]]></category>
		<category><![CDATA[X.org]]></category>
		<category><![CDATA[11.4]]></category>
		<category><![CDATA[12.1]]></category>
		<category><![CDATA[12.2]]></category>
		<category><![CDATA[12.3]]></category>
		<category><![CDATA[13.1]]></category>
		<category><![CDATA[amd]]></category>
		<category><![CDATA[ATI]]></category>
		<category><![CDATA[fglrx]]></category>
		<category><![CDATA[xorg]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10464</guid>
		<description><![CDATA[Just a small note about a new build (-3) of the 13.251 fglrx version. Changelog AMD has changed /etc/ati/amdpcsdb.default database in its tarball The packages have just been published on geeko.ioda.net, so next time you zypper up the new build should appear as a proposed update Notice This release concern only owners of radeon HD5xxx [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Just a small note about a new build (-3) of the 13.251 fglrx version.</p>
<h3>Changelog</h3>
<p>AMD has changed /etc/ati/amdpcsdb.default database in its tarball</p>
<p>The packages have just been published on geeko.ioda.net, so next time you zypper up the new build should appear as a proposed update</p>
<h3>Notice</h3>
<p>This release concern only owners of radeon HD5xxx or above.<br />
For older gpu, the fglrx-legacy is still 13.1, and thus didn&#8217;t work with openSUSE 12.3 or above.<br />
<a href="http://en.opensuse.org/SDB:AMD_fglrx_legacy">SDB:AMD_fgrlx_legacy</a><br />
Beware of that, and prefer the free open-source radeon driver which came out of the box from your openSUSE distribution.<br />
For 12.3 and especially 13.1 the free radeon often offer a better experience than the old fglrx-legacy.
</p>
<p>Have fun!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/01/27/proprietary-amdati-catalyst-fglrx-13-12-13-251-3-rpm-get-a-new-build-release/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>Beta Proprietary AMD/ATI fglrx 13.11 betaV9.95 Catalyst 13.25.18-3 rpm released</title>
		<link>https://lizards.opensuse.org/2014/01/27/beta-proprietary-amdati-fglrx-13-11-betav9-95-catalyst-13-25-18-3-rpm-released/</link>
		<comments>https://lizards.opensuse.org/2014/01/27/beta-proprietary-amdati-fglrx-13-11-betav9-95-catalyst-13-25-18-3-rpm-released/#comments</comments>
		<pubDate>Mon, 27 Jan 2014 14:48:04 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Desktop]]></category>
		<category><![CDATA[GNOME]]></category>
		<category><![CDATA[KDE]]></category>
		<category><![CDATA[Kernel]]></category>
		<category><![CDATA[11.4]]></category>
		<category><![CDATA[12.1]]></category>
		<category><![CDATA[12.2]]></category>
		<category><![CDATA[12.3]]></category>
		<category><![CDATA[13.1]]></category>
		<category><![CDATA[amd]]></category>
		<category><![CDATA[ATI]]></category>
		<category><![CDATA[Beta]]></category>
		<category><![CDATA[fglrx]]></category>
		<category><![CDATA[xorg]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10466</guid>
		<description><![CDATA[Beta Proprietary AMD/ATI Catalyst fglrx 13.11 (13.25.18-3) rpm get a new release Just a small note about a new build (-3) of the 13.251 fglrx version. Changelog On AMD website : Release note Adds support for Steam OS The packages will be published in a few minutes on geeko.ioda.net/mirror/amd-fglrx-beta, so next time you zypper up [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>Beta Proprietary AMD/ATI Catalyst fglrx 13.11 (13.25.18-3) rpm get a new release</h2>
<p>Just a small note about a new build (-3) of the 13.251 fglrx version.</p>
<h3>Changelog</h3>
<p>On AMD website : <a href="http://support.amd.com/en-us/kb-articles/Pages/Latest-LINUX-Beta-Driver.aspx" title="realease note">Release note</a></p>
<p>Adds support for Steam OS</p>
<p>The packages will be published in a few minutes on geeko.ioda.net/mirror/amd-fglrx-beta, so next time you zypper up the new build should appear as a proposed update, if you use the beta repository (not recommended).</p>
<h3>Notice</h3>
<p>This release concern only owners of radeon HD5xxx or above. And is <b>BETA</b>.<br />
For older gpu, the fglrx-legacy is still 13.1, and thus didn&#8217;t work with openSUSE 12.3 or above.<br />
<a href="http://en.opensuse.org/SDB:AMD_fglrx_legacy">SDB:AMD_fgrlx_legacy</a><br />
Beware of that, and prefer the free open-source radeon driver which came out of the box from your openSUSE distribution.<br />
For 12.3 and especially 13.1 the free radeon often offer a better experience than the old fglrx-legacy.
</p>
<p>Have fun!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/01/27/beta-proprietary-amdati-fglrx-13-11-betav9-95-catalyst-13-25-18-3-rpm-released/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>How to destroy your data from harddisk permamently?</title>
		<link>https://lizards.opensuse.org/2014/01/24/how-to-destroy-your-data-from-harddisk-permamently/</link>
		<comments>https://lizards.opensuse.org/2014/01/24/how-to-destroy-your-data-from-harddisk-permamently/#comments</comments>
		<pubDate>Fri, 24 Jan 2014 12:02:10 +0000</pubDate>
		<dc:creator><![CDATA[Tuukka Pasanen]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Education]]></category>
		<category><![CDATA[lizards.openSUSE.org]]></category>
		<category><![CDATA[Miscellaneous]]></category>
		<category><![CDATA[DBAN]]></category>
		<category><![CDATA[DWipe]]></category>
		<category><![CDATA[Nwipe]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10448</guid>
		<description><![CDATA[First warning and please read it: If you wipe your harddisk, USB-stick or Flash with any of these tips. Your data won&#8217;t magically come back! After correct &#8216;secure rm&#8217; or &#8216;NWipe&#8217; there way is no way to bring your valuable data back. Make backups and happy wiping! Destroying data permanently from hard disk is not [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><strong>First warning and please read it: If you wipe your harddisk, USB-stick or Flash with any of these tips. Your data won&#8217;t magically come back! After correct &#8216;secure rm&#8217; or &#8216;NWipe&#8217; there way is no way to bring your valuable data back. Make backups and happy wiping!<br />
</strong><br />
Destroying data permanently from hard disk is not as easy as you think. Sometime hard disks just self destructs without notice but when there is police behind you door knocking and you have destroy as much data as you can it&#8217;s little bit trickier. Even normal cases when there ain&#8217;t police at door and you just want to make sure that your old hard disk is clean and it doesn&#8217;t contain your personal data it&#8217;s a bit of a problem.<span id="more-10448"></span><br />
Removing with GUIs delete most times just sends files to Trash bin where they can be read normally. Same goes with deleting them permanently. It just tells to filesystem this part of hard disk is up for usage again. It takes many writes in that part of hard disk before it&#8217;s safe to say you can&#8217;t recover any of old data. So if you just accidentally deleted file and popped up here there is still hope but I won&#8217;t tell how to bring it back.<br />
One method for remove files permanently is use <a href="http://srm.sourceforge.net/" title="Secure rm">secure rm</a> (srm for short). It&#8217;s not fastest way to remove files but after running srm no-one can read your file again and like I say on topic <em>there is no way to bring file back!</em>. Secure rm is nice but it doesn&#8217;t wipe your hard disk entirely.</p>
<h2>DBAN</h2>
<p>If you needed hard disk wiping &#8216;<a href="http://www.dban.org/" title="DBAN">Darik&#8217;s Boot And Nuke</a> A.K.A DBAN&#8217; is tool for you. Currently it&#8217;s obtained by Finnish firm that uses same stuff <a href="http://www.blancco.com/en/home/" title="Blancco">so if you are need of professional supported stuff go and ask them</a>. If you are just need for tool for wiping hard disk data go, download and burn latest DBAN image. it&#8217;s easy to use and it will destroy data. Again data is gone after DBAN has runned with default configs so really make backups! <a href="http://www.youtube.com/watch?v=K9jfLDrm2Q0" title="Learn to use DBAN">This is video how to make it with DBAN.</a> If you not pro watch it fully before making any moves.</p>
<h2>I don&#8217;t want to burn anything to CDR</h2>
<p>Okay you are in that mood. Many of new laptop doesn&#8217;t contain CD-drive anymore so what to do. Here is my tip for you. <a href="http://en.opensuse.org/SDB:Live_USB_stick" title="openSUSE USB Stick">Create bootable USB stick</a> (read whole thing before doing anything). After you have managed to boot your new shiny openSUSE USB-stick install <a href="http://www.andybev.com/index.php/Nwipe" title="NWipe">NWipe</a>. NWipe is fork of DBAN DWipe that does actual wiping that is ported to work without <a href="http://en.wikipedia.org/wiki/Device_file" title="What are devices and DevFS">devfs</a> (which is obsolette anyways). Install it <a href="http://download.opensuse.org/repositories/home:/illuusio/" title="NWipe rpm">from here</a> with zypper (something like </p>
<pre>
zypper install <a href="http://download.opensuse.org/repositories/home:/illuusio/openSUSE_13.1/x86_64/nwipe-0.14-3.1.x86_64.rpm" title="Link to rpm">http://download.opensuse.org/repositories/home:/illuusio/openSUSE_13.1/x86_64/nwipe-0.14-3.1.x86_64.rpm</a>
</pre>
<p>) after that run &#8216;nwipe&#8217; application and make sure that you won&#8217;t clean your USB stick.<br />
After you have chose your partitions and way you want it to be done (I use American army stuff in for wiping but does NSA have some backdoor in those? I don&#8217;t know..) go a head and make your hard disk and processor suffer. <strong>Again once more bit FAT WARNING. If you want to make small joke for your dad or cause anyone hard attack just destroy hard disk for fun there ain&#8217;t coming back (hope you have backups!).</strong> Your partition table is gone same goes with filesystem. No more seeking files with hex editor or dedicated applications. Your files are just random bytes in hard disk.<br />
and like openSUSE slogan is have a lots of fun when you wipe your disks!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/01/24/how-to-destroy-your-data-from-harddisk-permamently/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Unterstanding the nvidia driver process</title>
		<link>https://lizards.opensuse.org/2014/01/15/unterstanding-the-nvidia-driver-process/</link>
		<comments>https://lizards.opensuse.org/2014/01/15/unterstanding-the-nvidia-driver-process/#comments</comments>
		<pubDate>Wed, 15 Jan 2014 15:59:59 +0000</pubDate>
		<dc:creator><![CDATA[calumma]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Boosters]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Packaging]]></category>
		<category><![CDATA[Toolchain]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10402</guid>
		<description><![CDATA[The NVIDIA drivers for openSUSE 13.1 took a while to appear. Many users have asked why this was and we&#8217;d like to explain what happened and what we plan to do to prevent this in the future. This post was written with input from the openSUSE developers who maintain these drivers at SUSE and work [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><a href="http://www.muktware.com/2013/12/nvidia-drivers-now-available-opensuse-13-1/17381"><img src="//lizards.opensuse.org/wp-content/uploads/2014/01/Nvidia-300x168.jpg" alt="Nvidia pic from Muktware" width="300" height="168" class="alignright size-medium wp-image-10405" /></a><br />
The NVIDIA drivers for openSUSE 13.1 took a while to appear. Many users have asked why this was and we&#8217;d like to explain what happened and what we plan to do to prevent this in the future. This post was written with input from the openSUSE developers who maintain these drivers at SUSE and work with NVIDIA to make them available for our users.</p>
<h2>How it should work</h2>
<p>Legally, the Linux kernel GPLv2 license leaves proprietary binary drivers in a bit of a tangle. While some claim it should be OK, others say not &#8211; and that is what most distributions currently assume: one can not ship a Linux distribution with proprietary, binary drivers. NVIDIA has agreed that our users can grab their drivers from the official NVIDIA servers. They are packaged by SUSE engineers however. They take care of both SLE and openSUSE proprietary driver packaging for NVIDIA hardware, and have contacts at NVIDIA who get the drivers up on their ftp mirrors.<br />
<a href="http://opensuse-community.org/nvidia.ymp"><img src="//lizards.opensuse.org/wp-content/uploads/2014/01/Nvidia-1click.png" alt="Nvidia-1click" width="160" height="40" class="alignright size-full wp-image-10406" /></a><br />
The packages are build on a dedicated system, but the package spec (skeleton for building) is in OBS &#8211; for example, <a href="https://build.opensuse.org/package/show/X11:Drivers:Video/nvidia-gfxG03">G03 is here</a>. Anybody could use these to build the nvidia driver locally (the nvidia binary driver is grabbed from the nvidia driver during building). The command sequence for local building can be found in <a href="https://build.opensuse.org/package/view_file/X11:Drivers:Video/nvidia-gfxG03/README?expand=1">the README</a>.</p>
<p>Once the packages are build, they are send to NVIDIA, which signs the packages with their key and generates and signs repositories, making them available to the public.</p>
<p>To note is the fact that this is all manual and takes a while on NVIDIA&#8217;s side (and ours). This of course is part of the reason why we don&#8217;t offer NVIDIA packages for Factory, our fast-rolling development repository.</p>
<h2>What happened</h2>
<p>What occurred for 13.1 is a typical case of &#8220;everything went wrong&#8221;.</p>
<p>Up until a few weeks before the release, the driver did not build against the Linux Kernel version 3.11. NVIDIA warned against the use of a patch for this problem created by third parties so the driver team did not have a running build. Due to a holiday, it took a while to get the packages build and pushed to NVIDIA. Unfortunately, by the time this was done, the holiday period at NVIDIA blocked progress for another week. Once the package was signed, it took the webteam at NVIDIA another week to get the repository published. It all added up to almost a month and brought quite some inconvenience for users eager to use their latest NVIDIA cards with the latest openSUSE.</p>
<p>About a week later, the openSUSE 13.1 NVIDIA drivers disappeared again from the nvidia servers for a day or so. We don&#8217;t know exactly what happened there, it might have simply been a server issue.</p>
<h2>What we will do</h2>
<p>The first and  most obvious thing to change would be to improve coordination. The developers taking care of the NVIDIA packages should be made aware as early as possible about the release planning and a replacement in case for holidays should be available. We noted this in our 13.1 release report and will make sure that there will be a <a href="http://progress.opensuse.org">task in our task tracker</a> for this for the next release. We also need to talk to NVIDIA about this to make sure that there, too, somebody can fill in for SUSE&#8217;s contacts.</p>
<p>But there are also thoughts on how to improve further. Some of the current ideas:</p>
<ul>
<li>To get drivers for Factory the process needs more automation as the driver may break on kernel or X changes</li>
<li>We could try to open the process and work with community members to secure the process in case the SUSE folks are unavailalbe</li>
<li>It would be nice if we could make NVidia to see benefit of working more on the driver in openSUSE, e.g. by doing some testing</li>
<li>We could write some scripts that check regularly whether repo and packages are still available and in a valid state (meta data matches available RPMs)</li>
</ul>
<p>We&#8217;ll have to see which of these we can implement, when and how. But rest assured that we will do what we can to prevent this in the future!</p>
<p><img src="//lizards.opensuse.org/wp-content/uploads/2013/06/statistics-inside-212x300.png" alt="statistics with Geeko inside" width="212" height="300" class="alignright size-medium wp-image-9572" /><br />
<h2>And the stats!</h2>
<p>After a bit of a hiatus, we&#8217;re back with the numbers. Development has slowed down around new year and isn&#8217;t back to speed yet so the 10th spot is shared by quite a big group of people&#8230;</p>
<p><!--<br />
BODY,DIV,TABLE,THEAD,TBODY,TFOOT,TR,TH,TD,P { font-family:"Liberation Sans"; font-size:x-small }<br />
--></p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td align="LEFT" height="16">Spot</td>
<td align="LEFT">Name</td>
</tr>
<tr>
<td align="RIGHT" height="17">1</td>
<td align="LEFT">Stephan Kulow</td>
</tr>
<tr>
<td align="RIGHT" height="17">2</td>
<td align="LEFT">Denisart Benjamin</td>
</tr>
<tr>
<td align="RIGHT" height="17">3</td>
<td align="LEFT">Tomáš Chvátal, Dirk Mueller, Michal Vyskocil</td>
</tr>
<tr>
<td align="RIGHT" height="17">4</td>
<td align="LEFT">Hrvoje Senjan</td>
</tr>
<tr>
<td align="RIGHT" height="17">5</td>
<td align="LEFT">Ciaran Farrell</td>
</tr>
<tr>
<td align="RIGHT" height="17">6</td>
<td align="LEFT">Petr Gajdos</td>
</tr>
<tr>
<td align="RIGHT" height="17">7</td>
<td align="LEFT">Lars Vogdt, Pascal Bleser</td>
</tr>
<tr>
<td align="RIGHT" height="17">8</td>
<td align="LEFT">Jan Engelhardt, Charles Arnold</td>
</tr>
<tr>
<td align="RIGHT" height="17">9</td>
<td align="LEFT">Andreas Stieger, Michal Marek, Niels Abspoel, Kyrill Detinov</td>
</tr>
<tr>
<td align="RIGHT" height="17">10</td>
<td align="LEFT">Dinar Valeev, Bjørn Lie, Ulrich Weigand, Tobias Klausmann, Marcus Meissner, Alexander Graf, Robert Schweikert, Martin Vidner</td>
</tr>
</tbody>
</table>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/01/15/unterstanding-the-nvidia-driver-process/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Proprietary AMD/ATI fglrx 13.251-1 Catalyst 13.12 rpm finally released</title>
		<link>https://lizards.opensuse.org/2013/12/21/proprietary-amdati-fglrx-13-251-1-catalyst-13-12-rpm-finally-released/</link>
		<comments>https://lizards.opensuse.org/2013/12/21/proprietary-amdati-fglrx-13-251-1-catalyst-13-12-rpm-finally-released/#comments</comments>
		<pubDate>Sat, 21 Dec 2013 17:39:01 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Desktop]]></category>
		<category><![CDATA[Kernel]]></category>
		<category><![CDATA[X.org]]></category>
		<category><![CDATA[11.4]]></category>
		<category><![CDATA[12.1]]></category>
		<category><![CDATA[12.2]]></category>
		<category><![CDATA[12.3]]></category>
		<category><![CDATA[amd]]></category>
		<category><![CDATA[ATI]]></category>
		<category><![CDATA[fglrx]]></category>
		<category><![CDATA[xorg]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10367</guid>
		<description><![CDATA[Proprietary AMD/ATI Catalyst fglrx 13.12 (13.251-1) rpm released Patience is a virtue, months of it and finally we got a proof that Santa Claus exist This release allow me to wish you a Merry Christmas! Notice This release concern only owners of radeon HD5xxx or above. For older gpu, the fglrx-legacy is still 13.1, and [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>Proprietary AMD/ATI Catalyst fglrx 13.12 (13.251-1) rpm released</h2>
<p><div id="attachment_10366" style="width: 160px" class="wp-caption alignleft"><a href="//lizards.opensuse.org/wp-content/uploads/2013/12/gekjoxmas01-SNOW.gif"><img src="//lizards.opensuse.org/wp-content/uploads/2013/12/gekjoxmas01-SNOW-150x150.gif" alt="Geeko Santa Claus - Crédits Carlos Ribeiro" width="150" height="150" class="size-thumbnail wp-image-10366" /></a><p class="wp-caption-text">Geeko Santa Claus &#8211; Crédits Carlos Ribeiro</p></div>
<p>Patience is a virtue, months of it and finally we got a proof that Santa Claus exist <img src="https://lizards.opensuse.org/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" /><br />
This release allow me to wish you a Merry Christmas!
</p>
<h3>Notice</h3>
<p>This release concern only owners of radeon HD5xxx or above.<br />
For older gpu, the fglrx-legacy is still 13.1, and thus didn&#8217;t work with openSUSE 12.3 or above.<br />
<a href="http://en.opensuse.org/SDB:AMD_fglrx_legacy">SDB:AMD_fgrlx_legacy</a><br />
Beware of that, and prefer the free open-source radeon driver which came out of the box from your openSUSE distribution.<br />
For 12.3 and especially 13.1 the free radeon often offer a better experience than the old fglrx-legacy.
</p>
<h4>Changing the signer of package</h4>
<p>I&#8217;ve done a change with which key used for signing the package and repository. So you will need to trust the new key for the repository</p>
<pre>
zypper ref -f -r amd-fglrx
Forcing raw metadata refresh
Retrieving repository 'amd-fglrx' metadata ---------------------------------------------------------------------------------------------------------------------------------------------[\]

New repository or package signing key received:
Key ID: 484F703065BE584C
Key Name: builder Ioda-Net (Building and signing packages build at Ioda-Net) 
Key Fingerprint: 80D079EBFB1AB0FEE3CA41E6484F703065BE584C
Key Created: lun 30 jui 2012 15:27:35 CEST
Key Expires: sam 29 jui 2017 15:27:35 CEST
Repository: amd-fglrx

Do you want to reject the key, trust temporarily, or trust always? [r/t/a/? shows all options] (r): a
</pre>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2013/12/fglrx-13.12-capture01.jpg"><img src="//lizards.opensuse.org/wp-content/uploads/2013/12/fglrx-13.12-capture01-150x150.jpg" alt="fglrx-13.12-capture01" width="150" height="150" class="alignright size-thumbnail wp-image-10371" /></a><br />
<h4>Help for spreading the word</h4>
<p>Dear fellow I&#8217;m counting on you to spread the word, in the different social media you&#8217;re subscribed, and also on Mailing list, forums.<br />
Feel free also to translate it into your native language
</p>
<h3>Release note about 13.12</h3>
<p>
This Catalyst fglrx version support openSUSE version from 11.4 to 13.1 and also Tumbleweed (thus also kernel 3.12/13 series).<br />
A special thanks to Sebastian Siebert for his effort on making this driver working under openSUSE.
</p>
<p>If a kind German geeko can take the time to translate his article, put the result in comments below, you will understand that getting it working,<br />
is not just Fun.</p>
<h4>Notice for users of the -beta repository</h4>
<p>If you previously used the fglrx drivers using the -beta created for fglrx 13.11, you could not switch back the url of the repository to the standard one.<br />
The beta will contain now outdated driver until AMD release a new one.<br />
If you were using the normal repository the update should appear directly
</p>
<pre>To change the url if your repository is called FGLRX
zypper mr -n FLGRX http://geeko.ioda.net/mirror/amd-fglrx/openSUSE_13.1
</pre>
<h3>Tumbleweed</h3>
<p>For tumbleweed due to the change of openSUSE version from 12.3 to 13.1, you will certainly have remove the old package and install the new one.</p>
<pre>
zypper rm fglrx64_xpic_SUSE123

zypper in fglrx64_xpic_SUSE131
[snipped par of installation]
Calling 'depmod -a 3.12.5-3.g48b587a-desktop' this may take a while...

Summary report:
================================================================================

   Kernel     =&gt; 3.12.5-3.g48b587a-desktop
   Detected   =&gt; RPM package
   Build      =&gt; [ OK ]
   Install    =&gt; [ OK ]

*************************************************************
Please read "/usr/share/doc/packages/fglrx/README.SuSE" for
configuration details when using SaX2.
*************************************************************
...
</pre>
<h4>Release Note</h4>
<p>A release note is available on <a href="http://support.amd.com/en-us/kb-articles/Pages/amdcatalyst13-12linreleasenotes.aspx">AMD website</a></p>
<pre>Fixed issues

    [384861]: Ultra slow dota2 fps
    [383176]: System hang when startx after enable Eyefinity
    [383109]: System hang when run Unigine Heaven 4.0
    [382494]: Screen corruption when run C4Engine with GL_ARB_texture_array enabled
    [384193]: Fix the procfs permission issue on kernel 3.10 and later
    [373812]: System hang when run some OpenGL stress test
    [383430]: Glxtest failed with force AA
    [383372]: Fail to launch cairo-dock
    [384509]: glClientWaitSync is waiting even when timeout is 0
    [383573]: AC/DC switching is broken
    [384194]: Tear-Free Desktop sets V-Sync to 30Hz instead of 60Hz
    [385123]: CrossFire aspect observed in CCCLE where it should not
    [385414]: Steam crashes and games hang on a black screen when Force AA is on
    [387027]: Glxtest failed on SLED11 SP3
    [382079]: MARI crash with weird stack
    [387797]: X crash when kill X with Xserver 1.13 and 1.14
    [389431]: Screens are distorted when connecting an external monitor on some PowerXpress platform with Intel Haswell
    [389728]: Segfault after disabling display on re-launch of CCCLE
    [387573]: Soft hang and error observed on BasicDebug sample for OpenCL when run on x86
    [385704]: Black window when run glxgears with TWM
    [376115]: Display corruption when using rotation

</pre>
<pre> Known Bugs
	
</pre>
<p><span id="more-10367"></span><br />
<a href="//lizards.opensuse.org/wp-content/uploads/2013/12/fglrx-13.12-capture02.jpg"><img src="//lizards.opensuse.org/wp-content/uploads/2013/12/fglrx-13.12-capture02-300x187.jpg" alt="fglrx-13.12-capture02" width="300" height="187" class="aligncenter size-medium wp-image-10372" /></a></p>
<h4>Sebastien Siebert making script</h4>
<p style="clear:both"><a href="http://www.sebastian-siebert.de/2013/12/21/opensuse-proprietaeren-grafik-treiber-amd-catalyst-13-12-als-rpm-installieren/">Sebastian Siebert post about 13.12</a></p>
<p>If you have any problems with the driver, don&#8217;t be afraid to report to Sebastian (German and English bug report are gladly accepted).<br />
he will try, as far as I am able to reproduce the bug. Together with the necessary system information, he will go directly to the right place at AMD to have the bug fixed in the next driver release.<br />
Thank you very much, Sebastian.
</p>
<p>See below what to do in case of troubles.</p>
<p>Or you can also ping him on irc (freespacer)</p>
<h4>Debugging troubles</h4>
<p>I recommend in case of trouble the use of <a href="http://www.sebastian-siebert.de/downloads/makerpm-amd-13.12.sh">his script</a> which can collect the whole information needed to help you. then you just have to issue a simple command in console to collect all information, you can review them, and finally transmit them.<br />
Check the website to get the latest.
</p>
<pre>su -c 'sh makerpm-amd-13.12.sh -ur'
The system report 'amd-report.txt' was generated.                                                                                                          [ OK ]
Do you want to read the system report 'amd-report.txt' now? yes/no [y/n]: y
Are you sure to upload the above-named system report to sprunge.us? yes/no [y/n]: y

The report was uploaded to sprunge.us.
   The link is:  <a href="http://sprunge.us/eMEB">http://sprunge.us/eMEB</a>
</pre>
<p>Copy paste the link in the comment zone of Sebastian post</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2013/12/fglrx-13.12-capture04.jpg"><img src="//lizards.opensuse.org/wp-content/uploads/2013/12/fglrx-13.12-capture04-300x187.jpg" alt="fglrx-13.12-capture04" width="300" height="187" class="aligncenter size-medium wp-image-10373" /></a></p>
<h2>Mirror Statistics</h2>
<h3>Total Statistics</h3>
<div style="width:90%">
<table style="text-align:right">
<thead>
<tr style="text-align:center">
<th width="80" bgcolor="#ECECEC">Month</th>
<th width="80" bgcolor="#FFAA66">Unique visitors</th>
<th width="80" bgcolor="#F4F090">Number of visits</th>
<th width="80" bgcolor="#4477DD">Pages</th>
<th width="80" bgcolor="#66DDEE">Hits</th>
<th width="80" bgcolor="#2EA495">Bandwidth</th>
</tr>
</thead>
<tbody>
<tr>
<td>2011</td>
<td>195167</td>
<td>537369</td>
<td>10079455</td>
<td>10368992</td>
<td>1,582.25 GB</td>
</tr>
<tr>
<td>2012</td>
<td>804092</td>
<td>2014942</td>
<td>59263029</td>
<td>59656068</td>
<td>4,390.50 GB</td>
</tr>
<tr>
<td>2013</td>
<td>570673</td>
<td>1834450</td>
<td>28668353</td>
<td>29384556</td>
<td>6,378.90 GB</td>
</tr>
<tr style="background-color:#ECECEC">
<td>Total</td>
<td>1 569 932</td>
<td>4 386 761</td>
<td>98 010 837</td>
<td>99 409 616</td>
<td>12,351.65 GB</td>
</tr>
</tbody>
</table>
</div>
<p>All proudly distributed by openSUSE powered server and sponsored by <a href="http://www.ioda-net.ch">Ioda-Net Sàrl</a></p>
<p>Merry Christmas &amp; Have Fun!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2013/12/21/proprietary-amdati-fglrx-13-251-1-catalyst-13-12-rpm-finally-released/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
	</channel>
</rss>
