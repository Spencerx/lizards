<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Usability &#8211; openSUSE Lizards</title>
	<atom:link href="https://lizards.opensuse.org/category/usability/feed/" rel="self" type="application/rss+xml" />
	<link>https://lizards.opensuse.org</link>
	<description>Blogs and Ramblings of the openSUSE Members</description>
	<lastBuildDate>Fri, 06 Mar 2020 11:29:40 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.7.5</generator>
	<item>
		<title>Highlights of YaST Development Sprint 69 &#038; 70</title>
		<link>https://lizards.opensuse.org/2019/01/31/highlights-of-yast-development-sprint-6970/</link>
		<comments>https://lizards.opensuse.org/2019/01/31/highlights-of-yast-development-sprint-6970/#comments</comments>
		<pubDate>Thu, 31 Jan 2019 14:31:02 +0000</pubDate>
		<dc:creator><![CDATA[Yast Team]]></dc:creator>
				<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Factory]]></category>
		<category><![CDATA[Network]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>
		<category><![CDATA[YaST]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=13553</guid>
		<description><![CDATA[Almost two months has passed since our last sprint report but, except during the Christmas break, the team has been quite busy working on some features and bugfixes for the upcoming (open)SUSE releases. But a post describing all that we have done would be quite long :), so let&#8217;s try to highlight a few of [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Almost two months has passed since our <a href="https://lizards.opensuse.org/2018/12/04/highlights-of-yast-development-sprint-68/">last sprint report</a> but, except during the Christmas break, the team has been quite busy working on some features and bugfixes for the upcoming (open)SUSE releases.</p>
<p>But a post describing all that we have done would be quite long :), so let&#8217;s try to highlight a few of them.</p>
<ul>
<li>YaST got a security audit and, although no real security problems were found, we were asked to introduce some improvements.</li>
<li>Now it is possible to run the installer through PXE Boot without any local repository. Pretty specific but cool stuff!</li>
<li>We are in the process of revamping SUSE Manager Salt Formulas support in the YaST2 Configuration Management module. Do not be fooled by the name, it is not limited to SUSE Manager.</li>
<li>YaST icons are now included in the package were they are used. We hope it will make things easier for icon designers.</li>
<li>The Firewall module got support for creating <a href="https://firewalld.org/">firewalld</a> custom zones.</li>
<li>Performance when reading huge <tt>/etc/hosts</tt> files has been greatly improved.</li>
<li>CD/DVD sources are always disabled after installation.</li>
</ul>
<h2 id="yast-security-hardening">YaST Security Hardening</h2>
<p>Our SUSE security team did a security audit for YaST. The good news is that there were no real security problems that you should be concerned about. Still, we did some hardening to make the code even more secure.</p>
<p>This might have caused some breakages in Factory / Tumbleweed because many places in the code were touched. We apologize for any inconveniences that might have caused; but we are sure you prefer YaST to be more secure.</p>
<p>Most changes were centered around calling external commands, which YaST does a lot. Since YaST is running with root permissions in most cases, we want to make sure that this is as secure as possible. If you find any problems with it, please write bug reports.</p>
<p>What exactly we did and how we did it is summarized here: <a href="https://github.com/yast/yast.github.io/issues/172">YaST Security Audit Fixes: Lessons Learned and Reminder</a></p>
<h2 id="installing-via-pxe-boot-without-any-installation-repository">Installing via PXE Boot without any Installation Repository</h2>
<p>In data centers and other big-scale enterprise environments, administrators rarely install new software via removable media such as DVDs. Instead, administrators rely on <a href="https://en.wikipedia.org/wiki/Preboot_Execution_Environment">PXE (Preboot eXecution Environment)</a> booting to image servers.</p>
<p>Installing Linux Enterprise in such environments typically requires two auxiliary servers in the local network:</p>
<ul>
<li>The DHCP/TFTP server providing the minimal system used by PXE to execute the installer.</li>
<li>A server making the SLE DVD repository accessible in the local network via FTP, HTTP or any similar protocol.</li>
</ul>
<p>Very often, the second one is more a requisite imposed by the installer than something really useful. In most cases, the system been installed will be registered in the <a href="https://scc.suse.com">SUSE Customer Center</a> (or any of its proxy technologies like SMT or RMT) and will get all the software from there. Thus, we decided to save the administrators the extra steps of downloading the SLE ISO image and setting up an install server to serve the content of that ISO, for cases in which that was really not needed.</p>
<p>But the repositories are not only used to get the software been installed in the final system. As explained often in this blog, we have a single installer for all the products and flavors of SUSE and openSUSE, as different as the installation process looks for all of them. That generic installer uses the information in the installation repository to get its own configuration. That includes the available products (and its corresponding system roles), the steps and options to present to the user, the desired partitioning setup and many other aspects. Without that information, the installer is basically a musician without his score.</p>
<p>Starting with SLE-15-SP1, it will be possible to use the boot parameter <code>NOREPO=1</code> to tell the installer to not expect (and more important, to not require) any local repository in the DVD or in the local network. In that case, the installer will be able to proceed up to the registration screen and get the information for the upcoming steps of the installation from the registration server. In the openSUSE case (where registration makes no sense), it will be able to reach the screen that allows to add more repositories.</p>
<p>Another step (and certainly not an easy one) to improve the installation experience for our users. Data center administrators, enjoy! <img src="https://s.w.org/images/core/emoji/2.2.1/72x72/1f642.png" alt="&#x1f642;" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<h2 id="revamping-salt-formulas-forms-support">Revamping SUSE Manager Salt Formulas Support</h2>
<p>Back in 2017, the <a href="https://github.com/yast/yast-configuration-management/">YaST Configuration Management</a> module got support to handle SUSE Manager Salt Formulas as part of <a href="https://hackweek.suse.com/15/projects/yast-module-for-suse-manager-salt-parametrizable-formulas">a Hack Week project</a>. If you do not know what this feature is about, you might be interested in checking the <a href="https://www.suse.com/communities/blog/forms-formula-success/">Forms are the Formula for Success</a> presentation or the Hack Week project <a href="https://imobachgs.github.io/yast/2017/03/01/yast2-cm-gets-support-for-salt-parametrizable-formulas.html">follow-up post</a>.</p>
<p>Since then, the forms specification has evolved quite a lot and YaST support was basically outdated. So on November 2018 we started to work in order to bring the missing pieces to the YaST module. Basically, we rewrote the forms support and, although there are still rough edges, we are pretty close to release a new version with up-to-date support for this powerful feature.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2019/01/yast2-configuration-management.png"><img src="//lizards.opensuse.org/wp-content/uploads/2019/01/yast2-configuration-management-300x225.png" alt="Screenshot of how the dhcpd formula looks like" width="300" height="225" class="aligncenter size-medium wp-image-13565" srcset="https://lizards.opensuse.org/wp-content/uploads/2019/01/yast2-configuration-management-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2019/01/yast2-configuration-management-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2019/01/yast2-configuration-management.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h2 id="managing-custom-zones-definitions-in-yast-firewall">Managing Custom Zones Definitions in YaST Firewall</h2>
<p>The new YaST UI for configuring <code>firewalld</code> was announced in <a href="https://lizards.opensuse.org/2018/10/01/yast-sprint-63/">the report of the sprint #63</a> (four months ago&#8230; time flies!) and, since then, we have continued improving it.</p>
<p><code>firewalld</code> ships with some predefined <a href="https://firewalld.org/documentation/man-pages/firewalld.zones.html">zones</a>. Although it covers most users needs, in addition it allows the user to define custom zones. During the last sprint we have added support in the new UI and also in AutoYaST to manage <a href="https://firewalld.org/documentation/man-pages/firewalld.zones.html">custom zones</a>.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2019/01/yast2-firewall-custom-zones.png"><img src="//lizards.opensuse.org/wp-content/uploads/2019/01/yast2-firewall-custom-zones-300x266.png" alt="YaST2 Firewall custom zones definition dialog" width="300" height="266" class="aligncenter size-medium wp-image-13555" srcset="https://lizards.opensuse.org/wp-content/uploads/2019/01/yast2-firewall-custom-zones-300x266.png 300w, https://lizards.opensuse.org/wp-content/uploads/2019/01/yast2-firewall-custom-zones.png 560w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>During the development process some problems detected in the <strong>AutoYaST configuration</strong> were addressed too.</p>
<h2 id="updated-yast-branding-and-icon-handling">Updated YaST Branding and Icon Handling</h2>
<p>In the past the YaST icons were included in the <code>yast2-branding-openSUSE</code> (openSUSE) and <code>yast2-theme-SLE</code> (SUSE Linux Enterprise) packages. The standard YaST icons were included in these packages, the standard YaST modules did not include any icons.</p>
<p>However, the disadvantage for the icon designer was that it was not clear which icons were really used.<br />
If you wanted to update the icon theme you could potentially do a lot of useless work because some icons were not used anymore.</p>
<p>Now the icons are included in the respective YaST package, if the package is dropped the icon is dropped as well.</p>
<p>The package manager UI includes compiled-in fallback icons. That means if the branding package is broken or the icon files are accidentally deleted from disk then it will be still usable for emergency recovery.</p>
<p>The branding still works, the vendor can still provide specific icons which will override the included ones. So it is still possible to have a different look in the openSUSE and SLE products.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2019/01/yast2-control-center-icons.png"><img src="//lizards.opensuse.org/wp-content/uploads/2019/01/yast2-control-center-icons-300x224.png" alt="YaST2 Control Center new branding Screenshot" width="300" height="224" class="aligncenter size-medium wp-image-13561" srcset="https://lizards.opensuse.org/wp-content/uploads/2019/01/yast2-control-center-icons-300x224.png 300w, https://lizards.opensuse.org/wp-content/uploads/2019/01/yast2-control-center-icons-768x575.png 768w, https://lizards.opensuse.org/wp-content/uploads/2019/01/yast2-control-center-icons.png 786w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>A big thank you goes to Stasiek Michalski and Noah Davis from the community who did the changes in the YaST code, designed the new icons and did a lot of cleanup!</p>
<h2 id="improving-performance-when-loading-huge-etchosts">Improving Performance when Loading Huge <code>/etc/hosts</code> Files</h2>
<p>It might happen that you need to maintain a huge <code>/etc/hosts</code> file, especially when dealing with ads blockers. Such file with thousands of lines took an incredible amount of time to get loaded into YaST2. On some configurations it could even happen that loading a <code>/etc/hosts</code> with around 10.000 lines freezes the system completely. After some refactoring in YaST2 Host module, the performance has been significantly improved and loading a file with 10.000 lines now takes approximately 30s on the same configuration where it crashed before.</p>
<h2 id="disabling-cd-dvd-repositories-after-installation">Disabling CD/DVD Repositories After Installation</h2>
<p>If you install your system from a CD/DVD source it usually happens that this repository was not available for whole live of the system. In some use cases this was only uncomfortable because of some warnings but, in other cases, it caused serious complications, for instance, when trying to do a migration.</p>
<p>In the past, under some circumstances, those repositories were already disabled. But, from now on, they will be disabled always in order to avoid unwanted side effects.</p>
<h2 id="closing-thoughs">Closing Thoughts</h2>
<p>That&#8217;s all for the first report of 2019. In case you are wondering, the plan is to stick to the plan of publishing a report after each sprint, so expect the next one in about two weeks.</p>
<p>However, we recently had to migrate from the so called GitHub Services (now deprecated) to GitHub web hooks, so you might get an extra blog post about that very soon.</p>
<p>Stay tuned!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2019/01/31/highlights-of-yast-development-sprint-6970/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>Highlights of YaST Development Sprint 64</title>
		<link>https://lizards.opensuse.org/2018/10/09/yast-sprint-64/</link>
		<comments>https://lizards.opensuse.org/2018/10/09/yast-sprint-64/#comments</comments>
		<pubDate>Tue, 09 Oct 2018 15:09:06 +0000</pubDate>
		<dc:creator><![CDATA[Yast Team]]></dc:creator>
				<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Factory]]></category>
		<category><![CDATA[Miscellaneous]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>
		<category><![CDATA[YaST]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=13402</guid>
		<description><![CDATA[Another two weeks of development, another report from the YaST team. During this sprint, we have been working to improve the usage and installation experience in many areas, including but not limited to the following. Improvements in several areas of the Partitioner. More informative Snapper. Better integration of the new Firewall UI with AutoYaST. Improvements [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Another two weeks of development, another report from the YaST team. During this sprint, we have been working to improve the usage and installation experience in many areas, including but not limited to the following.</p>
<ul>
<li>Improvements in several areas of the Partitioner.</li>
<li>More informative Snapper.</li>
<li>Better integration of the new Firewall UI with AutoYaST.</li>
<li>Improvements in roles management and in the roles description.</li>
<li>Better support in YaST Firstboot for devices with no hardware clock, like Raspberry Pi.</li>
</ul>
<p>Let&#8217;s dive into the details </p>
<h3>Changes in the Partitioner UI to Unleash the Storage-ng Power</h3>
<p>We have explained already in several previous posts how we were struggling to come up with a set of changes to the user interface of the Partitioner that would allow to expose all the new functionality brought by storage-ng, while still being familiar to our users and fitting in a text console with 80 columns and 24 lines.</p>
<p>We finally implemented the interface described in <a>this gist</a>,  which fits into a 80&#215;24 text console and allows all kind of operations. Check that document for more info about the behavior and its rationale.</p>
<p>But what does &#8220;all kind of operations&#8221; mean? For example, it means it&#8217;s possible to start with three empty disks and end up creating this complex setup using only the Partitioner.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/complex-devicegraph.png"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/complex-devicegraph-236x300.png" alt="Complex storage setup" width="236" height="300" class="aligncenter size-medium wp-image-13404" srcset="https://lizards.opensuse.org/wp-content/uploads/2018/10/complex-devicegraph-236x300.png 236w, https://lizards.opensuse.org/wp-content/uploads/2018/10/complex-devicegraph.png 461w" sizes="(max-width: 236px) 100vw, 236px" /></a></p>
<ul>
<li>In that example, <code>/dev/md0</code> is an MD RAID defined on top of two partitions and formatted as &#8220;/&#8221;. Nothing impressive here so far.
<li><code>/dev/md1</code> is an MD RAID defined on top of a combination of full disks and partitions. Using disks as base for a RAID was not possible in the old Partitioner.</li>
<li>Even more, <code>/dev/md1</code> contains partitions like <code>/dev/md1p1</code> and <code>/dev/md1p2</code>, another thing that the old Partitioner didn&#8217;t allow to configure.</li>
<li><code>/dev/volgroup0</code> is an LVM VG based on one of those MD partitions, allowing to combine the best of the MD and LVM technologies in a new way.</li>
<li>Last but not least, <code>/dev/sdc</code> is a disk formatted to host a file-system directly, with no partitions in between (also a new possibility).</li>
</ul>
<p>The general approach of the new UI is described in the linked document. But since an image is worth a thousand words (and an animation is probably worth two thousands), let&#8217;s see how some part of the process to create the complex setup described about would look in a text console.</p>
<p>This is how you can now directly format a disk with no partitions.</p>
<p><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/formatting_a_disk.gif" alt="Formatting a disk" /></p>
<p>Playing with the partitions of a disk is also a good way to get a feeling on how the buttons are now organized and how they dynamically change based on which row is selected in each table. Click on the following image to animate it and see those views in action.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/playing_with_partitions.gif"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/playing_with_partitions-play.png" alt="Playing with partitions" width="300" height="190" class="aligncenter size-medium wp-image-13408" /></a></p>
<p>And for a full experience of completely new stuff. Click on the image below to see an animation showing the whole process of creating an MD RAID on top of two full disks and then creating partitions within the resulting RAID.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/creating_partitioned_array.gif"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/creating_partitioned_array-play.png" alt="Creating a partitioned RAID" width="300" height="190" class="aligncenter size-medium wp-image-13409" /></a></p>
<p>But although the text mode is the limiting factor to design a YaST UI, many users install their systems and use the Partitioner in graphical mode. For those wondering how the reorganized buttons look in that case, here are some screenshots of the installation process of the upcoming SLE-15-SP1 (static screenshots this time, we already had enough animations for one post).</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/raid-qt.png"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/raid-qt-300x215.png" alt="Managing RAIDs with the new Partitioner UI" width="300" height="215" class="aligncenter size-medium wp-image-13414" srcset="https://lizards.opensuse.org/wp-content/uploads/2018/10/raid-qt-300x215.png 300w, https://lizards.opensuse.org/wp-content/uploads/2018/10/raid-qt-768x550.png 768w, https://lizards.opensuse.org/wp-content/uploads/2018/10/raid-qt.png 1009w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/partitions-qt.png"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/partitions-qt-300x214.png" alt="Managing Partitions with the new Partitioner UI" width="300" height="214" class="aligncenter size-medium wp-image-13415" srcset="https://lizards.opensuse.org/wp-content/uploads/2018/10/partitions-qt-300x214.png 300w, https://lizards.opensuse.org/wp-content/uploads/2018/10/partitions-qt-768x547.png 768w, https://lizards.opensuse.org/wp-content/uploads/2018/10/partitions-qt.png 1008w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Displaying Bcache Devices Consistently in the Device Graphs</h3>
<p>Surely most Partitioner users have recognized the style of the visual representation used above for the complex example setup. As you know, the Partitioner offers similar representations in the &#8220;Device Graphs&#8221; section, both for the original layout of the system and for the target one.</p>
<p>After adding support for Bcache to the Partitioner we detected a small but annoying problem in those graphs. The caching devices were using their UUID as labels, which had two drawbacks.</p>
<ul>
<li>It was too long.</li>
<li>It&#8217;s not known in advance for &#8220;planned&#8221; cache sets (i.e. sets that will be created after going forward in the Partitioner), which resulted in boxes with no labels</li>
</ul>
<p>So know we use a fixed &#8220;bcache cache&#8221; label for all cache sets, which looks like this.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/cset-label.png"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/cset-label-300x221.png" alt="New label for cache sets in the Device Graph" width="300" height="221" class="aligncenter size-medium wp-image-13416" srcset="https://lizards.opensuse.org/wp-content/uploads/2018/10/cset-label-300x221.png 300w, https://lizards.opensuse.org/wp-content/uploads/2018/10/cset-label-768x565.png 768w, https://lizards.opensuse.org/wp-content/uploads/2018/10/cset-label-1024x753.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2018/10/cset-label.png 1027w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>As opposed to the old way with empty boxes.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/cset-no-label.png"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/cset-no-label-300x222.png" alt="Lack of labels in the old Device Graphs" width="300" height="222" class="aligncenter size-medium wp-image-13417" srcset="https://lizards.opensuse.org/wp-content/uploads/2018/10/cset-no-label-300x222.png 300w, https://lizards.opensuse.org/wp-content/uploads/2018/10/cset-no-label-768x567.png 768w, https://lizards.opensuse.org/wp-content/uploads/2018/10/cset-no-label-1024x756.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2018/10/cset-no-label.png 1029w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Adding and removing Bcache devices</h3>
<p>And since we mention the Bcache support in the Partitioner, it&#8217;s worth noticing that the implementation continues moving forward at good pace. During this sprint we implemented a first version of the operations to add a new Bcache device and to delete it.</p>
<p>When adding a new device, the only options that can currently be defined is which devices to use to construct it. But the next sprint has started and you can expect more options to be supported in the near future.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/create-bcache.png"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/create-bcache-300x220.png" alt="Creating a new Bcache device" width="300" height="220" class="aligncenter size-medium wp-image-13418" srcset="https://lizards.opensuse.org/wp-content/uploads/2018/10/create-bcache-300x220.png 300w, https://lizards.opensuse.org/wp-content/uploads/2018/10/create-bcache-768x564.png 768w, https://lizards.opensuse.org/wp-content/uploads/2018/10/create-bcache-1024x752.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2018/10/create-bcache.png 1030w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>When the Bcache device is created, then it can be formatted, mounted or partitioned with the same level of flexibility than other devices in the system. So soon (after the usual integration and automated testing phases) Tumbleweed users will be able to use the YaST Partitioner to test this exciting technology.</p>
<p>Of course the operation to delete a Bcache device offers the usual checks and information available in other parts of the Partitioner, like shown in the following screenshot.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/delete-bcache.png"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/delete-bcache-300x221.png" alt="Deleting a bcache device" width="300" height="221" class="aligncenter size-medium wp-image-13419" srcset="https://lizards.opensuse.org/wp-content/uploads/2018/10/delete-bcache-300x221.png 300w, https://lizards.opensuse.org/wp-content/uploads/2018/10/delete-bcache-768x565.png 768w, https://lizards.opensuse.org/wp-content/uploads/2018/10/delete-bcache.png 1022w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Both screenshots are taken with an updated version of the installer of the upcoming SLE-15-SP1, since this functionality will be available in such distribution and, of course, also in openSUSE Leap 15.1.</p>
<h3>Snapper: Show Used Space for each Snapshot</h3>
<p>As those following our blog already know, the YaST Team is also somehow responsible for the development and maintenance of Snapper, the ultimate file-system snapshot tool for Linux. And Snapper has also received some usability improvements during this sprint.</p>
<p>For systems with btrfs and quota enabled, the output of &#8220;snapper list&#8221; now shows the used space for each snapshot. The used space in this case is the exclusive space of the btrfs quota group corresponding to the snapshot.</p>
<pre>
# snapper --iso list
Type   | # | Pre # | Date                | User | Used Space | Cleanup | Description      | Userdata     
-------+---+-------+---------------------+------+------------+---------+------------------+--------------
single | 0 |       |                     | root |            |         | current          |              
single | 1 |       | 2018-10-04 21:00:11 | root | 15.77 MiB  |         | first filesystem |              
single | 2 |       | 2018-10-04 21:19:47 | root | 13.78 MiB  | number  | after install    | important=yes
</pre>
<p>For more details about this change, its advantages and limitations, check the <a href="http://snapper.io/2018/10/04/used-space.html">new post at the Snapper blog</a>.</p>
<h3>Simplified Role Selection</h3>
<p>The role selection dialog in SLE-15 is always displayed in the installation workflow. However, it does not make much sense to display it if there is only one role to select. When you do not register the system and do not use any additional installation repository then in the default SLES-15 installation you can see only the <i>minimal</i> system role.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2018/10/one-role.png"><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/one-role-300x225.png" alt="Selecting one out of one roles" width="300" height="225" class="aligncenter size-medium wp-image-13435" srcset="https://lizards.opensuse.org/wp-content/uploads/2018/10/one-role-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2018/10/one-role-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2018/10/one-role.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>In such case you cannot actually change anything as the only role is pre-selected by default and the only thing which you can do is to press the <i>Next</i> button.</p>
<p>Therefore we improved in for SLE15-SP1, if there is only one role to select then the role is selected automatically and the dialog is skipped.</p>
<p>In addition to that, many of the role descriptions have been adapted and simplified to, hopefully, be more clear.</p>
<h3>YaST Firstboot in devices with no hardware clock</h3>
<p>SLE and openSUSE can be installed on a great variety of devices, including some system that doesn&#8217;t include a hardware Real Time Clock, like the popular Raspberry Pi. That means the usual mechanism to establish the current date and time (using the <code>hwclock</code> command) fails in such devices. That general problem was detected during the usage of YaST Firstboot to configure new devices.</p>
<p>So now YaST detects situations in which there is no Real Time Clock and uses the <code>date</code> as an alternative to set the date and time. This fix, already submitted to openSUSE Tumbleweed, will be available in all upcoming versions of SLE (like SLE-12-SP4 and SLE-15-SP1) and openSUSE Leap.</p>
<h3>Better integration of the new Firewall UI with AutoYaST</h3>
<p>On the <a href="https://lizards.opensuse.org/2018/10/01/yast-sprint-63/">previous report</a> we anticipated the new UI we are building for configuring Firewalld from YaST. During this sprint we have been focusing on some aspects that need to be finished before we can release this new functionality.</p>
<p>Now this UI can be invoked from the AutoYaST module in YaST, meaning it can be used to import and then fine tune the current configuration of the system so it can be exported to an AutoYaST profile.</p>
<p>And since we are already in animation mood, check how the new UI can be used to define an AutoYaST profile.</p>
<p><img src="//lizards.opensuse.org/wp-content/uploads/2018/10/firewall_ay_config.gif" alt="Using the Firewalld UI from the AutoYaST module" /></p>
<p>Very soon the whole functionality will be ready for prime time and we will release it together with a separate blog post to explain all the details.</p>
<h3>Stay tuned</h3>
<p>We are already working on the next sprint, with special focus on AutoYaST, on Snapper and on improving the installation experience in several scenarios. As mentioned above, it&#8217;s likely that you will get more news from us (about the new Firewalld support) even before that sprint is finished.</p>
<p>But if you can&#8217;t wait for more news, don&#8217;t hesitate to visit us on our Irc #yast channel on Freenode. Otherwise, see you here again soon.</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2018/10/09/yast-sprint-64/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>Highlights of YaST development sprint 40</title>
		<link>https://lizards.opensuse.org/2017/08/10/highlights-of-yast-development-sprint-40/</link>
		<pubDate>Thu, 10 Aug 2017 14:04:34 +0000</pubDate>
		<dc:creator><![CDATA[Yast Team]]></dc:creator>
				<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Factory]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>
		<category><![CDATA[YaST]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=12674</guid>
		<description><![CDATA[Doubtlessly, these are pretty exciting times for the YaST team. The merge of the new storage layer into the main codebase is around the corner and we are working on other features that will debut on the next open(SUSE) major release. So let&#8217;s summarize what happened during the last sprint. New storage layer is coming [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Doubtlessly, these are pretty exciting times for the YaST team. The merge of the new storage layer into the main codebase is around the corner and we are working on other features that will debut on the next open(SUSE) major release. So let&#8217;s summarize what happened during the last sprint.</p>
<h3>New storage layer is coming</h3>
<p>As you may already know, the YaST team has invested a lot of time and effort preparing our storage layer for the future and we have started to merge the new layer into the main code base during the current sprint. But that&#8217;s something for our next report, right? By now, we will just focus on the stuff that got added and fixed during the last two weeks.</p>
<h3>Storage reimplementation: BIOS RAID support</h3>
<p><code>libstorage-ng</code>, the low level library in which our new storage layer relies on, got support for BIOS RAID (handled in Linux via MD devices). Now, YaST could take advantage of such a feature to allow the installation of open(SUSE) systems on this kind of devices, including the bootloader.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/08/libstorage-ng-md-support.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/08/libstorage-ng-md-support-300x290.png" alt="BIOS RAID support" width="300" height="290" class="aligncenter size-medium wp-image-12690" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/08/libstorage-ng-md-support-300x290.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/08/libstorage-ng-md-support.png 515w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Storage reimplementation: managing BtrFS subvolumes in new Expert Partitioner</h3>
<p>The new Expert Partitioner is getting a lot of attention these days and, during sprint 40, it got initial support for Btrfs subvolumes management.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-btrfs-subvolumes-list.png"><img class="aligncenter size-medium wp-image-12677" src="//lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-btrfs-subvolumes-list-300x225.png" alt="Btrfs subvolumes list" width="300" height="225" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-btrfs-subvolumes-list-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-btrfs-subvolumes-list-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-btrfs-subvolumes-list.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Now, when you select the BtrFS section in the general menu placed on the left, all BtrFS filesystems are presented allowing you to edit its subvolumes through a dialog which contains the list of subvolumes that belongs to the filesystem. Apart from the usual stuff, like adding and deleting subvolumes, it is also possible to set the noCoW property when you are creating a new one.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-adding-btrfs-subvolumes.png"><img class="aligncenter size-medium wp-image-12678" src="//lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-adding-btrfs-subvolumes-300x225.png" alt="Adding/Removing Btrfs subvolumes" width="300" height="225" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-adding-btrfs-subvolumes-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-adding-btrfs-subvolumes-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/08/expert-partitioner-adding-btrfs-subvolumes.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>However, some features are still missing. For instance the partitioner will not prevent you to create a subvolume which is shadowed by an already existing mount point. Consider the current implementation as the first step towards a really cool Btrfs subvolume handling.</p>
<h3>Dropping SUSE tags support</h3>
<p>During installation, YaST uses a mechanism known as <em>SUSE tags</em> as source of information for media handling. For instance, a <code>/content</code> file contains information about the product, languages, etc. Additionally, information like release notes or the slide-show texts are stored in the installation media.</p>
<p>Some time ago, SUSE decided to drop SUSE tags and use <a href="https://en.opensuse.org/openSUSE:Standards_Rpm_Metadata">RPM metadata</a> and packages to store all that information. To make it possible, the installation media would use REPOMD repositories.</p>
<p>Obviously, YaST needs some adaptation. As a first step, support for the <code>/content</code> has been dropped, cleaning up some old and even unused code.</p>
<p>In the upcoming sprints, YaST will be adapted to retrieve licensing, release notes, etc. from RPM repositories and packages, which is also an opportunity to do some refactoring and to improve test coverage.</p>
<h3>AutoYaST support for add-on products on same installation media</h3>
<p>Nowadays YaST supports having add-on products on the same media than the base product. The problem is that the EULA for those products is displayed too early, even before AutoYaST had been initialized at all.</p>
<p>To solve this issue, now the EULA acceptance of included add-ons is performed at the same time than other add-ons which are not included in the installation media. As a side effect, now the user needs to define those add-ons on the AutoYaST profile in order to handle the EULA acceptance.</p>
<h3>Bug squashing and 80&#215;24 terminals</h3>
<p>As developers, we enjoy working on new features and, of course, we are committed to fix critical bugs as fast as possible. But there are many small (and annoying) bugs out there that deserve our attention. Additionally, there are several bug reports that are no longer valid (the bug was fixed, it is not reproducible, it is a duplicate, the affected product is not supported anymore, etc.). In order to reduce the list of open issues, the team decided some sprints ago to reserve one day to do some bug squashing.</p>
<p>Among the bugs we closed during this sprint, we would like to highlight a usability problem in YaST services manager. Bear in mind that, along with the graphical interface, YaST ships a text based one which is supposed to fit in good old-fashioned 80&#215;24 terminals. That&#8217;s an interesting constraint when you are designing interfaces for YaST.</p>
<p>Needlessly to say that, from time to time, we get a bug report about some element that just do not fit. In this case, YaST services manager had a problem when the service name was too long as you can see in the screenshot below.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/08/yast-services-manager-out-of-space.png"><img class="aligncenter size-medium wp-image-12685" src="//lizards.opensuse.org/wp-content/uploads/2017/08/yast-services-manager-out-of-space-300x170.png" alt="Too long service name" width="300" height="170" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/08/yast-services-manager-out-of-space-300x170.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/08/yast-services-manager-out-of-space.png 637w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Now, if there is not enough space, the name will be truncated and the rest of the information will be shown in an proper way.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/08/yast-services-manager-properly-truncated.png"><img class="aligncenter size-medium wp-image-12686" src="//lizards.opensuse.org/wp-content/uploads/2017/08/yast-services-manager-properly-truncated-300x171.png" alt="Truncating a too long service name" width="300" height="171" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/08/yast-services-manager-properly-truncated-300x171.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/08/yast-services-manager-properly-truncated.png 635w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Do not miss the next report!</h3>
<p>As you may have noticed, a lot of interesting things are currently happening in the YaST world and more cool stuff is about to come. So you should not miss our next sprint report.</p>
<p>By now, enjoy openSUSE 42.3 (you already upgraded your system, right?) and see you in two weeks.</p>
]]></content:encoded>
			</item>
		<item>
		<title>Highlights of YaST development sprint 32</title>
		<link>https://lizards.opensuse.org/2017/03/22/highlights-of-yast-development-sprint-32/</link>
		<comments>https://lizards.opensuse.org/2017/03/22/highlights-of-yast-development-sprint-32/#comments</comments>
		<pubDate>Wed, 22 Mar 2017 14:38:22 +0000</pubDate>
		<dc:creator><![CDATA[Yast Team]]></dc:creator>
				<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Factory]]></category>
		<category><![CDATA[Miscellaneous]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>
		<category><![CDATA[YaST]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=12363</guid>
		<description><![CDATA[To make sure you didn&#8217;t missed us too much, in our latest blog post we summarized all the YaST-related projects worked during Hack Week 15. But after all the fun, it was time for&#8230; more fun! So let&#8217;s take a look to what the team has delivered on this first sprint after Hack Week 15. [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>To make sure you didn&#8217;t missed us too much, in <a href="https://lizards.opensuse.org/2017/03/07/yast-development-during-hack-week-15/">our latest blog post</a> we summarized all the YaST-related projects worked during Hack Week 15. But after all the fun, it was time for&#8230; more fun! So let&#8217;s take a look to what the team has delivered on this first sprint after Hack Week 15.</p>
<h3>Storage reimplementation: encrypted proposal without LVM</h3>
<p>One of the known limitations of the current installer is that it&#8217;s only able to automatically propose an encrypted schema if LVM is used. For historical reasons, if you want to encrypt your root and/or home partitions but not to use LVM, you would need to use the expert partitioner&#8230; and hope for the best from the bootloader proposal.</p>
<p>But the new storage stack is here (well, almost here) to make all the old limitations vanish. With <a href="http://download.opensuse.org/repositories/YaST:/storage-ng/images/iso/">our testing ISO</a> it&#8217;s already possible to set encryption with just one click for both partition-based and LVM-based proposals. The best possible partition schema is correctly created and everything is encrypted as the user would expect. We even have continuous tests in our internal openQA instance for it.</p>
<p>The part of the installer managing the bootloader installation is still not adapted, which means the resulting system would need some manual fixing of Grub before being able to boot&#8230; but that&#8217;s something for an upcoming sprint (likely the very next one).</p>
<h3>Improved add-ons listing for SLE12-SP1</h3>
<p>The dialog in SLES-12-SP1 for selecting the add-ons after registering the system was originally designed just for a small list of add-ons. Unfortunately (or fortunately, depending on how you look at it), the number of add-ons grew over the time and it exceeded the original limit for the text mode UI.</p>
<p>The equivalent screen in SLE-12-SP2 is not affected by the problem because it uses a different layout with scrollable list. But the SP1 dialog looks like this.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/scc-sp1-bad.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/scc-sp1-bad-300x188.png" alt="Broken add-ons list in SP1" width="300" height="188" class="aligncenter size-medium wp-image-12366" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/scc-sp1-bad-300x188.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/scc-sp1-bad-768x481.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/scc-sp1-bad.png 802w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>If you look carefully at the screenshot you will see that the <i>Web and Scripting Module</i> is missing in the list and the <code>Back</code>, <code>Next</code> and <code>Abort</code> buttons at the bottom are also not displayed.</p>
<p>The fix decreased the size of the <code>Details</code> widget and allowed displaying more items in each column. Now there is even free space for three more add-ons.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-good.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-good-300x188.png" alt="Fixed addons list in SP1" width="300" height="188" class="aligncenter size-medium wp-image-12367" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-good-300x188.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-good-768x481.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-good.png 802w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Moreover the dialog is now dynamic and checks the current size of the screen. If there is enough free space then the list is displayed in one column so the labels are not truncated and the <code>Details</code> widget size is increased back to the original size.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-big.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-big-300x234.png" alt="Add-ons list in SP1 with enough space" width="300" height="234" class="aligncenter size-medium wp-image-12368" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-big-300x234.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-big-768x600.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-big-1024x800.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-sp1-big.png 1052w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Storage reimplementation: Btrfs subvolumes</h3>
<p>The management of subvolumes is one of those features that make Btrfs rather unique and that need special handling when compared to more traditional file systems. That was indeed one of the several reasons to rewrite <code>libstorage</code> &#8211; Btrfs subvolumes never fully fitted the philosophy and data structures on the old (current) <code>libstorage</code> and <code>yast2-storage</code>.</p>
<p>In this sprint we introduced support for subvolumes in <code>libstorage-ng</code> from the ground up, taking into consideration all the specificities, use cases and scenarios found in the past. And, hopefully, in a way that is also prepared for whatever the future brings.</p>
<p>The new functionality is already working and tested and it&#8217;s included in the latest versions of <code>libstorage-ng</code>, but is still not used in the proposal or any other part <code>yast2-storage</code>. You will have to wait another sprint to see more visible results. At least if &#8220;more visible&#8221; means screenshots. Meanwhile, if you like images you can always enjoy the graphs generated from the internal structures managed by <code>libstorage-ng</code>.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/subvolumes.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/subvolumes-300x57.png" alt="Internal subvolumes representation in libstorage-ng" width="300" height="57" class="aligncenter size-medium wp-image-12398" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/subvolumes-300x57.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/subvolumes-768x145.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/subvolumes-1024x193.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Storage reimplementation: system upgrade</h3>
<p>The new storage stack has been able to install an openSUSE system for quite some time already. While we keep improving that area, the next challenge was to make the upgrade from a previous openSUSE version also possible using <a href="http://download.opensuse.org/repositories/YaST:/storage-ng/images/iso/">our testing ISO</a>.</p>
<p>That implies scanning the hard disks looking for previous installations, allowing the user to select one, mounting the corresponding partitions or LVM volumes, performing the update of every package and doing some final tasks like updating the bootloader configuration.</p>
<p>Following the iterative approach encouraged by Scrum, we focused in the first three steps, which is something that a user (or openQA, for that matter) can test and verify. So now we are able to detect and list pre-existing systems and start the upgrade process on the selected one. And we have automated tests in openQA to ensure it works across all the combinations of partition-based vs LVM-based layout and UUID-based vs name-based <code>fstab</code> file.</p>
<h3>Add-ons can define new system roles</h3>
<p>YaST is pretty customizable when it comes to adapt/modify the installation workflow. Among other things, add-ons are allowed to adapt the workflow (adding/removing steps), define new proposals, etc. And starting now, they can also define new system roles.</p>
<p>Let&#8217;s see an example of adding a new mail server role:</p>
<pre>
&lt;update&gt;
  &lt;system_roles&gt;
    &lt;insert_system_roles config:type="list"&gt;
      &lt;insert_system_role&gt;
        &lt;system_roles config:type="list"&gt;
          &lt;system_role&gt;
            &lt;id&gt;mail_role&lt;/id&gt;
            &lt;software&gt;
              &lt;default_patterns&gt;base Minimal mail_server&lt;/default_patterns&gt;
            &lt;/software&gt;
          &lt;/system_role&gt;
        &lt;/system_roles&gt;
      &lt;/insert_system_role&gt;
    &lt;/insert_system_roles&gt;
  &lt;/system_roles&gt;
&lt;/update&gt;

&lt;!-- Don't forget to add the texts --&gt;
&lt;texts&gt;
  &lt;mail_role&gt;
    &lt;label&gt;Mail Server&lt;/label&gt;
  &lt;/mail_role&gt;
  &lt;mail_role_description&gt;
    &lt;label&gt;• Software needed to set up a mail server
• No production ready yet!&lt;/label&gt;
  &lt;/mail_role_description&gt;
&lt;/texts&gt;
</pre>
<p>And now let&#8217;s see how it looks:</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/addons-adding-roles.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/addons-adding-roles-300x225.png" alt="A role added by an addon" width="300" height="225" class="aligncenter size-medium wp-image-12373" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-adding-roles-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-adding-roles-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/addons-adding-roles.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Which leads us to the next section&#8230;</p>
<h3>The list of roles becomes responsive in text mode</h3>
<p>A really nice thing about YaST is that it&#8217;s able to run in textmode, so you don&#8217;t need a graphical interface to install or configure your system. As a consequence, YaST developers need to keep certain limitations in mind when working in the user interface.</p>
<p>Now that add-ons can add new system roles, we noticed a potential problem in the dialog selection screen: we eventually will get out of space if more than one system role is added. So we decided to improve how system roles are displayed to make them fit in a 80&#215;25 mode (that is, only 25 lines of text). Let&#8217;s see the changes with some examples.</p>
<p>This is how the screen looks by default, with a reasonably small set of roles.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/roles-fit.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/roles-fit-300x167.png" alt="Default system roles list" width="300" height="167" class="aligncenter size-medium wp-image-12387" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/roles-fit-300x167.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/roles-fit.png 720w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>If the system detects there is no space to present all the information in such a convenient way, it removes all the spaces so at least the information is all there, even if it looks a little bit packed.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/roles-packed.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/roles-packed-300x167.png" alt="Roles list with no extra space" width="300" height="167" class="aligncenter size-medium wp-image-12388" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/roles-packed-300x167.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/roles-packed.png 720w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>If even that is not enough, the extra descriptions are omitted, which gives us way more room.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/roles-dontfit.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/roles-dontfit-300x167.png" alt="Compact roles list" width="300" height="167" class="aligncenter size-medium wp-image-12389" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/roles-dontfit-300x167.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/roles-dontfit.png 720w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>If roles don&#8217;t fit even without the descriptions, the introductory text will be also omitted which means we can present up to eighteen (yes, 18!) roles in the screen.</p>
<h3>Storage reimplementation: guided setup mock-up</h3>
<p>As explained in several previous reports, we are collaborating closely with SUSE UX experts to design the revamped interfaces of the installer&#8217;s partitioning proposal and the expert partitioner. We already showed you the document we used as a base to discuss the partitioning proposal, including the conclusions, and the first very simple prototype of the so-called Guided Setup.</p>
<p>During this sprint, that collaborative effort focused on defining exactly how every step of that wizard should work and look like. The goal was to get some interface mock-ups to be used as starting point for the upcoming sprint. More than ever, a picture (well, four of them) is worth a thousand words.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/guided1.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/guided1-300x224.png" alt="First step of the guided partitioning setup mock-up" width="300" height="224" class="aligncenter size-medium wp-image-12376" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/guided1-300x224.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/guided1-768x574.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/guided1.png 894w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/guided2.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/guided2-300x224.png" alt="Second step of the guided partitioning setup mock-up" width="300" height="224" class="aligncenter size-medium wp-image-12377" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/guided2-300x224.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/guided2-768x574.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/guided2.png 892w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/guided3.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/guided3-300x225.png" alt="Third step of the guided partitioning setup mock-up" width="300" height="225" class="aligncenter size-medium wp-image-12378" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/guided3-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/guided3-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/guided3.png 894w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/guided4.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/guided4-300x226.png" alt="Fourth step of the guided partitioning setup mock-up" width="300" height="226" class="aligncenter size-medium wp-image-12379" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/guided4-300x226.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/guided4-768x578.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/guided4.png 895w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Prevent the installation of CaaSP if Btrfs snapshots are not possible</h3>
<p>CaaSP is a single purpose system, and having snapshots enabled is essential. So there&#8217;s now a check in place that will simply prevent you from going on with the installation if snapshots are disabled (for example, if the disk is too small).</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/03/snapshots-blocker.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/03/snapshots-blocker-300x225.png" alt="Blocked CaaSP installation" width="300" height="225" class="aligncenter size-medium wp-image-12396" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/03/snapshots-blocker-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/03/snapshots-blocker-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/03/snapshots-blocker.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Storage reimplementation: better handling of /etc/fstab and /etc/cryptab</h3>
<p>For the new storage stack, we refactored the classes to handle <code>/etc/fstab</code>. While this would normally not be anything to write much about, we included intelligent handling for existing comments based on <a href="https://github.com/shundhammer/commented-config-file">this standalone GitHub project</a>.</p>
<p>This means that existing comment blocks at the start and at the end of the file remain untouched, and comments before any content entry remain attached to that entry; i.e. when that entry is moved around in the file (e.g. because of mount dependencies), that comment is moving along with the entry it belongs to. While this is not 100% fool proof, it is much better than the usual strategy to simply discard such comments when the file is rewritten. </p>
<h3>Quite some adaptations and bugfixes for CaaSP</h3>
<p>As you already know from previous reports and other sources, a considerable part of SUSE&#8217;s development firepower is focused on building the upcoming CaaSP. As part of that heavy development process, the YaST team invested a significant part of the sprint adapting YaST for CaaSP and fixing bugs introduced by previous adaptations. A large collection of changes here and there that are hard to summarize here but that help CaaSP to be a couple of steps closer to the final goal.</p>
<h3>Keep it rolling!</h3>
<p>We have already planned our next sprint which will hopefully bring more features to the new storage stack, CaaSP-related improvements, a surprise about AutoYaST and more stuff. And, of course, it will be followed by its corresponding report.</p>
<p>So see you in three weeks. Stay tuned and have a lot of fun!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2017/03/22/highlights-of-yast-development-sprint-32/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
		</item>
		<item>
		<title>Highlights of YaST development sprint 30</title>
		<link>https://lizards.opensuse.org/2017/02/03/highlights-of-yast-development-sprint-30/</link>
		<comments>https://lizards.opensuse.org/2017/02/03/highlights-of-yast-development-sprint-30/#comments</comments>
		<pubDate>Fri, 03 Feb 2017 14:28:28 +0000</pubDate>
		<dc:creator><![CDATA[Yast Team]]></dc:creator>
				<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Factory]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>
		<category><![CDATA[YaST]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=12263</guid>
		<description><![CDATA[This is our first post in 2017 and looks like we must start apologizing. In our previous post we promised news about this blog, but the administrative part slowed us down and the surprise is still not ready. On the bright side, we have quite some news about YaST. So let&#8217;s go for it! One-click [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>This is our first post in 2017 and looks like we must start apologizing. In our <a href="https://lizards.opensuse.org/2016/12/22/highlights-of-yast-development-sprint-29/">previous post</a> we promised news about this blog, but the administrative part slowed us down and the surprise is still not ready. On the bright side, we have quite some news about YaST. So let&#8217;s go for it!</p>
<h3>One-click system installation for CaaSP</h3>
<p>As you may know, SUSE has been working on making containers easier, with SUSE Container as a Service Platform. We have referred to it in several previous posts using the CASP acronym, although nowadays the correct one is CaaSP (maybe we could sell the new &#8220;a&#8221; as a shiny feature <img src="https://s.w.org/images/core/emoji/2.2.1/72x72/1f609.png" alt="&#x1f609;" class="wp-smiley" style="height: 1em; max-height: 1em;" /> ).</p>
<p>Part of this upcoming product is also an interactive installation option using the good old YaST. CaaSP uses a limited subset of the SLE possibilities and we wanted to make the installation simpler to reflect that. So we reduced the number of dialogs you have to click through&#8230; to one!</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/02/one-click-installation.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/02/one-click-installation-300x234.png" alt="One-click installation in CaaSP" width="300" height="234" class="aligncenter size-medium wp-image-12266" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/02/one-click-installation-300x234.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/02/one-click-installation-768x599.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/02/one-click-installation.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>As you can see, it is at the expense of stuffing the screen with more widgets than usual. Still, the only part where you must make a decision is the root password.</p>
<p>We expect that most of the CaaSP installations will actually not use this, because they will be done automatically with AutoYaST. But still this should be useful when you are only getting started.</p>
<h3>Refining the read-only installation proposals</h3>
<p>It was possible to make a proposal &#8220;read-only&#8221; <a href="https://lizards.opensuse.org/2016/11/10/highlights-of-yast-development-sprint-27/">for some time already</a>. However, its black-and-white logic was not sufficient for some use cases. So, it was redesigned and you can mark a proposal hard read-only or soft read-only. The difference is that users will never be able to change hard read-only proposal. However their will be able to modify a soft read-only proposal if the proposal reports an error. It can be useful e.g. for error recovery in software proposal. It has been implemented originally for CaaSP, but it will be available for SLE-12-SP3 and Leap 42.3 too.</p>
<h3>Installing directly from a repomd repository</h3>
<p>When you install (open)SUSE you have up to now needed a specially prepared install repository. In addition to the repository with the RPM packages, it needed a bunch of specially prepared files containing the installation system and our beloved YaST installer.</p>
<p>That&#8217;s all gone now!</p>
<p>You can now point the installer to any plain repomd repository. For this to work you have to point the installer to the repomd repository <b>and</b> to the installation system (they can be completely separate now).</p>
<p>For example:</p>
<pre>
install=http://download.opensuse.org/tumbleweed/repo/oss instsys=disk:/boot/x86_64/root
</pre>
<p>In that example, we install Tumbleweed from the openSUSE website and use the installer from some local media (maybe the NET iso).</p>
<p>To make things even easier there is now a regular package (<code>tftpboot-installation-openSUSE</code>) that contains the installation system and some sample config files.</p>
<p>Check out <a href="https://github.com/openSUSE/linuxrc/blob/master/linuxrc_repo.md">this linuxrc documentation</a> for technical details.</p>
<h3>Storage reimplementation: removing stones from the installation path</h3>
<p>In our <a href="https://lizards.opensuse.org/2016/12/22/highlights-of-yast-development-sprint-29/">latest post</a>, we presented the dedicated openQA instance contantly testing the new storage layer implementation. It still doesn&#8217;t run exactly the same tests than <a href="https://openqa.opensuse.org">openQA.opensuse.org</a> because not all technologies and operations are supported yet in the new yast2-storage. But now we are a couple of steps closer to run the full-blown tests also in our dedicated instance.</p>
<p>During this sprint, the partitioning proposal gained the ability to deal with disks not containing a partition table in advance (it always proposes to create a GPT one in that scenario) and the software selection proposal learned how to use the new storage API, so it can properly inspect the system and the associated error pop-ups are gone from the installation workflow.</p>
<h3>More power to the system roles</h3>
<p>We keep extending the capabilities of the system roles, now with the ability to specify some systemd services to enable. As the roles can define which software gets installed in the system, it made sense for them to also be able to specify the desired status for the services included in that software</p>
<p>For example, it would be possible for a given product (let&#8217;s say a customized openSUSE) to define a &#8220;static web server&#8221; role. Choosing that role during installation would result in a system with a HTTP server already installed and enabled, so the user just need to copy the files to be served into the right directory.</p>
<h3>Expert partitioner is now less restrictive with encryption</h3>
<p>Setting up an encrypted LVM was always pretty easy when using the automated storage proposal &#8211; simply select &#8220;encrypted LVM&#8221; at the proposal settings and you are done.</p>
<p>But doing that manually was almost impossible: The expert partitioner wouldn&#8217;t allow any of the system mount points (&#8220;/&#8221;, &#8220;/usr&#8221;, &#8220;/var&#8221;, &#8230;) on any encrypted partition, and it also wouldn&#8217;t allow to encrypt, but not format a partition of type &#8220;LVM&#8221; for use as an LVM physical volume.</p>
<p>Both restrictions are now lifted; you can now create an LVM physical volume with encryption, or you can do the encryption layer on the logical volume if you prefer. And you can create an encrypted plain partition with a filesystem directly on it without LVM.</p>
<p>Over the years, Grub2 learned how to do that, so you don&#8217;t even need a /boot partition anymore. For the time being, you&#8217;ll need to enter the encryption password twice, though: once at the Grub2 prompt and once later at the graphical console so systemd can mount those filesystems. Our base system developers are working on a secure solution to avoid that.</p>
<h3>Migrate Travis CI to Docker</h3>
<p>That&#8217;s actually not a change in YaST itself, but in its development infrastructure. Still, we believe it would be interesting for the average reader of our blog.</p>
<p>So far we used Travis CI for building and testing the commits and pull requests at GitHub. But the problem was that by default Travis runs Ubuntu 12.04 or 14.04 at the build workers. That had several drawbacks for us, since compiling and testing YaST on Ubuntu is not trivial and the result is not always 100% equivalent to openSUSE. All this meant extra maintenance work for us.</p>
<p>Fortunately Travis allows using Docker containers at the workers and that allows using basically any Linux distribution. This sprint we spent some time converting the Travis configuration to use a <i>dockerized</i> openSUSE Tumbleweed at Travis.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/02/gh-tv-dck.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/02/gh-tv-dck.png" alt="From Github to Travis thanks to Docker" width="400" height="131" class="aligncenter size-full wp-image-12281" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/02/gh-tv-dck.png 400w, https://lizards.opensuse.org/wp-content/uploads/2017/02/gh-tv-dck-300x98.png 300w" sizes="(max-width: 400px) 100vw, 400px" /></a></p>
<p>The work was successful, we switched all YaST modules to use this new builds and the result is already paying off at several levels, although it took us <a href="https://github.com/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+user%3Ayast+docker+updated%3A%3E2017-01-12">over 100 pull requests</a> (all of them manually tweaked and reviewed) to make it happen.</p>
<p>The current solution <a href="http://yastgithubio.readthedocs.io/en/latest/travis-integration/">is documented</a> and we had also a short internal presentation about this change. The notes from the presentation are <a href="https://gist.github.com/lslezak/ebf13dbf584685b6b86f5f3cc57ab9e7">available here</a>.</p>
<h3>Improved continuous integration for Snapper</h3>
<p>We also enabled Travis integration with Docker for <a href="http://snapper.io/">Snapper</a>. As you may know, Snapper is a portable software that has always offered packages for many Linux distributions in the <a href="https://build.opensuse.org/package/show/filesystems:snapper/snapper">filesystems:snapper</a> OBS repository.</p>
<p>So we took the continuous integration one step further and enabled Travis builds on more distributions, currently we build for openSUSE Tumbleweed, openSUSE Leap 42.2, Fedora 25, Debian 8 and Ubuntu 16.10. You can see an <a href="https://travis-ci.org/openSUSE/snapper/builds/191720299">example build here</a> or more details in the <a href="https://github.com/openSUSE/snapper/blob/master/README.Travis.md">documentation</a>.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2017/02/snapper-travis.png"><img src="//lizards.opensuse.org/wp-content/uploads/2017/02/snapper-travis-300x256.png" alt="Example build result of Snapper at Travis" width="300" height="256" class="aligncenter size-medium wp-image-12283" srcset="https://lizards.opensuse.org/wp-content/uploads/2017/02/snapper-travis-300x256.png 300w, https://lizards.opensuse.org/wp-content/uploads/2017/02/snapper-travis-768x657.png 768w, https://lizards.opensuse.org/wp-content/uploads/2017/02/snapper-travis.png 827w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>That means we can ensure that the package still builds on all these distributions even before merging a pull request!</p>
<h3>Better integration with systemd for YaST Services</h3>
<p>Systemd recognizes many possible states for a service beyond the classic Unix enabled/disabled and running/stopped, and that list of possible states grows with every systemd release. In the past YaST have had some issues displaying the services status.</p>
<p>Now the problems are fixed by delegating to systemd the conversion from the concrete state to the good old known Unix equivalent. So the user now gets more precise information about all services running on the system.</p>
<h3>Storage reimplementation: redesigning the installation user experience</h3>
<p>In the latest post we showed you the document we were using as a base to discuss the new expert partitioner UI with usability experts. Now it was turn for the proposal settings dialog. We collected the current state, had a very productive discussion and ended up with a proposal for a new interface. You can check <a href="https://github.com/yast/yast-storage-ng/blob/master/doc/designing-proposal-settings-ui.md">the resulting document</a> covering all that.</p>
<p>As mentioned, the SUSE UX experts will use that document as a starting point to design the final interface. But we want the process to be as open as everything around YaST, so feel free to provide feedback.</p>
<h3>Reading product renaming information from libzypp</h3>
<p>When performing an upgrade, YaST needs to know whether a product is renamed or replaced by a another one. For example, in the past, the <i>Subscription Manager Tool</i> (SMT) lived in its own product but it&#8217;s included in SUSE Linux Enterprise 12. So YaST needs to know that the <code>suse-smt</code> product was just replaced by <code>sles</code>.</p>
<p>This information is usually provided by the SUSE Customer Center (SCC). But what happens if, for example, we are performing an offline upgrade? Until now, YaST used a <a href="https://github.com/yast/yast-packager/blob/27e42b1a0b0f4f05eda241fe3a71610c18dd05aa/src/modules/AddOnProduct.rb#L139">hard-coded fallback list</a>.</p>
<p>From now on, before falling back to such a list, YaST will ask libzypp for that information so, hopefully, it will avoid some problems while upgrading extensions and it will reduce the hassle of maintaining a hard-coded list.</p>
<h3>Storage reimplementation: Making sure to install storage-related packages</h3>
<p>The YaST storage subsystem has been taking care about storage-related software packages for a long time. For example, when a specific filesystem type like Btrfs or XFS is used by the system, we need to make sure that necessary support packages like <code>btrfsprogs</code> or <code>xfsprogs</code> are installed.</p>
<p>Figuring out what features are used is now done by the new libstorage. In this sprint, we created one <a href="https://github.com/shundhammer/yast-storage-ng/blob/master/src/lib/y2storage/used_storage_features.rb">Ruby class</a> that maps those features to respective packages and <a href="https://github.com/shundhammer/yast-storage-ng/blob/master/src/lib/y2storage/package_handler.rb">one class</a> that handles package installation itself. One interesting technical aspect is how Ruby introspection capacities are used to avoid duplicating the list of defined features from the C++ part (i.e. libstorage).</p>
<h3>Power the chameleon</h3>
<p>Apart from all those changes in YaST, and many more we have not included in this summary, we have something else to celebrate. On February 1st the YaST Team at SUSE has grown with the addition of a new member, Iván, who will allow the project to evolve even faster and better&#8230; and that will not be the last announcement in that direction, so stay tuned.</p>
<p>But don&#8217;t forget you can also help YaST, and openSUSE in general, to keep moving. This week we added several ideas for <a href="https://summerofcode.withgoogle.com/">Google Summer of Code</a> projects to the <a href="http://101.opensuse.org/">openSUSE mentoring page</a>, including one idea to contribute to YaST. Do you have a better plan for this summer?</p>
<p>See you in less than three weeks, since the next sprint will be slightly shorter due to <a href="http://101.opensuse.org/">Hack Week 15</a>.</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2017/02/03/highlights-of-yast-development-sprint-30/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Highlights of YaST development sprint 29</title>
		<link>https://lizards.opensuse.org/2016/12/22/highlights-of-yast-development-sprint-29/</link>
		<comments>https://lizards.opensuse.org/2016/12/22/highlights-of-yast-development-sprint-29/#comments</comments>
		<pubDate>Thu, 22 Dec 2016 17:06:17 +0000</pubDate>
		<dc:creator><![CDATA[Yast Team]]></dc:creator>
				<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Factory]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Quality Assurance]]></category>
		<category><![CDATA[Software Management]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>
		<category><![CDATA[YaST]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=12180</guid>
		<description><![CDATA[It&#8217;s Christmas time and since (open)SUSE users have been nice, the YaST team brings some gifts for them. This is the result of the last development sprint of 2016. As you may have noticed, in the latest sprints we have been focusing more and more in making SUSE CASP possible. That&#8217;s even more obvious in [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>It&#8217;s Christmas time and since (open)SUSE users have been nice, the YaST team brings some gifts for them. This is the result of the last development sprint of 2016.</p>
<p>As you may have noticed, in the latest sprints we have been focusing more and more in making SUSE CASP possible. That&#8217;s even more obvious in this last sprint of the year. For those that have not been following this blog recently, it&#8217;s probably worth to remember that SUSE CASP will be a <a href="http://kubernetes.io/">Kubernetes</a> based Container As a Service Platform.</p>
<p>But our daily work goes beyond CASP, so let&#8217;s take a look to all the highlights.</p>
<h3>More improvements in the management of DHCLIENT_SET_HOSTNAME</h3>
<p>In the <a href="https://lizards.opensuse.org/2016/12/02/highlights-of-yast-development-sprint-28/">previous report</a> we presented the changes introduced in yast2-network to make the configuration parameter <code>DHCLIENT_SET_HOSTNAME</code> configurable in a per-interface basis.</p>
<p>One of the great things about working in an agile an iterative way, presenting and evaluating the result every three weeks, is that it allows us to detect room for improvements in our work. In this case we noticed some discrepancy in the expectations of Linuxrc and yast2-network and also some room for improvement in the code documentation and in the help texts.</p>
<p>Thus, we used this sprint to refine the work done in the previous one and tackle those problems down.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/shot_error_start.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/shot_error_start-300x225.png" alt="Improved error message" width="300" height="225" class="aligncenter size-medium wp-image-12184" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/shot_error_start-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/shot_error_start.png 640w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Ensure installation of needed packages</h3>
<p>Another example of iterative development. We already presented in the <a href="https://lizards.opensuse.org/2016/10/20/highlights-of-yast-development-sprint-26/">report of the 26th development sprint</a> a new mechanism to detect when the user had deselected during installation some package that was previously pre-selected by YaST in order to install the bootloader. Since the new functionality proved to work nicely, we decided to extend it to cover other parts of the system beyond the bootloader.</p>
<p>The software proposal now contains an error message including a list of missing packages or patterns, in case the user deselects some needed items.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_warning.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_warning-300x225.png" alt="Warning about missing packages" width="300" height="225" class="aligncenter size-medium wp-image-12220" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_warning-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_warning-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_warning.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>After clicking the <code>Install</code> button the installation is blocked, the user must resolve the problem either by selecting the packages back or by adjusting the respective YaST configuration (e.g. do not install any bootloader and disable the firewall).</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_popup.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_popup-300x225.png" alt="Blocking an incomplete installation" width="300" height="225" class="aligncenter size-medium wp-image-12221" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_popup-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_popup-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/missing_software_popup.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Rethinking the expert partitioner</h3>
<p>May we insist one more time on the topic of using Scrum to organize our work in an iterative way? <img src="https://s.w.org/images/core/emoji/2.2.1/72x72/1f609.png" alt="&#x1f609;" class="wp-smiley" style="height: 1em; max-height: 1em;" /> As our usual readers should already know, we structure the work into minimal units that produce a valuable outcome called <a href="https://www.scrumalliance.org/community/articles/2007/march/glossary-of-scrum-terms#1130">PBIs</a> in Scrum jargon. That valuable outcome doesn&#8217;t always have to be a piece of software, an implemented feature or a fixed bug. Sometimes a document adds value to YaST, specially if it can be used as base to collaborate with people outside the team.</p>
<p>Our readers also know that we are putting a lot of effort in rewriting the whole storage layer of YaST. That also implies rewriting the most powerful tool known by humanity to define partitions, volumes, RAIDs and similar stuff &#8211; the YaST expert partitioner.</p>
<p>It would be great if we could use the opportunity to make it both more powerful and more usable. You can take the first part for granted, but we are not so sure about our UI design skills. That&#8217;s why we wanted to have a base to discuss possible changes and alternative approaches with UX (user experience) experts. And we decided that it was worth to invest some time to create a document collecting the state of the art and some ideas for the future and to send that to SUSE experts in UX and to anybody with some interest in the topic.</p>
<p>Here you can find <a href="https://github.com/shundhammer/huha-misc-docs/blob/master/brainstorming-expert-partitioner.md">that fine piece of documentation</a>. Take a look to that document if you want to peek into YaST developers&#8217; mind. That&#8217;s the kind of stuff we discuss when we are about to start rewriting something&#8230; specially something that need to serve hundreds of different use cases.</p>
<p>And of course we would like to know your ideas or thoughts. We usually discuss this stuff at the public <a href="irc://irc.opensuse.org/yast">#yast IRC channel</a> and at the <a href="https://lists.opensuse.org/yast-devel/">yast-devel</a> mailing list. But if you prefer so, you can simply <a href="https://github.com/shundhammer/huha-misc-docs/issues">open an issue</a> at the repository hosting the document. Whatever works for you.</p>
<h3>Rethinking yast2-network</h3>
<p>But that was not the only documentation PBI finished during this sprint. Inspired by the first fruits of the storage layer reimplementation, we decided yast2-network also deserves a reincarnation.</p>
<p>As we did in the past with yast2-storage and libstorage, the first step is to collect as much information as possible about what can be currently done with the module and how it behaves in several situations, specially in tricky or complex scenarios. The outcome was three documents, one about the behavior during installation (<a href="https://github.com/yast/yast-network/blob/master/doc/installation.md">installation.md</a>), a second one about AutoYaST (<a href="https://github.com/yast/yast-network/blob/master/doc/autoinstallation.md">autoinstallation.md</a>) and another collecting general features (<a href="https://github.com/yast/yast-network/blob/master/doc/features.md">features.md</a>).</p>
<h3>CASP: merged dialogs for root password and keyboard layout</h3>
<p>CASP is a product targeted to a quite specific use case with simplicity as a main priority. The installation process has been streamlined to a minimal set of dialogs to configure just the very basic stuff. Among other removed things, there is no step to configure the system language. That can be a problem when entering the root password (the only user that will be created during installation), since the language settings screen is normally also used to select the keyboard layout.</p>
<p>The implemented solution is shown in the screenshot below. As you can see, the keyboard layout and root passwords selections are merged into a single step. As a bonus, we made both widgets more reusable, opening the possibility to place the root password widget or the keyboard layout selection anywhere.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/keyboard_and_root.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/keyboard_and_root-300x223.png" alt="Keyboard layout and root password screen" width="300" height="223" class="aligncenter size-medium wp-image-12204" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/keyboard_and_root-300x223.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/keyboard_and_root-768x572.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/keyboard_and_root-1024x762.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2016/12/keyboard_and_root.png 1028w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Storage reimplementation: handling GPT disks in the installation proposal</h3>
<p>After several sprints reporting small steps forward, in the 27th sprint we were <a href="https://lizards.opensuse.org/2016/12/02/highlights-of-yast-development-sprint-28/">happy to announce</a> that our testing ISO for the new storage stack was fully installable under certain circumstances. As we reported, it worked in UEFI or legacy systems with the only requirement of having a pre-existing MBR partition table in the disk.</p>
<p>Now we can say it also works with GPT partition tables and even with systems with a mixture of both technologies.</p>
<p>Making the GPT scenario work was much harder that it sounds due to several factors, like the strange way in which <code>parted</code> handles partition types in GPT or some peculiarities in the way the space is distributed in such partition tables.</p>
<p>But now our test ISO can install a fully functional system in the four combinations of MBR/GPT partition table and UEFI/Legacy boot, as it can be seen in the next image.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/proposal.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/proposal-133x300.png" alt="Storage proposal in several scenarios" width="133" height="300" class="aligncenter size-medium wp-image-12193" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/proposal-133x300.png 133w, https://lizards.opensuse.org/wp-content/uploads/2016/12/proposal-455x1024.png 455w, https://lizards.opensuse.org/wp-content/uploads/2016/12/proposal.png 676w" sizes="(max-width: 133px) 100vw, 133px" /></a></p>
<h3>The storage reimplementation gets its own openQA instance</h3>
<p>But there are better ways than screenshots to prove that something is working, even to prove it keeps working after future modifications. And in (open)SUSE we have one of the best tools for that &#8211; openQA.</p>
<p>We have always considered having the new stack tested in openQA as the first big milestone in its development (and we are finally there!) but we are aware that <a href="http://openqa.opensuse.org/">openQA.opensuse.org</a> is already quite busy testing a huge combination of products, architectures and scenarios&#8230; even testing releases of openQA itself. Fortunately openQA is free software and can be installed anywhere so we created our own instance of openQA to test YaST stuff, specially the new storage layer.</p>
<p>So far, that instance is hosted in the internal SUSE network, which is enough for us to get continuous feedback about the changes we introduce. In addition to installing the new instance and configuring it to continuously grab and check the <a href="http://download.opensuse.org/repositories/YaST:/storage-ng/images/iso/">latest testing ISO</a>, we had to introduce several changes in the ISO itself with the goal of keeping our tests as aligned as possible with the tests performed in the current Tumbleweed version by openQA.opensuse.org.</p>
<p>For example, we made sure the ISO was properly signed to avoid the need to always pass the <code>insecure=1</code> boot argument. We also included several packages that were missing in order to make sure the ISO included all the software checked during the so-called MinimalX test and to make sure it shared the look and feel with a regular Tumbleweed, since many openQA checks are screenshot-based.</p>
<p>From now on, we can back every new feature with the corresponding integration tests, something crucial to ensure the quality of a piece of software meant to handle storage hardware.</p>
<h3>Making Snapper work without DBus</h3>
<p>As you may know, some YaST team members are also the main developers and maintainers of <a href="http://snapper.io/">Snapper</a>, the ultimate file-system snapshot tool for GNU/Linux systems.</p>
<p>Normally the <code>snapper</code> command line tool uses <a href="https://www.freedesktop.org/wiki/Software/dbus/">DBus</a> to connect to <code>snapperd</code> which does most of the actual work. This allows non-root users to work with snapper.</p>
<p>There are however situations when using DBus is not possible and not being able to work in those situations was limiting Snapper&#8217;s usefulness. Now with the latest version all snapper commands support the <code>–no-dbus</code> option. This evolution is worth a blog post by itself&#8230; and, of course, we have it. To know all the details <a href="http://snapper.io/2016/12/19/no-dbus-for-all.html">check this post</a> at Snapper&#8217;s blog.</p>
<h3>CASP (and beyond): improved roles</h3>
<p>Do you remember the system roles feature introduced during <a href="https://lizards.opensuse.org/2016/03/15/highlights-of-development-sprint-16/">development sprint 16</a> and improved in subsequent sprints? In case you don&#8217;t, let us remind you that system roles allow to define many settings of the installation just by choosing one of the offered roles. That&#8217;s only possible, of course, in products making use of that feature, like SLES.</p>
<p>For CASP we will have 3 different roles, as shown in the following screenshot.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/casp_roles.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/casp_roles-300x225.png" alt="CASP system roles" width="300" height="225" class="aligncenter size-medium wp-image-12208" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/casp_roles-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp_roles-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp_roles.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>The main difference between these three roles is the selection of patterns to be installed. But apart from that, the Worker role will offer an extra step during installation allowing the user to specify the address of the so-called Administration Dashboard.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/worker_configuration.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/worker_configuration-300x225.png" alt="Configuration screen for the Worker role" width="300" height="225" class="aligncenter size-medium wp-image-12209" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/worker_configuration-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/worker_configuration-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/worker_configuration.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>That relatively small detail implied the development of a full new feature in the installer &#8211; the ability of a given role to define it&#8217;s own specific configuration, including the dialog to interact with the user. As expected from any other installation dialog, you can go back and forward without loosing the entered information. If the user goes back and selects a different role, then this additional dialog is not run again.</p>
<p>That new feature is, of course, not specific to CASP and could eventually be used in other products and roles. Just as a crazy example, openSUSE could decide to introduce a role called &#8220;NTP server&#8221;, running the YaST NTP server configuration right after the user selecting the role.</p>
<h3>Other CASP related features</h3>
<p>As already said, we have been focusing quite a lot on introducing features that are needed for CASP. It&#8217;s worth mentioning, in case it&#8217;s still unclear, that CASP will NOT ship its own adapted version of YaST. All the features introduced in the installer are in fact configurable and available for all other products as well. There is only one YaST codebase to rule them all.</p>
<p>Let&#8217;s briefly describe some of the introduced CASP-specific (at least for the time being) features.</p>
<p>CASP always uses Btrfs as filesystem for the root partition. At the end of the installation, the root btrfs subvolume will become read-only. All the other subvolumes will stay as read-write, as shown in this screenshot taken right after rebooting at the end of the installation process.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/casp-root-read-only-02.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/casp-root-read-only-02-300x237.png" alt="CASP subvolumes" width="300" height="237" class="aligncenter size-medium wp-image-12213" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-root-read-only-02-300x237.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-root-read-only-02-768x606.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-root-read-only-02-1024x808.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-root-read-only-02.png 1034w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>It makes no sense to update from any existing product to CASP. Thus, CASP media should not show an &#8220;update&#8221; option when booting, even if it&#8217;s still possible for advanced users to pass the <code>UPDATE</code> boot parameter. Since we needed to modify the <code>installation-images</code> package, we took the opportunity to make the &#8220;update&#8221; option and other settings configurable in a per product basis and we unified SLES and openSUSE packages, so now they share a single branch in the source code repository.</p>
<p>CASP is targeted to big deployments extended all over the world. To make possible the synchronization of geographically distributed nodes, the UTC timezone is enforced in every CASP installation. Thus, we implemented support for products to enforce a given timezone in the installer. Take into account this is different from a default timezone.</p>
<p>Last but not least, it has already been mentioned that the CASP installation workflow will have very few steps. That also affects the screen displaying the installations settings summary. In comparison to a regular SLES, some options must disappear because they are not configurable and some other sections must be added because they are not longer presented as a separate previous step. So far, this is the appearance of the installation settings screen in the current CASP prototype.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/summary.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/summary-290x300.png" alt="Installation settings in CASP prototype" width="290" height="300" class="aligncenter size-medium wp-image-12214" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/summary-290x300.png 290w, https://lizards.opensuse.org/wp-content/uploads/2016/12/summary-768x796.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/summary.png 949w" sizes="(max-width: 290px) 100vw, 290px" /></a></p>
<h3>&#8230;and a surprise about the blog</h3>
<p>We also prepared a Christmas gift related to the blog. The technical aspects are solved, but we are ironing out the administrative details. So you will have to wait until the next sprint report to see it in full glory. But, as the Spanish proverb says, &#8220;good things are worth waiting for&#8221;.</p>
<h3>See you next year</h3>
<p>That&#8217;s enough to report from our December sprint, we don&#8217;t want to bore you with every small bug fix. And talking about things that are worth waiting for, our next report will very likely be published at the beginning of February 2017.</p>
<p>That&#8217;s because we will put our Scrum process on hold during the Christmas session. We will restart it on the second week of the year, after the visit of the Three Wise Men. In several countries, it&#8217;s a tradition that the Three Kings bring gifts to the kids that have been nice, so let&#8217;s expect they bring us some new members for the team!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2016/12/22/highlights-of-yast-development-sprint-29/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>Highlights of YaST development sprint 28</title>
		<link>https://lizards.opensuse.org/2016/12/02/highlights-of-yast-development-sprint-28/</link>
		<pubDate>Fri, 02 Dec 2016 14:13:07 +0000</pubDate>
		<dc:creator><![CDATA[Yast Team]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Factory]]></category>
		<category><![CDATA[Network]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>
		<category><![CDATA[YaST]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=12141</guid>
		<description><![CDATA[November is over, Santa Claus elves start to stress and the YaST team brings you one of the last reports of 2016. Let&#8217;s see what&#8217;s new in YaSTland. Harder to ignore installation warning The &#8220;installation settings&#8221; summary screen usually reports some non-critical errors displayed as a red text. Although the installation can proceed despite those [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>November is over, Santa Claus elves start to stress and the YaST team brings you one of the last reports of 2016. Let&#8217;s see what&#8217;s new in YaSTland.</p>
<h3>Harder to ignore installation warning</h3>
<p>The &#8220;installation settings&#8221; summary screen usually reports some non-critical errors displayed as a red text. Although the installation can proceed despite those errors, they are usually serious enough to lead to problems. That&#8217;s why we decided to introduce a change to highlight them a little bit more, making them harder to overlook.</p>
<p>The following screenshot shows the newly introduced confirmation dialog, presented before proceeding with installation.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/11/warn.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/11/warn-300x227.png" alt="Preventing users to shoot their feet" width="300" height="227" class="aligncenter size-medium wp-image-12152" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/11/warn-300x227.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/11/warn-768x582.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/11/warn-1024x776.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2016/11/warn.png 1027w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Make DHCLIENT_SET_HOSTNAME configurable on a per-interface basis</h3>
<p>But that&#8217;s not the only usability-oriented enhancement on this sprint. We also reworked a bit the network configuration dialog.</p>
<p>For home users is very common to use a fixed hostname -set during installation- for our beloved linux box. But in some circumstances it&#8217;s better to set the hostname of the machine dynamically using DHCP, something YaST has always allowed to do by just ticking a checkbox that used to be in the network configuration screen. See &#8220;Change Hostname via DHCP&#8221; below.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/old-network.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/old-network-300x225.png" alt="The old network settings screen" width="300" height="225" class="aligncenter size-medium wp-image-12162" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/old-network-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/old-network.png 640w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>That checkbox used to modify the system-wide variable <code>DHCLIENT_SET_HOSTNAME</code>, which was fine in scenarios in which only one of the network interfaces was configured via DHCP. But with several network interfaces connected to different DHCP-enabled networks, some problems arose.</p>
<p>During installation, if network configuration is used, <a href="https://en.opensuse.org/SDB:Linuxrc">Linuxrc</a> creates the <code>ifcfg</code> files with <code>DHCLIENT_SET_HOSTNAME='yes'</code> for all of the enabled or configured interfaces and this value has precedence over the global one.</p>
<p>So the main problem was that YaST only allowed us to modify the global variable and setting it to &#8216;no&#8217; did nothing because it was enabled for some interface.</p>
<p>During this sprint we have fixed that and now the user interface offers the possibility of choosing which DHCP interface will be used to decide the hostname.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/new-network.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/new-network-300x225.png" alt="The new network settings screen" width="300" height="225" class="aligncenter size-medium wp-image-12163" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/new-network-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/new-network.png 640w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Apart from choosing one of the existing interfaces, the new setting can also be set to &#8216;no&#8217; or to &#8216;any&#8217;. In any case, YaST will always configure the system-wide options and the interface specific ones in a consistent way, so the behavior is always predictable.</p>
<p>But YaST is not the only way of configuring the network, so it&#8217;s always possible to have an unpredictable configuration. Fortunately, those potentially problematic scenarios will be detected by YaST and reported to the user.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/any-network.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/any-network-300x225.png" alt="Detecting dangerous scenarios in network settings" width="300" height="225" class="aligncenter size-medium wp-image-12164" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/any-network-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/any-network.png 640w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Partitioning in CASP</h3>
<p>In the <a href="https://lizards.opensuse.org/2016/11/10/highlights-of-yast-development-sprint-27/">previous report</a> we already explained how are we improving the installer to support the definition of the ultra-streamlined installation process of SUSE CASP, the new <a href="http://kubernetes.io/">Kubernetes</a> based member of the SUSE family.</p>
<p>In this sprint we introduced several additional changes to enable a different partitioning approach, more guided and automatic than ever. In a CASP node it makes no sense to use the advanced settings offered by our storage proposal, like encryption or LVM. Moreover, CASP relies on Btrfs to provide some of its cool and advanced features, like transactional updates.</p>
<p>As a result, although the regular SUSE and openSUSE releases will keep offering all the current possibilities in the same way than ever, in CASP the partitioning step will be skipped and the automatically calculated proposal will be simply displayed in the installation summary.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/casp-installation-summary.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/casp-installation-summary-300x186.png" alt="The new CASP installation summary" width="300" height="186" class="aligncenter size-medium wp-image-12170" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-installation-summary-300x186.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-installation-summary-768x477.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-installation-summary-1024x636.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-installation-summary.png 1356w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Clicking on the proposal will allow to re-target the installation to a different disk (or disks) in a similar way than the regular installer, but the options will be more limited. Again, no easy way to use LVM, encryption, separate home or any file system type other than Btrfs.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/casp-select-partitions.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/casp-select-partitions-300x186.png" alt="Selecting the partitions in CASP, no proposal settings button" width="300" height="186" class="aligncenter size-medium wp-image-12171" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-select-partitions-300x186.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-select-partitions-768x477.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-select-partitions-1024x635.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-select-partitions.png 1352w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>The expert partitioner is still available during CASP installation, but using it will show an extra warning, since it implies a much bigger risk than using it in a regular SUSE or openSUSE system.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/casp-expert-partitioner-warning.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/casp-expert-partitioner-warning-300x186.png" alt="Expert partitioner warning in CASP" width="300" height="186" class="aligncenter size-medium wp-image-12172" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-expert-partitioner-warning-300x186.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-expert-partitioner-warning-768x477.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-expert-partitioner-warning-1024x636.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2016/12/casp-expert-partitioner-warning.png 1352w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Improved debugger integration</h3>
<p>We have improved the Ruby debugger integration in YaST. So far you could start the debugger using the <code>y2debugger=1</code> boot option or by setting the <code>Y2DEBUGGER=1</code> environment variable. The new feature allows starting the Ruby debugger also later when the YaST module is already running.</p>
<p>Simply press the <code>Shift+Ctrl+Alt+D</code> keyboard shortcut (<code>D</code> as debug) and it will start the Ruby debugger. It works during installation and also in installed system (just make sure the <code>byebug</code> Ruby gem is installed).</p>
<p>Unfortunately this new feature works only in the Qt UI, the ncurses UI is not supported (currently it does not handle the debugging keyboard shortcut at all).</p>
<p>After pressing the keyboard shortcut the debugger window will pop up:</p>
<p><img src="//lizards.opensuse.org/wp-content/uploads/2016/11/debugger.gif" alt="New debugger integration" /></p>
<h3>Storage reimplementation: it&#8217;s alive!</h3>
<p>It took us one more sprint than originally expected, but finally we can say the testing ISO for the new storage stack is fully installable.</p>
<p>We fixed the UEFI + MBR partition table scenario we already had almost working in the previous sprint (turns out it was not that broken in Tumbleweed after all) and we adapted yast2-bootloader to be also able to deal with legacy (i.e. no UEFI) booting using the new storage stack.</p>
<p>As a nice result, our testing ISO can be used to install a perfectly functional system in both UEFI or legacy systems with the only requirement of having a pre-existing MBR partition table in the disk. It only shows a couple of error pop-ups related to the calculation of the proposal of software to be installed, but nothing that would prevent you from replacing whatever operating system you have with a new shiny openSUSE-based experiment.</p>
<p>This milestone opens the door to start testing the new stack with openQA, the same system that helps to guarantee the robustness of all the recent SUSE and openSUSE versions.</p>
<h3>Storage reimplementation: preparations for the storage proposal</h3>
<p>Now that yast2-bootloader starts to be ready to work with the new storage stack in more and more scenarios, it&#8217;s time to adapt the only component that still complains during the installation. </p>
<p>In order to make that task doable during the next sprint, we invested some time in this sprint analyzing the interaction between the software proposal calculator and the old storage layer. The outcome was <a href="https://github.com/yast/yast-storage-ng/blob/master/doc/software-requirements.md">a small document</a> detailing what needs to be adapted in the proposal and in the new stack. The perfect input for a task in the next sprint.</p>
<h3>Help for power-users with short memory</h3>
<p>Our beloved YaST is packed with <a href="https://en.opensuse.org/SDB:YaST_tricks">magic tricks</a> below the surface. Many of them are very useful to debug installation problems or to better understand how the YaST internals work. Unfortunately developers tend to not be that good at blindly memorizing stuff and the functionality is so well hidden that most newcomers would have hard times finding it&#8230; until now.</p>
<p>We have added a couple of new keyboard shortcuts to show a summary of all the advanced hotkeys, so now you only have to remember one key combination instead of a dozen of them. In both text (ncurses) and graphical (Qt) mode, it will be enough to press <code>shift+F1</code> to get the advanced help displayed below. Since some terminal emulators could already use that combination, <code>ctrl+D F1</code> can also be used in the ncurses interface as an alternative.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/12/hotkey-help-qt.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/12/hotkey-help-qt-300x268.png" alt="Advanced Hotkeys help dialog" width="300" height="268" class="aligncenter size-medium wp-image-12167" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/12/hotkey-help-qt-300x268.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/12/hotkey-help-qt.png 589w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Contributions keep coming!</h3>
<p>As we have already mentioned in previous sprint reports, an important part of our daily job as open source developers is helping casual (and not so casual) contributors to bring their ideas and code into YaST and related projects.</p>
<p>This time that (hopefully not casual) contributor was <a href="https://github.com/dwaas">Devin Waas</a>, who wanted to improve the installation to make the life of cloud-lovers easier.</p>
<p>For cloud guys out there retrieving logs of a failed installation <del>is</del> was a huge problem. Now, thanks to Devin, all you need is a running a rsyslog server and you&#8217;ll be able to easily access your installation logs from there.</p>
<p><img class="aligncenter" src="//lizards.opensuse.org/wp-content/uploads/2016/11/dvw.png" alt="A drawing is worth a thousand words" /></p>
<p>As a matter of fact, the newest Tumbleweed release allows us to specify the IP address of a remote server from the bootloader through the &#8220;Loghost flag&#8221;. Linuxrc will take care of setting up a UDP broadcast for dmesg contents and YaST installation logs.</p>
<p>This is just a first step. Devin promised further improvements of our newly implemented remote logging system. And he codes better than he draws, so stay tuned! </p>
<h3>Storage reimplementation: LVM-based proposal</h3>
<p>As we already mentioned in previous reports, when we started to develop the partitioning proposal we first focused in the scenario of a partition-based proposal with one or several MBR-style partition tables. That looked like the most complex scenario due to the limited number of primary partitions, the alignment problems, the overhead introduced by the <a href="https://en.wikipedia.org/wiki/Extended_boot_record">EBR (extended boot record)</a> of every logical partition and so on.</p>
<p>A couple of sprints ago, we got that working so we started to work on the LVM-based proposal. It took a little bit longer than expected but now we are able to generate LVM-based proposals for almost every possible scenario. The goal was to have them working in our mocked test cases. So probably the new LVM-based proposal cannot still be used to install a fully functional system, but it is backed by a full load of tests that prove we can handle many situations, from trivial to really tricky ones&#8230; and believe us, things can get quite tricky if you mix logical partitions with their EBR overhead and LVM volumes with their <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/pe.html">PE size</a> rounding and their <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/5/html/Logical_Volume_Manager_Administration/lvm_metadata.html">metadata</a> overhead.</p>
<h3>Bugs, bugs, bugs</h3>
<p>In this sprint we kept the already commented approach of making the fix of low-priority and small bugs part of the Scrum process. As a result we accounted for approximately 50 deaths of those annoying creatures.</p>
<h3>Conclusion</h3>
<p>Looking at the report, we could say it was a quite successful sprint. But to be honest we were aiming even higher. Quite some interesting PBIs (features or bug-fixes in Scrum jargon) were almost done at the end of the sprint. But following Scrum philosophy, we never blog about almost-done stuff.</p>
<p>Thus, if nothing goes wrong things will be even better in the next report in three weeks. So have a lot of fun trying the new stuff and stay tuned for more!</p>
]]></content:encoded>
			</item>
		<item>
		<title>Highlights of YaST development sprint 26</title>
		<link>https://lizards.opensuse.org/2016/10/20/highlights-of-yast-development-sprint-26/</link>
		<comments>https://lizards.opensuse.org/2016/10/20/highlights-of-yast-development-sprint-26/#comments</comments>
		<pubDate>Thu, 20 Oct 2016 12:36:54 +0000</pubDate>
		<dc:creator><![CDATA[Yast Team]]></dc:creator>
				<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Factory]]></category>
		<category><![CDATA[Localization]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>
		<category><![CDATA[YaST]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=12055</guid>
		<description><![CDATA[We did our best to keep you entertained during this development sprint with a couple of blog posts ([1] and [2]). But now the sprint is over and it&#8217;s time for a new report. Squashing low priority bugs One of the main reasons to adopt Scrum was to ensure we make a good use of [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>We did our best to keep you entertained during this development sprint with a couple of blog posts (<a href="https://lizards.opensuse.org/?p=12019">[1]</a> and <a href="https://lizards.opensuse.org/?p=12030">[2]</a>). But now the sprint is over and it&#8217;s time for a new report.</p>
<h3>Squashing low priority bugs</h3>
<p>One of the main reasons to adopt Scrum was to ensure we make a good use of our development resources (i.e. developers&#8217; time and brains) focusing on things that bring more value to our users. In the past we had the feeling that many important things were always postponed because the developers were flooded by other not so important stuff. Now that feeling is gone (to a great extent) and we have a more clear and shared view of the direction of our development efforts.</p>
<p>But there is always a drawback. We have accumulated quite some unsolved low-priority bugs. That was an expected consequence, but still it was starting to feel wrong. On one hand, it makes us feel uncomfortable &#8211; replying &#8220;this will have to wait&#8221; so often is not nice, even if it&#8217;s for the shake a bigger goal. On the other hand, the amount of low-priority stuff was affecting the signal/noise ratio on Bugzilla, making harder to distinguish the important stuff.</p>
<p>So far, dealing with those low-priority bug was something that each developer did on his own, as permitted by the time dedicated to Scrum. In sprint 26 we decided to make that effort an explicit part of the process and to devote a significant portion of the sprint to it. As a result we closed or reassigned a total of 135 bugs that were just sitting in our list.</p>
<p>Yes, you did read it right. One hundred and thirty five bugs.</p>
<h3>Storage reimplementation: our testing ISO can already destroy your data</h3>
<p>On the previous sprint we already showed a screenshot of the installer using the new storage stack to calculate a partitioning proposal. Now the installer can go one step further. As you can see on this animation, the changes are now committed to the disk, meaning the system is actually partitioned, formatted and installed.</p>
<p><img src="//lizards.opensuse.org/wp-content/uploads/2016/10/demo_commit_to_disk.gif" alt="Installation with the new storage stack"></p>
<p>The process is interrupted after installing the software, when trying to configure and install the bootloader. That was expected because yast2-bootloader has still not been adapted to use the new stack. First of all, because we wanted to leave some fun for sprint 27. But also because we used this sprint (26) to document <a href="https://github.com/yast/yast-bootloader/blob/master/doc/boot_storage_needed_info.md">all the requirements of yast2-bootloader</a> in relation to the new storage stack. Now we have in place all the ingredients to cook an installable ISO.</p>
<h3>Automatic update of translation files</h3>
<p>Recently openSUSE has adopted <a href="https://weblate.org">Weblate</a> to perform and coordinate the translation of the software and the project&#8217;s web pages. The <a href="https://l10n.opensuse.org/">openSUSE&#8217;s Weblate instance</a> enables everybody (from dedicated translators to casual contributors) to take part in the process and makes possible to coordinate the translations of openSUSE with the ones for SUSE Enterprise Linux, boosting collaboration between the translators of both projects.</p>
<p>As YaST developers, is of course our responsibility to ensure that openSUSE&#8217;s Weblate contains always the latest English strings to be translated. Making our developer&#8217;s life easier sometimes not only brings advantages for us but also for our users. Until now, after each code change we had to keep in mind to trigger the translation process for every added or changed English text. Sometimes we were not quick enough so that some English leftovers remained in our awesome YaST when being used in one of the 20 languages where the translation is normally 100% complete.</p>
<p>Now we finally set up a <a href="https://ci.opensuse.org/">Jenkins</a> job to automate the process of triggering the translation update after code changes. This saves the developers some work and makes the update of translations even faster.</p>
<p>Looking at <a href="https://l10n.opensuse.org/languages/">Weblate numbers</a>, you can see we have 20 languages that are about 100% translated, another 20 that are translated more than 75% and 37 languages which are translated less than 75%. So we still need some help to bring all languages to 100% coverage. If you are willing to contribute, why not join our team of translators? Check out <a href="https://en.opensuse.org/openSUSE:Localization_guide">the localization guide</a> to get in contact with the coordinators of your preferred language to learn about how to contribute with translations, reviews or by any other mean.</p>
<h3>Ensure installation of packages needed for booting</h3>
<p>We got some reports of systems not being able to work after the installation in scenarios in which the user had customized the list of packages to install. That happened because, although the bootloader component of YaST pre-selects for installation all the needed packages, the user can override that selection and manually disable the installation of those packages.</p>
<p>To prevent this situation, or at least to increase awareness of it, the installer now alerts in the summary screen (the last step before proceeding to installation) if some of the required packages is missing, as you can see in the screenshot below. We still allow the users to shoot their own feet if they insist, but now we warn them very clearly.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/10/softw.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/10/softw-300x226.png" alt="Warning about de-selected Grub2 package" width="300" height="226" class="aligncenter size-medium wp-image-12057" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/10/softw-300x226.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/10/softw-768x578.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/10/softw-1024x770.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2016/10/softw.png 1025w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Progress in the low-vision accessibility of the installer</h3>
<p>During this sprint, we have been working to make the (open)SUSE installer accessible to people with low-vision impairment. We already <a href="https://lizards.opensuse.org/?p=12019">blogged about it</a> looking for feedback.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/10/highc.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/10/highc-300x225.png" alt="One of the new color modes available in the installer" width="300" height="225" class="aligncenter size-medium wp-image-12065" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/10/highc-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/10/highc-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/10/highc.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>In a few days, some changes will land in Tumbleweed:</p>
<ul>
<li>Alternative style selection (color and font-sizes). Currently, we offer four options: default (no changes), high contrast (cyan/green/white/black), white on black and cyan on black. Those styles are just a proof of concept in order to test the code changes and, most important, to get feedback from you.</li>
<li>A <a href="https://bugzilla.suse.com/show_bug.cgi?id=768112">long-standing issue</a>, which prevented to switch to high-contrast mode during installation (shift+F4), has been fixed.</li>
</ul>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/10/linuxrc.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/10/linuxrc-300x225.png" alt="Style selection at the beginning of installation" width="300" height="225" class="aligncenter size-medium wp-image-12066" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/10/linuxrc-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/10/linuxrc-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/10/linuxrc.png 800w" sizes="(max-width: 300px) 100vw, 300px" /></a><br />
Although we have made some progress, it is still an ongoing effort and we hope to release more improvements during the upcoming weeks.</p>
<h3>Recover from broken bootloader configuration</h3>
<p>There are situations in which YaST Bootloader is not able to read the system configuration. For example, when the udev device originally used by Grub2 is no longer available. In the past that leaded to YaST crashes, requiring a manual fix of the bootloader configuration files. Now YaST correctly detects the situation and offers the option to propose a new configuration with correct devices.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/10/bootl.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/10/bootl-300x170.png" alt="YaST bootloader fixing a broken configuration" width="300" height="170" class="aligncenter size-medium wp-image-12058" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/10/bootl-300x170.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/10/bootl-768x435.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/10/bootl-1024x580.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2016/10/bootl.png 1346w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Disable autorefresh by default in local media</h3>
<p>We have changed the default autorefresh flag for the new repositories added by YaST. In the past the autorefresh was enabled for all repositories except CD/DVD media and ISO files.</p>
<p>With the new defaults the autorefresh is enabled only for remote repositories (like http, ftp, nfs,&#8230;). The reason is that some local repositories might not be always available (e.g. external hard disk, USB flash drive,&#8230;) and the automatic refresh might cause ugly errors when starting the package manager.</p>
<p>Of course, you can still manually change the autorefresh flag after adding a repository if you need a different value.</p>
<p><i>Note: The default has been changed in Tumbleweed distribution only, Leap 42.2 or SLE-12-SP2 keep the old defaults. The zypper behavior is unchanged as well, it by default disables autorefresh for all repositories. Only repositories imported from a .repo file have autorefresh enabled. See <code>man zypper</code> for more details.</i></p>
<h3>Tons of improvements in network bridge handling</h3>
<p>YaST Network is Swiss Army knife for network configuration which comprehends the management of routing, bonding, bridging and many other things. But, to be honest, the management of bridges was not in the best possible shape. It had quite some usability problems and it was not 100% consistent with the way in which bridges are managed nowadays by <a href="https://en.opensuse.org/Portal:Wicked">Wicked</a> in (open)SUSE. Until now!</p>
<p>This <a href="https://github.com/yast/yast-network/pull/448">pull request</a> with several screenshots and animations tries to summarize all the changes that have been done during this sprint. Like adapting old configuration files to the new conventions or unifying the UI to make it consistent with the one for managing bonding.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/10/bridge.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/10/bridge-300x225.png" alt="Revamped YaST interface for handling bridges" width="300" height="225" class="aligncenter size-medium wp-image-12077" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/10/bridge-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/10/bridge-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/10/bridge.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>This revamp includes also quite some usability improvements:</p>
<ul>
<li>&#8220;NONE&#8221; is shown instead of 0.0.0.0 for old bridge configuration.</li>
<li>The bridge master is shown in the enslaved interface.</li>
<li>The interfaces overview is updated after a bridge is modified.</li>
</ul>
<h3>Optimizing read of hosts file</h3>
<p>It was reported that yast2-network was slow in system with a lot of entries in the <code>/etc/hosts</code> file. We took that as an opportunity to test the new profiler support in YaST. The profiler revealed the problem was in some slow calls to <a href="http://yastgithubio.readthedocs.io/en/latest/architecture/#system-configuration-repository-scr">SCR</a>, the layer traditionally used by YaST to interact with the underlying system&#8230; which sounded like another opportunity. This time an opportunity to expand the use of <a href="https://github.com/config-files-api/config_files_api">CFA</a> (the component we are developing to steady replace SCR) and its <a href="http://augeas.net/">Augeas</a> parser. Since Augeas already supports parsing of <code>/etc/hosts</code> files, it was quite straightforward to implement that into YaST&#8230; and the result is quite impressive.</p>
<p>The time needed to execute the next command in a system containing a huge <code>/etc/hosts</code> with around 10,000 entries (quite an extreme case, we know) was reduced from 75 seconds to just 20.</p>
<pre>
yast2 lan list
</pre>
<p>As you can see in <a href="https://github.com/config-files-api/config_files_api/pull/10">this pull request</a>, we also improved CFA itself, greatly reducing the time needed for reading configuration files with Augeas.</p>
<h3>That&#8217;s all&#8230; until next report</h3>
<p>Once again, we must conclude the report telling that this was just a small summary of all the work done during the sprint and that we will be back in three weeks with the next report. Or maybe before, now that we are starting to get used to blog more often.</p>
<p>In any case, see you soon and don&#8217;t forget to have a lot of fun!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2016/10/20/highlights-of-yast-development-sprint-26/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Improving low-vision accessibility of the installer</title>
		<link>https://lizards.opensuse.org/2016/10/07/improving-low-vision-accessibility-of-the-installer/</link>
		<comments>https://lizards.opensuse.org/2016/10/07/improving-low-vision-accessibility-of-the-installer/#comments</comments>
		<pubDate>Fri, 07 Oct 2016 08:25:36 +0000</pubDate>
		<dc:creator><![CDATA[Yast Team]]></dc:creator>
				<category><![CDATA[Accessibility]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>
		<category><![CDATA[YaST]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=12019</guid>
		<description><![CDATA[In our latest report, we promised you would not have to wait another three weeks to hear (or read) from us. And here we are again, but not with any of the anticipated topics (build time reduction and Euruko 2016), but with a call for help in a topic that could really make a difference [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>In our <a href="https://lizards.opensuse.org/?p=11983">latest report</a>, we promised you would not have to wait another three weeks to hear (or read) from us. And here we are again, but not with any of the anticipated topics (build time reduction and Euruko 2016), but with a call for help in a topic that could really make a difference for (open)SUSE.
</p>
<p>
Nowadays, YaST team is trying to fix a long-standing issue in the installer: <a href="https://bugzilla.suse.com/show_bug.cgi?id=780621">low-vision accessibility</a>. In the past, a user could get a high-contrast mode just pressing shift+F4 during installation. Unfortunately, that feature does not work anymore and, to be honest, changing to a high-contrast palette is not enough. Other adjustments, like setting better font sizes, should be taken into account.
</p>
<p>
Another option is to use the textmode installation and set some obscure variable (<code>Y2NCURSES_COLOR_THEME</code>) to get the high-contrast mode. But it sounds like the opposite to <em>user friendly</em>.
</p>
<p>
  Some days ago, the team fired up the <a href="https://lists.opensuse.org/opensuse-factory/2016-09/msg00593.html">discussion</a> in the opensuse-factory mailing list but we would like to reach as many people as we can to gather information and feedback about this topic. Getting some affected people involved in the process would be really awesome!
</p>
<p>For the time being we’re already working on some improvements:</p>
<ul>
<li>
    Adding a Linuxrc option so the user can set the high-contrast mode from the very beginning.
  </li>
<li>
    Fixing <a href="http://bugzilla.novell.com/show_bug.cgi?id=768112">shift+F4 support</a>.
  </li>
<li>
    Improving the high-contrast mode appearance. Below you can see a screenshot of the work in progress.
  </li>
</ul>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2016/10/lowvision.png"><img src="//lizards.opensuse.org/wp-content/uploads/2016/10/lowvision-300x225.png" alt="First prototype of the new high contrast mode" width="300" height="225" class="aligncenter size-medium wp-image-12025" srcset="https://lizards.opensuse.org/wp-content/uploads/2016/10/lowvision-300x225.png 300w, https://lizards.opensuse.org/wp-content/uploads/2016/10/lowvision-768x576.png 768w, https://lizards.opensuse.org/wp-content/uploads/2016/10/lowvision.png 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>
  But we would like to hear from you. You can raise your voice in the already mentioned <a href="https://lists.opensuse.org/opensuse-factory/2016-09/msg00593.html">thread at the opensuse-factory mailing list</a> or leave a comment in the related <a href="https://github.com/libyui/libyui-qt/pull/60">pull request</a> at Github. If you prefer to have a chat, we&#8217;re also available on <a href="irc://irc.opensuse.org/yast">the #yast IRC channel</a> at Freenode&#8230; and we love to see people there. <img src="https://s.w.org/images/core/emoji/2.2.1/72x72/1f609.png" alt="&#x1f609;" class="wp-smiley" style="height: 1em; max-height: 1em;" />
</p>
<p>
Please, join us to make YaST even better!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2016/10/07/improving-low-vision-accessibility-of-the-installer/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>Live ISO Multi-boot USB revisited &#8211; live-grub-stick</title>
		<link>https://lizards.opensuse.org/2015/12/25/live-iso-multi-boot-usb-revisited-live-grub-stick/</link>
		<pubDate>Fri, 25 Dec 2015 09:31:48 +0000</pubDate>
		<dc:creator><![CDATA[Jigish Gohil]]></dc:creator>
				<category><![CDATA[Derivative]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Systems Management]]></category>
		<category><![CDATA[Usability]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=11624</guid>
		<description><![CDATA[Earlier tool live-fat-stick uses syslinux to create multiboot USB stick/hdd on a vfat parition without having to format the stick preserving existing data and copying whole ISO so the same stick can serve as demo as well as to copy ISOs for distributing. However the disadvantages are all of them that comes from using vfat. [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Earlier tool <a href="https://lizards.opensuse.org/2012/09/13/live-fat-stick/">live-fat-stick</a> uses syslinux to create multiboot USB stick/hdd on a vfat parition without having to format the stick preserving existing data and copying whole ISO so the same stick can serve as demo as well as to copy ISOs for distributing. However the disadvantages are all of them that comes from using vfat.</p>
<p>Grub2 has come a long way and almost all major distributions now support booting from the iso image via loopback. So here is <a href="https://software.opensuse.org/package/live-grub-stick">live-grub-stick</a> script that uses grub in place of syslinux bringing in all the advantages of using grub2.</p>
<p>Currently live images of openSUSE, Ubuntu, Fedora and all their clones are supported. Go ahead and <a href="https://github.com/cyberorg/live-fat-stick">fork it</a> if you would like to add support for your distribution.</p>
]]></content:encoded>
			</item>
	</channel>
</rss>
