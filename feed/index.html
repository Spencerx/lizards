<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>openSUSE Lizards</title>
	<atom:link href="https://lizards.opensuse.org/feed/" rel="self" type="application/rss+xml" />
	<link>https://lizards.opensuse.org</link>
	<description>Blogs and Ramblings of the openSUSE Members</description>
	<lastBuildDate>Mon, 24 Mar 2014 12:46:00 +0000</lastBuildDate>
	<language>en-US</language>
		<sy:updatePeriod>hourly</sy:updatePeriod>
		<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.8.1</generator>
	<item>
		<title>Emscripten and openSUSE: Hands on.. Hands up!</title>
		<link>https://lizards.opensuse.org/2014/03/24/emscripten-and-opensuse-hands-on-hands-up/</link>
		<comments>https://lizards.opensuse.org/2014/03/24/emscripten-and-opensuse-hands-on-hands-up/#comments</comments>
		<pubDate>Mon, 24 Mar 2014 08:09:43 +0000</pubDate>
		<dc:creator><![CDATA[Tuukka Pasanen]]></dc:creator>
				<category><![CDATA[lizards.openSUSE.org]]></category>
		<category><![CDATA[Miscellaneous]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[emscripten]]></category>
		<category><![CDATA[SDL]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10686</guid>
		<description><![CDATA[I can code with javascript and I&#8217;m fairly good at it (not marvelous just brialiant!). If you have read some of my resent blog post I think in C/C++/Perl or Bash. I also have some kind of a hobby to help out with UnReal world RPG game. Mostly my part is to make it work [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><img src="https://github-camo.global.ssl.fastly.net/b13f9c10472ae855af98d549d5bb47c3b3ec486c/687474703a2f2f646c2e64726f70626f782e636f6d2f752f38303636343934362f656d736372697074656e5f6c6f676f2e6a7067" width="700" height="250" alt="Emscripten logo" class="alignnone" /><br />
I can code with javascript and I&#8217;m fairly good at it (not marvelous just brialiant!). If you have read some of my resent <a href="//lizards.opensuse.org/2013/10/15/opensuse-and-gcc-part-2/" title="openSUSE and GCC part 2: compiling ‘Hello World’">blog</a> <a href="//lizards.opensuse.org/2013/11/12/opensuse-and-gcc-part-6/" title="openSUSE and GCC part 6: Introduction to autotools">post</a> I think in C/C++/Perl or Bash. I also have some kind of a hobby to help out with <a href="http://unrealworld.fi">UnReal world RPG</a> game. Mostly my part is to make it work with *nix platform (mainly Linux and Mac OS X).<br />
As we have seen world is moving fast forward towards web. It&#8217;s  the-place-to-be for everyone. There is huge potential for players just wandering around and yelling for pleasure to play UrW! So I thought let&#8217;s see if we could port SDL to javascript/Flash or something straight from same source. after tiny amount of searching I popped up <a href="https://github.com/kripken/emscripten" title="Emscripten">Emscripten</a>.<span id="more-10686"></span></p>
<h2>Emscripten in nutshell</h2>
<p>Emscripten is stated in their Github page (which seems to be only place to reach this project) like this:</p>
<pre>
Emscripten is an LLVM-to-JavaScript compiler. It takes LLVM bitcode - which can be generated from C/C++, using llvm-gcc or clang, or any other language that can be converted into LLVM - and compiles that into JavaScript, which can be run on the web (or anywhere else JavaScript can run).
</pre>
<p>So in other words you can your existing C++ or C source code and compile it (with minor changes) to javascript pseudocode with LLVM back-end. I thought it can&#8217;t be working and started digging further.</p>
<h2>How to test it on openSUSE</h2>
<p>If you have openSUSE 12.3 or above you are good to go or you need to install LLVM 3.2 or above from OBS. You can do it with zypper like this:</p>
<pre>
zypper install llvm llvm-devel llvm-clang llvm-clang-devel git nodejs
</pre>
<p>Ain&#8217;t Clang just another C-compiler? So why not use GCC? Answer is  LLVM is very flexible system (GCC is kinda married to C/C++. even there is many other backends) that turns code to <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree" title="Abstract syntax tree">Abstract syntax tree</a> and then back-end compiles it to binary (which can anything from machine code to some of your favorite byte code like Java/C#). So in other words you have parser (clang) and you write back-end to generate code (javascript) quite easily (in theory). I think it was kind idea behind GCC in version 3.0 but as said it doesn&#8217;t work as seamlessly as it works in LLVM. Another strong point with LLVM is license. (L)GPL is fine license but if you have compiler you license should be as free as it gets.</p>
<h2>So HOW TO TEST IT?</h2>
<p>I haven&#8217;t got time to make rpm-package from Emscripten because I&#8217;m still learning by myself but I&#8217;ll share now what I have learned:</p>
<ul>
<li><a href="https://github.com/kripken/emscripten">Read documentatio</a>n</li>
<li><a href="https://github.com/kripken/emscripten/wiki/Tutorial">Read documentation</a></li>
<li><a href="http://kripken.github.io/clangor/demo.html">Read documentation</a></li>
</ul>
<p>Ok now you have read Emscripten documentation and you have clang, nodejs and git installed. Clone the Emscripten Git-repo</p>
<pre>
git clone https://github.com/kripken/emscripten.git
</pre>
<p>If you just want to test something you can follow this tutorial: <a href="http://sol.gfxile.net/emscripten/">http://sol.gfxile.net/emscripten/</a> so you get the idea. This how far I&#8217;ll take you this time. I&#8217;ll figure out some SDL examples to be ported (since UnReal World RPG uses SDL) in near future so stay tuned. </p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/24/emscripten-and-opensuse-hands-on-hands-up/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Proprietary AMD/ATI Catalyst fglrx rpms released</title>
		<link>https://lizards.opensuse.org/2014/03/23/proprietary-amdati-catalyst-fglrx-rpms-released/</link>
		<comments>https://lizards.opensuse.org/2014/03/23/proprietary-amdati-catalyst-fglrx-rpms-released/#comments</comments>
		<pubDate>Sun, 23 Mar 2014 18:25:00 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Desktop]]></category>
		<category><![CDATA[Kernel]]></category>
		<category><![CDATA[X.org]]></category>
		<category><![CDATA[11.4]]></category>
		<category><![CDATA[12.1]]></category>
		<category><![CDATA[12.2]]></category>
		<category><![CDATA[12.3]]></category>
		<category><![CDATA[13.1]]></category>
		<category><![CDATA[amd]]></category>
		<category><![CDATA[ATI]]></category>
		<category><![CDATA[fglrx]]></category>
		<category><![CDATA[Tumbleweed]]></category>
		<category><![CDATA[unified]]></category>
		<category><![CDATA[xorg]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10693</guid>
		<description><![CDATA[Proprietary AMD/ATI Catalyst fglrx rpms released Patience is a virtue, especially with AMD gpu drivers, but today is the FGLRX day! Yesterday Sebastian Siebert has published new versions for almost everything (except legacy dead horse). So after 3 versions of the driver, compiled for 6 versions of openSUSE, under 2 arch, the rpms have been [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>Proprietary AMD/ATI Catalyst fglrx rpms released</h2>
<p>Patience is a virtue, especially with AMD gpu drivers, but today is the FGLRX day!</p>
<p>Yesterday Sebastian Siebert has published new versions for almost everything (except legacy dead horse).</p>
<p>So after 3 versions of the driver, compiled for 6 versions of openSUSE, under 2 arch, the rpms have been published today</p>
<p>Question : how many compilation does that mean? <img src="https://lizards.opensuse.org/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" /> </p>
<h3>Résumé</h3>
<h4># # AMD fglrx standard (HD5xxx+ radeon gpu) 13.251-4</h4>
<p>So we got a new build of the 13.12 standard version, including support for newer 3.14x kernel.Available for openSUSE 11.4 to 13.1 plus Tumbleweed
</p>
<p><a href="http://geeko.ioda.net/mirror/amd-fglrx/">mirror link</a></p>
<p>Informations &amp; bugreport <a href="http://www.sebastian-siebert.de/2013/12/21/opensuse-proprietaeren-grafik-treiber-amd-catalyst-13-12-als-rpm-installieren/">Sebastian&#8217;s blog</a></p>
<h4># # AMD fglrx standard BETA 14.3V1.0 (HD5xxx+ radeon gpu)</h4>
<p>Sebastian refresh the script to build the last beta offered by AMD</p>
<p>If you feel brave enough to work them, the rpm are located at the repository address</p>
<p><a href="http://geeko.ioda.net/mirror/amd-fglrx-beta/">beta mirror link</a></p>
<p>Informations &amp; bugreport <a href="http://www.sebastian-siebert.de/2014/03/21/opensuse-proprietaeren-grafik-treiber-amd-catalyst-14-3-beta-v1-0-als-rpm-installieren/">Sebastian&#8217;s blog</a></p>
<h4># # NEW AMD fglrx unified for FirePro &amp; FireMV gpu 13.251-1</h4>
<p>Sebastian now offer also the support for the unified driver for FirePro &amp; FireMV gpu.<br />
<br />The driver is also called fglrx, and you should not mix the different repository. So take care of that.<br />
<br />We create a new repository you could use.
</p>
<p><a href="http://geeko.ioda.net/mirror/amd-fire-unified/">amd-fire-unified mirror link</a></p>
<p>Informations &amp; bugreport <a href="http://www.sebastian-siebert.de/2014/03/21/opensuse-proprietaeren-grafik-treiber-amd-firepro-and-firemv-unified-driver-13-251-1-als-rpm-installieren/">Sebastian&#8217;s blog</a></p>
<p><span id="more-10693"></span></p>
<h3>Notices</h3>
<p>This release concern only owners of radeon HD5xxx or above.<br />
For older gpu, the fglrx-legacy is still 13.1, and thus didn&#8217;t work with openSUSE 12.3 or above.<br />
<a href="http://en.opensuse.org/SDB:AMD_fglrx_legacy">SDB:AMD_fgrlx_legacy</a><br />
Beware of that, and prefer the free open-source radeon driver which came out of the box from your openSUSE distribution.<br />
For 12.3 and especially 13.1 the free radeon often offer a better experience than the old fglrx-legacy.
</p>
<h4>geeko.ioda.net got a new home</h4>
<p>After more than 4 years of good service, our old server got retired. Since 10 days a new beefy server is in place to serve the community.<br />
If you find any trouble using it, please just drop me an email.</p>
<p>I&#8217;ve totally cleanup the old vhosts ftp.ioda.net, linux.ioda.net so update your bookmarks, and warn your friends.</p>
<h4>Changing the signer of package</h4>
<p>Last december, I&#8217;ve done a change with which key used for signing the package and repository. So you will need to trust the new key for the repository</p>
<pre>
zypper ref -f -r amd-fglrx
Forcing raw metadata refresh
Retrieving repository 'amd-fglrx' metadata ---------------------------------------------------------------------------------------------------------------------------------------------[\]

New repository or package signing key received:
Key ID: 484F703065BE584C
Key Name: builder Ioda-Net (Building and signing packages build at Ioda-Net) 
Key Fingerprint: 80D079EBFB1AB0FEE3CA41E6484F703065BE584C
Key Created: lun 30 jui 2012 15:27:35 CEST
Key Expires: sam 29 jui 2017 15:27:35 CEST
Repository: amd-fglrx

Do you want to reject the key, trust temporarily, or trust always? [r/t/a/? shows all options] (r): a
</pre>
<h4>Sebastien Siebert making script</h4>
<p style="clear:both"><a href="http://www.sebastian-siebert.de/">Sebastian Siebert posts about fglrx</a></p>
<p>If you have any problems with the driver, don&#8217;t be afraid to report to Sebastian (German and English bugreports are gladly accepted).<br />
he will try, as far as I am able to reproduce the bug. Together with the necessary system information, he will go directly to the right place at AMD to have the bug fixed in the next driver release.<br />
Thank you very much, Sebastian.
</p>
<p>See below what to do in case of troubles.</p>
<p>Or you can also ping him on irc (freespacer)</p>
<h4>Debugging troubles</h4>
<p>I recommend in case of trouble the use of <a href="http://www.sebastian-siebert.de/downloads/makerpm-amd-13.12.sh">his script</a> which can collect the whole informations needed to help you. then you just have to issue a simple commande in console to collect all informations, you can review them, and finally transmit them.<br />
Check the website to get the latest.
</p>
<pre>su -c 'sh makerpm-amd-13.12.sh -ur'
The system report 'amd-report.txt' was generated.                                                                                                          [ OK ]
Do you want to read the system report 'amd-report.txt' now? yes/no [y/n]: y
Are you sure to upload the above-named system report to sprunge.us? yes/no [y/n]: y

The report was uploaded to sprunge.us.
   The link is:  <a href="http://sprunge.us/eMEB">http://sprunge.us/eMEB</a>
</pre>
<p>Copy paste the link in the comment zone of Sebastian post</p>
<p>All proudly distributed by openSUSE powered server and sponsored by <a href="http://www.ioda-net.ch">Ioda-Net Sàrl</a></p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/23/proprietary-amdati-catalyst-fglrx-rpms-released/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Cloudy with a touch of Green</title>
		<link>https://lizards.opensuse.org/2014/03/19/cloudy-with-a-touch-of-green/</link>
		<comments>https://lizards.opensuse.org/2014/03/19/cloudy-with-a-touch-of-green/#comments</comments>
		<pubDate>Wed, 19 Mar 2014 19:08:27 +0000</pubDate>
		<dc:creator><![CDATA[rjschwei]]></dc:creator>
				<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Infrastructure]]></category>
		<category><![CDATA[Packaging]]></category>
		<category><![CDATA[azure]]></category>
		<category><![CDATA[cloud]]></category>
		<category><![CDATA[EC2]]></category>
		<category><![CDATA[gce]]></category>
		<category><![CDATA[openSUSE 13.1]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10678</guid>
		<description><![CDATA[Finally there is some news regarding our public cloud presence and openSUSE 13.1. We now have openSUSE 13.1 images published in Amazon EC2, Google Compute Engine, and Windows Azure. Well, that&#8217;s the announcement, but would make for a rather short blog. Thus, let me talk a bit about how this all works and speculate a [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Finally there is some news regarding our public cloud presence and openSUSE 13.1. We now have openSUSE 13.1 images published in Amazon EC2, Google Compute Engine, and Windows Azure.</p>
<p>Well, that&#8217;s the announcement, but would make for a rather short blog. Thus, let me talk a bit about how this all works and speculate a bit why we&#8217;ve not been all that good with getting stuff out into the public cloud.</p>
<p>Let me start with the speculation part, i.e. hindrances in getting openSUSE images published. In general to get anything into a public cloud one has to have an account. This implies that you hand over your credit card number to the cloud provider and they charge you for the resources you use. Resources in the public cloud are anything and everything that has something to do with data. Compute resources, i.e. the size of an instance w.r.t. memory and number of CPUs are priced differently. Sending data across the network to and from your instances incurs network charges and of course storing stuff in the cloud is not free either. Thus, while anyone can put an image into the cloud and publish it, this service costs the person money, granted not necessarily a lot, but it is a monthly recurring out of pocket expense.</p>
<p>Then there always appears to be the &#8220;official&#8221; apprehension, meaning if person X publishes an openSUSE image from her/his account what makes it &#8220;official&#8221;. Well first we have the problem that the &#8220;official&#8221; stamp is really just an imaginary hurdle. An image that gets published by me is no more or less &#8220;official&#8221; than any other images. I am after all not the release manager or have any of my fingers in the openSUSE release in any way. I do have access to the SUSE accounts and can publish from there and I guess that makes the images &#8220;official&#8221;. But please do not get any ideas about &#8220;official&#8221; images, they do not exist.</p>
<p>Last but not least there is a technical hurdle. Building images in OBS is not necessarily for the faint of heart. Additionally there is a bunch of other stuff that goes along with cloud images. Once you have one it still has to get into the cloud of choice, which requires tools etc.</p>
<p>That&#8217;s enough speculation as to why or why not it may have taken us a bit longer than others, and just for the record we did have openSUSE 12.1 and openSUSE 12.2 images in Amazon. With that lets talk about what is going on.</p>
<p>We have a project in OBS now, actually it has been there for a while, <a href="https://build.opensuse.org/project/show/Cloud:Images" title="Cloud:Images">Cloud:Images</a> that is intended to be used to build openSUSE cloud images. The GCE image that is public and the Amazon image that is public both came from this project. The Azure image that is currently public is one built with SUSE Studio but will at some point also stem from the Cloud:Images OBS project.</p>
<p>Each cloud framework has it&#8217;s own set of tools. The tools are separated into two categories, initialization tools and command line tools. The initialization tools are tools that reside inside the image and these are generally services that interact with the cloud framework. For example <a href="http://cloudinit.readthedocs.org/en/latest/" title="cloud-init">cloud-init</a> is such an initialization tool and it is used in OpenStack images, Amazon images, and Windows Azure images. The command line tools let you interact with the cloud framework to start and stop instances for example. All these tools get built in the <a href="https://build.opensuse.org/project/show/Cloud:Tools" title="Cloud:Tools">Cloud:Tools</a> project in OBS. From there you can install the command line tools into your system and interact with the cloud framework they support. I am also trying to get all these tools into <a href="https://build.opensuse.org/project/show/openSUSE:Factory" title="openSUSE:Factory">openSUSE:Factory</a> to make things a bit easier for image building and cloud interaction come 13.2.</p>
<p>With this lets take a brief closer look at each framework, in alphabetical order no favoritism here.</p>
<p><strong>Amazon EC2</strong></p>
<p>An openSUSE 13.1 image is available in all regions, the AMI (Amazon Machine Image) IDs are as follows:</p>
<p>sa-east-1       =&gt;  ami-2101a23c<br />
ap-northeast-1  =&gt;  ami-bde999bc<br />
ap-southeast-2  =&gt;  ami-b165fc8b<br />
ap-southeast-1  =&gt;  ami-e2e7b6b0<br />
eu-west-1       =&gt;  ami-7110ec06<br />
us-west-1       =&gt;  ami-44ae9101<br />
us-west-2       =&gt;  ami-f0402ec0<br />
us-east-1       =&gt;  ami-ff0e0696</p>
<p>These images use cloud-init as opposed to the &#8220;suse-ami-tools&#8221; that has been used previously and is no longer available in OBS. The cloud-init package is developed in launchpad and was started by the Canonical folks. Unfortunately to contribute you have to sign the Canonical Contributor Agreement (CCA). If you do not want to sign it or cannot sign it for company reasons you can still send stuff to the package and I&#8217;ll try and get the stuff integrated upstream. For the interaction with Amazon we have the <a href="http://aws.amazon.com/cli/" title="aws-cli">aws-cli</a> package. The &#8220;aws&#8221; command line client supersedes all the ec2-*-tools and is an integrated package that can interact with all Amazon services, not just EC2. It is well documented fully open source and hosted on <a href="https://github.com/aws/aws-cli" title="github">github</a>. The aws-cli package replaces the previously maintained ec2-api-tools package which I have removed from OBS.</p>
<p><strong>Google Compute Engine</strong></p>
<p>In GCE things work by name and the openSUSE 13.1 image is named opensuse131-20140227 and is available in all regions. Google images use a number of tools for initialization, google-daemon and google-startup-scripts. All the Google specific tools are in the Cloud:Tools project. Interaction with GCE is handled with two commands, gcutil and gsutil, both provided by the google-cloud-sdk package. As the name suggests google-cloud-sdk has the goal to unify the various Google tools, same basic idea as aws-cli, and Google is working on the unification. Unfortunately they have decided to do this on their own and there is no public project for google-cloud-sdk which makes contributing a bit difficult to say the least. The <a href="https://github.com/GoogleCloudPlatform/gsutil" title="gsutil">gsutil</a> code is hosted on github, thus at least contributing to gsutil is straight forward. Both utilities, gsutil for storage and gcutil for interacting with GCE are well documented.</p>
<p>In GCE we also were able to stand up openSUSE mirrors. These have been integrated into our <a href="https://en.opensuse.org/MirrorBrain" title="mirrorbrain">mirrorbrain</a> infrastructure and are already being used quite heavily. The infrastructure team is taking care of the monitoring and maintenance and that deserves a big THANK YOU from my side. The nice thing about hosting the mirrors in GCE is that when you run an openSUSE instance in GCE you will not have to pay for network charges to pull your updated packages and things are really fast as the update server is located in the same data center as your instance.</p>
<p><strong>Windows Azure</strong></p>
<p>As mentioned previously the current image we have in Azure is based on a build from SUSE Studio. It does not yet contain cloud-init and only has <a href="https://github.com/WindowsAzure/WALinuxAgent" title="WALinuxAgent">WALinuxAgent</a> integrated. This implies that processing of user data is not possible in the image. User data processing requires cloud-init and I just put the finishing touches on cloud-init this week. Anyway, the image in Azure works just fine, and I have no time line when we might replace it with an image that contains cloud-init in addition to WALinuxAgent.</p>
<p>Interacting with Azure is a bit more cumbersome than with the other cloud frameworks. Well, let me qualify this with, if you want packages. The Azure command line tools are implemented using nodejs and are integrated into the <a href="https://www.npmjs.org/" title="npm">npm</a> nodejs package system. Thus, you can use npm to install everything you need. The nodejs implementation provides a bit of a problem in that we hardly have a nodejs infrastructure in the project. I have started packaging the dependencies, but there is a large number and thus this will take a while. Who would ever implement&#8230;.. but that&#8217;s a different topic.</p>
<p>That&#8217;s where we are today. There is plenty of work left to do. For example we should unify the &#8220;generic&#8221; OpenStack image in Cloud:Images with the HP specific one, the HP cloud is based on OpenStack, and also get an openSUSE image published in the HP cloud. There&#8217;s tons of packaging left to do for nodejs modules to support the azure-cli tool. It would be great if we could have openSUSE mirrors in EC2 and Azure to avoid network charges for those using openSUSE images in those clouds. This requires discussions with Amazon and Microsoft, basically we need to be able to run those services for free, which implies that both would become sponsors of our project just like Google has become a sponsor of our project by letting us run the openSUSE mirrors in GCE.</p>
<p>So if you are interested in cloud and public cloud stuff get involved, there is plenty of work and lots of opportunities. If you just want to use the images in the public cloud go ahead, that&#8217;s why they are there. If you want to build on the images we have in OBS and customize them in your own project feel free and use them as you see fit.</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/19/cloudy-with-a-touch-of-green/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>How to filter a certain class of hardware in dhcpd.conf</title>
		<link>https://lizards.opensuse.org/2014/03/19/how-to-filter-a-certain-class-of-hardware-in-dhcpd-conf/</link>
		<comments>https://lizards.opensuse.org/2014/03/19/how-to-filter-a-certain-class-of-hardware-in-dhcpd-conf/#comments</comments>
		<pubDate>Wed, 19 Mar 2014 12:00:59 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[dhcpd]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10675</guid>
		<description><![CDATA[To prepare the end of the XP world Atfer 8th April 2014, Windows XP system will be Like children in the lions&#8217; den, if connected to internet In a network around, all the still running XP are all vmware virtual machine, and none of the end-users are the right to modify the settings of the [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>To prepare the end of the XP world</h2>
<p>Atfer 8th April 2014, Windows XP system will be Like children in the lions&#8217; den, if connected to internet</p>
<p>In a network around, all the still running XP are all vmware virtual machine, and none of the end-users are the right to modify the settings of the virtual machine, nor has administrative right under XP</p>
<p>The idea is the simply to just suppress the gateway of the network.</p>
<h3>Playing with dhcpd.conf</h3>
<p>There&#8217;s lot of way to handle this classification, but I discover that you need to find the right syntax, and understand how the binary-to-ascii function of dhcpd work.</p>
<p>First binary-to-ascii remove any leading 0, then we will just readd them <img src="https://lizards.opensuse.org/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" /> </p>
<p>Extract of the dhcpd.conf</p>
<pre>
# binary-to-ascii remove leading 0 rebuild the complete MAC
set testmac = concat ( suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,1,1))),2), ":", suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,2,1))),2), ":", suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,3,1))),2), ":", suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,4,1))),2), ":",  suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,5,1))),2), ":", suffix (concat ("0", binary-to-ascii (16, 8, "", substring(hardware,6,1))),2) );

# Extract the only first 8 chars 
set testclass = substring(testmac, 0, 8);
# You will find a lot of this on internet but doesn't work
# set testmac = binary-to-ascii(16, 8, ":", substring(hardware, 1, 6));

# All our VMware VM use the same prefix
if ( testclass = "00:0c:29" ){
  # put dummy router
  option routers 127.0.0.1;
  # useful debug log
  log (info, "xp32 lease");
}else{
  # Default gateway for anyone else
  option routers 192.168.1.254;
  log (info, "standard lease");
}
</pre>
<p>That&#8217;s all for today</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/19/how-to-filter-a-certain-class-of-hardware-in-dhcpd-conf/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>osc build with kvm on an encrypted volume group</title>
		<link>https://lizards.opensuse.org/2014/03/15/osc-build-with-kvm-on-an-encrypted-volume-group/</link>
		<comments>https://lizards.opensuse.org/2014/03/15/osc-build-with-kvm-on-an-encrypted-volume-group/#comments</comments>
		<pubDate>Sat, 15 Mar 2014 17:34:14 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Kernel]]></category>
		<category><![CDATA[Packaging]]></category>
		<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[Build]]></category>
		<category><![CDATA[kvm]]></category>
		<category><![CDATA[osc]]></category>
		<category><![CDATA[virtio]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10665</guid>
		<description><![CDATA[How-to build a initrd-virtio on a fully encrypted volume group If like me you care about your data stored on your laptop, you certainly use a fully encrypted (excepted /boot) configuration based on lvm. In my case I also like to create, build, fix packages locally with our tool osc. I&#8217;ve plenty of power, beefy [&#8230;]]]></description>
				<content:encoded><![CDATA[<h1>How-to build a initrd-virtio on a fully encrypted volume group</h1>
<p>If like me you care about your data stored on your laptop, you certainly use a fully encrypted (excepted /boot) configuration based on lvm.</p>
<p>In my case I also like to create, build, fix packages locally with our tool osc. I&#8217;ve plenty of power, beefy ssd, so I dedicate a logical lvm for building cleanly package with qemu-kvm configuration, like <a href="http://build.opensuse.org">obs</a> does</p>
<h2>Prepare the kvm building system</h2>
<p>As root you create 2 lvm volume with lvcreate, one will be the build root, the other one will be the additional swap</p>
<p>In ~/.oscrc I enable the following parameters</p>
<pre>
build-type = kvm
build-device = /dev/mapper/vg0-lvobsbuild
build-swap = /dev/mapper/vg1-lvobsswap
build-memory = 4096
build-vmdisk-rootsize = 16000
build-vmdisk-swapsize = 4000
build-vmdisk-filesystem = ext4
</pre>
<p>You just have to adjust the Memory quantity and the device to what you create for your own environment.</p>
<p><span id="more-10665"></span></p>
<h2>Building with qemu-kvm</h2>
<p>Once the preparation is done you could try to build a package</p>
<pre>
Skipping verification of package signatures due to secure VM build
Writing build configuration
Running build
No initrd that provides virtio support found. virtio accelleration disabled.
Run the following command as root to enable virtio:
 "env" "rootfstype=ext4" "mkinitrd" "-d" "/dev/null" "-m" "ext3 ext4 btrfs reiserfs binfmt_misc virtio_pci virtio_blk" "-k" "/boot/vmlinuz" "-i" "/boot/initrd-3.13.6-1.g4727218-desktop-virtio"
VM_IMAGE: /dev/mapper/vg0-lvobsbuild, VM_SWAP: /dev/mapper/vg1-lvobsswap
Creating ext4 filesystem on /dev/mapper/vg0-lvobsbuild
tune2fs 1.42.8 (20-Jun-2013)
Setting maximal mount count to -1
mkswap /dev/mapper/vg1-lvobsswap
Setting up swapspace version 1, size = 4194300 KiB
no label, UUID=935f0e2d-52d7-4013-8a7f-7d48c813a482
logging output to /tmp/obsbuild/.build.log...
</pre>
<p>As you can see, it warn you that you could create a -virtio initrd to use virtio acceleration (who contribute a patch for the typo <img src="https://lizards.opensuse.org/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" /><br />
<br />But the command line is not completely correct in our case. It need the -d to be filled with the lvm buildroot to work as expected. If you successfully create the initrd-virtio you still will face a number of trouble, due to the way mkinitrd work.
</p>
<h2>Defeating the errors</h2>
<p>You remember that we have a fully encrypted volume group, and as a clever tool mkinitrd will feed the initrd with all the tools needed to boot your system.<br />
<br />But that mean it will forget the lv buildroot we ask, and will put unnecessary tools and options.
</p>
<p>Typical errors with a non optimized -virtio initrd</p>
<pre>
[    3s] /usr/bin/qemu-kvm -no-reboot -nographic -vga none -net none -cpu host -kernel /boot/vmlinuz -initrd /boot/initrd-3.13.6-1.g4727218-desktop -append root=/dev/sda panic=1 quiet no-kvmclock nmi_watchdog=0 rw elevator=noop console=ttyS0 init=/.build/build -m 4096 -hda /dev/mapper/vg0-lvobsbuild -drive file=/dev/mapper/vg1-lvobsswap,if=ide,index=1,cache=none -smp 8
[    9s] FATAL: Error inserting nvidia (/lib/modules/3.13.6-1.g4727218-desktop/updates/nvidia.ko): No such device
[    9s]   WARNING: Failed to connect to lvmetad: No such file or directory. Falling back to internal scanning.
[    9s]   Volume group "vg0" not found
[    9s]   WARNING: Failed to connect to lvmetad: No such file or directory. Falling back to internal scanning.
[    9s]   Volume group "vg0" not found
[    9s] *** Note: only US keyboard layout is supported.
[    9s] *** Please ensure that the password is typed correctly.
[   41s] Waiting for device /dev/disk/by-id/ata-Corsair_Force_GT_blah-part2 to appear: ..............................Unlocking cr_sda2 (/dev/disk/by-id/ata-Corsair_Force_GT_blah-part2)
[   41s] Device /dev/disk/by-id/ata-Corsair_Force_GT_blah-part2 doesn't exist or access denied.
[   41s] Trying manual resume from /dev/vg0/lvswap
[   41s] resume device /dev/vg0/lvswap not found (ignoring)
[   41s] Trying manual resume from /dev/vg0/lvswap
[   41s] resume device /dev/vg0/lvswap not found (ignoring)
[   73s] Waiting for device /dev/sda to appear: ..............................Could not find /dev/sda.
[   73s] Want me to fall back to /dev/vg0/lvsuse? (Y/n)
</pre>
<p><b>Rescue</b> you have as root to kill all build process.</p>
<pre>for P in $(ps auxw| grep build | grep -v grep | awk {'print $2'} );do kill $P;done</pre>
<p>
<h2>Find a solution</h2>
<p>We want an optimized -virtio initrd, which filter all the lvm and crypting tools we don&#8217;t need. Also there&#8217;s no need to encumber it with graphic blob.<br />
Then I create a small script I&#8217;ve called patch-initrd-virtio (source below) which exactly do that work anytime I&#8217;ve a kernel change.<br />
As it need to be run by root only, I normally place it in /root/bin/
</p>
<h2>patch-initrd-virtio sources</h2>
<pre>
#!/usr/bin/env bash

# WTF License 1.0 
# Author Bruno Friedmann tigerfoot (at) opensuse.org

# Usage : this script will create an optimized virtio initrd without
# lvm, crypt, gfx tool
# by using the actual /boot/initrd symlink you have.
# Edit the 2 devices you target to use 
# 
DEVBUILD='/dev/vg0/lvobsbuild'
DEVSWAP='/dev/vg1/lvobsswap'

nokms(){
sed -i '/^NO_KMS_IN_INITRD/s/no/yes/' /etc/sysconfig/kernel
}

kms(){
sed -i '/^NO_KMS_IN_INITRD/s/yes/no/' /etc/sysconfig/kernel
}

echo "cleanup /tmp"
rm -fr /tmp/initrd*

# Patch the virtio initrd
if [ -z "$1" ];then
export VER=`uname -r`
else
export VER="$1"
fi
export INITRD="/boot/initrd-$VER-virtio"
echo "Setting nokms"
nokms

echo "Building -virtio initrd ..."
"env" "rootfstype=ext4,resume=$DEVSWAP,rootdev=$DEVBUILD,udevtimeout=2,udev_timeout=2,nosplash,noluks" "mkinitrd" "-B" "-d" "$DEVBUILD" "-m" "ext4 btrfs binfmt_misc virtio_pci virtio_blk" "-k" "/boot/vmlinuz-$VER" "-i" "$INITRD"

ls -l $INITRD

echo "Setting kms"
kms

# copy the *.virtio initrd to /tmp
cp -vfa $INITRD /tmp/initrd-virtio.gz

# ungzip it gzip -d initrd
cd /tmp
mkdir initrd.build
gzip -d initrd-virtio.gz

cd initrd.build

# uncpio cpio -id &lt; ../initrd
cpio -id  ../initrd
rm -fv ../initrd-virtio
echo "rebuilding initrd ..."
find . | cpio --create --format='newc' &gt; ../initrd-virtio
cd ../
echo "Compressing initrd ..."
# Install pigz if you want to save half an hour of your life.
if [ -x /usr/bin/pigz ];then
 pigz -9v initrd-virtio
else
 gzip -9v initrd-virtio
fi
# copy to /boot
cp -v initrd-virtio.gz $INITRD
echo "Done ..."

</pre>
<h2>Usage of patch-initrd-virtio</h2>
<p>Here&#8217;s the result of a run</p>
<pre>
cleanup /tmp
Setting nokms
Building -virtio initrd ...

Kernel image:   /boot/vmlinuz-3.13.6-1.g4727218-desktop
Initrd image:   /boot/initrd-3.13.6-1.g4727218-desktop-virtio
Root device:    /dev/vg0/lvobsbuild (mounted on / as ext4)
Resume device:  /dev/vg0/lvswap
enabling LUKS support for /dev/disk/by-id/ata-Corsair_Force_GT_blah-part2 (cr_sda2)
Microcode: Adding Intel microcode 06-2a-07
Kernel Modules: thermal_sys thermal processor fan libcrc32c xor raid6_pq btrfs binfmt_misc virtio virtio_ring virtio_pci virtio_blk dm-mod dm-crypt dm-log dm-region-hash dm-mirror dm-snapshot scsi_dh scsi_dh_hp_sw scsi_dh_alua scsi_dh_rdac scsi_dh_emc xhci-hcd hid-logitech-dj hid-holtek-kbd hid-lenovo-tpkbd hid-ortek hid-roccat hid-roccat-common hid-roccat-arvo hid-roccat-isku hid-samsung ohci-pci linear arc4 sha256_generic cryptd crct10dif-pclmul crc32-pclmul crc32c-intel ghash-clmulni-intel aes-x86_64 glue_helper gf128mul lrw ablk_helper aesni-intel
Features:       acpi dm intel_microcode block usb lvm2 luks btrfs resume.userspace resume.kernel
Did not refresh the bootloader. You might need to refresh it manually.
-rw------- 1 root root 29338540 Mar 15 18:18 /boot/initrd-3.13.6-1.g4727218-desktop-virtio
Setting kms
‘/boot/initrd-3.13.6-1.g4727218-desktop-virtio’ -&gt; ‘/tmp/initrd-virtio.gz’
160249 blocks
removed ‘./boot/71-luks.sh’
removed ‘./config/luks.sh’
removed ‘../initrd-virtio’
rebuilding initrd ...
160239 blocks
Compressing initrd ...
initrd-virtio to initrd-virtio.gz
‘initrd-virtio.gz’ -&gt; ‘/boot/initrd-3.13.6-1.g4727218-desktop-virtio’
Done ...
</pre>
<h2>Finally start a build with -virtio activated</h2>
<p>So with our new optimized initrd-virtio we can restart a fully qemu-kvm build with osc build &#8211;clean</p>
<pre>
Skipping verification of package signatures due to secure VM build
Writing build configuration
Running build
VM_IMAGE: /dev/mapper/vg0-lvobsbuild, VM_SWAP: /dev/mapper/vg1-lvobsswap
Creating ext4 filesystem on /dev/mapper/vg0-lvobsbuild
tune2fs 1.42.8 (20-Jun-2013)
Setting maximal mount count to -1
mkswap /dev/mapper/vg1-lvobsswap
mkswap: /dev/mapper/vg1-lvobsswap: warning: wiping old swap signature.
Setting up swapspace version 1, size = 4194300 KiB
no label, UUID=c19c873b-2b6c-4200-9575-a60adc581204
logging output to /tmp/obsbuild/.build.log...
[    0s] Using BUILD_ROOT=/tmp/obsbuild/.mount
[    0s] Using BUILD_ARCH=x86_64:i686:i586:i486:i386
[    0s] Doing kvm build in /dev/mapper/vg0-lvobsbuild
[    0s] 
[    0s] 
[    0s] c-3po.labaroche.ioda.net started "build postgresql-plr.spec" at Sat Mar 15 17:27:18 UTC 2014.
[    0s] 
[    0s] 
[    0s] processing specfile /home/bruno/openSUSE/obs/home:bruno_friedmann:branches:openSUSE:12.3:Update/postgresql-plr.openSUSE_12.3_Update/postgresql-plr.spec ...
[    0s] running changelog2spec --target rpm --file /home/bruno/openSUSE/obs/home:bruno_friedmann:branches:openSUSE:12.3:Update/postgresql-plr.openSUSE_12.3_Update/postgresql-plr.spec
[    0s] init_buildsystem --configdir /usr/lib/build/configs --cachedir /var/cache/build --prepare --clean --rpmlist /tmp/rpmlist.Vy31Li /home/bruno/openSUSE/obs/home:bruno_friedmann:branches:openSUSE:12.3:Update/postgresql-plr.openSUSE_12.3_Update/postgresql-plr.spec ...
[    1s] cycle: pam -&gt; permissions -&gt; coreutils
[    1s]   breaking dependency permissions -&gt; coreutils
[    1s] [1/29] preinstalling filesystem...

</pre>
<p>Hope this give you the taste of building!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/15/osc-build-with-kvm-on-an-encrypted-volume-group/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Help yourselves to our low hanging fruit!</title>
		<link>https://lizards.opensuse.org/2014/03/13/help-yourselves-to-our-low-hanging-fruit/</link>
		<comments>https://lizards.opensuse.org/2014/03/13/help-yourselves-to-our-low-hanging-fruit/#comments</comments>
		<pubDate>Thu, 13 Mar 2014 18:44:56 +0000</pubDate>
		<dc:creator><![CDATA[calumma]]></dc:creator>
				<category><![CDATA[Boosters]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10658</guid>
		<description><![CDATA[An update on what we&#8217;re doing and a call for help! What was going on From our previous posts you probably know what do we do these days. We are working on our goal to make Factory more stable by using staging projects and openQA. Both projects are close to reaching important milestones. Regarding the [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>An update on what we&#8217;re doing and a call for help!<br />
<div id="attachment_10661" style="width: 310px" class="wp-caption alignright"><a href="//lizards.opensuse.org/wp-content/uploads/2014/03/openQA.png"><img src="//lizards.opensuse.org/wp-content/uploads/2014/03/openQA-300x210.png" alt="openQAv2" width="300" height="210" class="size-medium wp-image-10661" /></a><p class="wp-caption-text">openQAv2</p></div></p>
<h2>What was going on</h2>
<p>From our previous posts you probably know what do we do these days. We are working on our goal to make Factory more stable by using staging projects and openQA. Both projects are close to reaching important milestones. Regarding the osc plugin that is helping out with staging, we are in the state that coolo and scarabeus can manage Factory and staging projects using it. We did some work on covering it with tests and currently we are somewhere half-way there. Yes, there is a room for improvement (patches are welcome), but it is good enough for now. We are missing integration with OBS, automation and much more. But as the most important part of all this is integration with openQA, we decided to put this sprint on hold and focus even more on openQA.</p>
<h2>How to play with it and help move this forward?</h2>
<p>During our work, we found some tasks that are not blocking us but would be nice to have. Some of these are quite easy for people interested in diving in and making a difference in these projects. We put them aside in <a href="https://progress.opensuse.org/">progress.opensuse.org</a> to make it easilly recognizable that these tasks can be taken and are relatively easy. Let&#8217;s take a closer look at what tasks are there to play with. Of course &#8211; it would be very cool if, through using the new tools, you find out other things that improve the work flow!</p>
<ul>
<li><a href="https://progress.opensuse.org/versions/69">Helping staging</a>. I already mentioned one way you can help our factory staging plugin.</li>
<li><a href="https://progress.opensuse.org/issues/1908">Improving test coverage</a>. It might sound boring at first, but is a quite entertaining task. We have a <a href="https://github.com/openSUSE/osc-plugin-factory/blob/master/tests/README.asciidoc">short documentation</a> explaining how tests work. In summary, we have a class simulating a limited subset of OBS and we just run commands and wait whether our fake OBS ends up in correct state. This makes writing tests much easier. To make it more interesting, we use Travis CI and <a href="https://coveralls.io/r/openSUSE/osc-plugin-factory">Coveralls</a>. Big advantage of those is that it does a test run on every pull request and shows you how you improved the test coverage. It also shows what is not covered yet. In other words, it shows what should be covered next <img src="https://lizards.opensuse.org/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" /> </li>
<li>What else needs to be done to make staging project more reliable is to <a href="https://progress.opensuse.org/issues/1321">fix all packages</a> that are randomly failing. This is mostly packaging/obs debugging task. So doesn&#8217;t require any python and can be done package by package.</li>
<li>Last thing on the staging projects todo list for now is <a href="https://progress.opensuse.org/issues/1761">making the staging api class into singletons</a>. For those who know python this is actually really easy. But while at it, you will be taking a look at the rest of our code and we will definitely not mind anybody polishing it or removing bugs!</li>
</ul>
<div id="attachment_10662" style="width: 310px" class="wp-caption alignright"><a href="//lizards.opensuse.org/wp-content/uploads/2014/03/coveralls.png"><img src="//lizards.opensuse.org/wp-content/uploads/2014/03/coveralls-300x201.png" alt="coveralls in action" width="300" height="201" class="size-medium wp-image-10662" /></a><p class="wp-caption-text">coveralls in action</p></div>
<h2>Helping openQA</h2>
<p>In openQA, currently we have code cleaning <a href="https://progress.opensuse.org/versions/73">tasks</a>. It&#8217;s about polishing the code we have &#8211; like removing useless index controller and fixing code highlighting. Or doing simple optimizations &#8211; like caching image thumbnails.</p>
<p>In case of openQA, you might be a little confused where to send your code. We have been doing some short and mid term planning with Bernhard M. Wiedemann, the man behind openqa.opensuse.org and one of the original openQA developers, together with Dominik Heidler. Now the code considered to be &#8216;upstream&#8217; have been moved to several repositories under the <a href="https://github.com/os-autoinst">os-autoinst organization in github</a>. This code contains all the improvements introduced to extensivelly test our beloved openSUSE 13.1. The next generation of the tool is being developed right now in <a href="https://github.com/openSUSE-Team/openQA/tree/devel">a separate repository</a> and will be merged into upstream as soon as we feel confident enough, which means more automated testing, more staging deployments and more code revisions and audits. If you want to help us, you are welcome to send pull requests to either of those repositories and someone will take a look at them.</p>
<h2>What next?</h2>
<p>As we wrote, we are currently putting all our effort into openQA. We already have basic authentication and authorization, we are working on tests, fixing bugs and making sure the service in general is easy to deploy. And of course we are working toward our main goal &#8211; having a new openQA instance with all cool features available in public. Currently it is already kind of easy to get your own instance running, so if you are web or perl developer, nothing should stop you from playing with it and making it more awesome!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/13/help-yourselves-to-our-low-hanging-fruit/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Is my server alive and how good is my connection</title>
		<link>https://lizards.opensuse.org/2014/03/10/is-my-server-alive-and-how-good-is-my-connection/</link>
		<comments>https://lizards.opensuse.org/2014/03/10/is-my-server-alive-and-how-good-is-my-connection/#comments</comments>
		<pubDate>Mon, 10 Mar 2014 07:25:14 +0000</pubDate>
		<dc:creator><![CDATA[Tuukka Pasanen]]></dc:creator>
				<category><![CDATA[lizards.openSUSE.org]]></category>
		<category><![CDATA[Miscellaneous]]></category>
		<category><![CDATA[Network]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[bash]]></category>
		<category><![CDATA[ping]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10639</guid>
		<description><![CDATA[If you have time to setup real solution and need something reliable test Zabbix (http://zabbix.com). Zabbix is wonderful all in one solutions for monitoring network and your hosts (servers). If you are in need of knowing how good you Internet/(W)LAN connections is then things are getting complicated. Case is like this: You have computer and [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>If you have time to setup real solution and need something reliable test Zabbix (<a href="http://zabbix.com" title="Zabbix">http://zabbix.com</a>). Zabbix is wonderful all in one solutions for monitoring network and your hosts (servers). If you are in need of knowing how good you Internet/(W)LAN connections is then things are getting complicated.<span id="more-10639"></span><br />
Case is like this: You have computer and WIFI-card (Wireless Internet card). Most of the time it&#8217;s working great! Speed is high and there is no hick-ups any kind. Out of the blue comes troubles. In other network video is not playing from net or you keep getting connection errors in browser.. so what to do? How to debug this one? It can be that other people are just consuming all the router bandwidth available or there is many WIFI routers in same frequency (be sure to check first all the hardware before getting into software level). If hardware is not the case and you have double checked with normal Wire connection to Internet/LAN then there is definitely something else. With WIFI connection it still can be your grandma’s old beloved 1950 microwave oven (If you on 5Ghz band then you can&#8217;t blame her either)..<br />
So I assume you are on <a href="http://en.wikipedia.org/wiki/TCP/IP" title="TCP/IP">TCP/IP</a>-network if you don&#8217;t know what it is you should first find out and then read the rest of this story.<br />
WIFI-cards have signal strength monitor. I have notice that many times it&#8217;s just a estimation. You can have 100% strength and your connection is next to nothing. Manufacturers tends to make connections look way too better than they are or they make them look even worst than they are.<br />
So how to find out is my connection good or bad? Word of warning in this point: this is just one way to find out and it&#8217;s not very good (for some use cases it is). Way is to use little bit BASH (Bourne Again SHell) and <a href="http://www.wikihow.com/Ping-in-Linux" title="ping">ping-command</a> which is installed in openSUSE default.</p>
<h2>What ping does</h2>
<p>Ping consumes <a href="http://en.wikipedia.org/wiki/Internet_Control_Message_Protocol" title="ICMP">ICMP-protocol</a> which is very low level and I don&#8217;t know is it used for anything anymore these days (correct me if I&#8217;m very wrong) only with ping-command. If Wikipedia is correct ping calculates round-trip so how long takes data to find it&#8217;s way to server and come back (Small tip here! You can use <a href="http://www.computerhope.com/unix/utracero.htm" title="Traceroute">traceroute</a> to see how you packet is finding it&#8217;s way on the Internet and back to you).<br />
So how can I use ping to tell me is my server up? Short answer is simple: &#8216;you can&#8217;t&#8217;. Little bit longer answer: &#8216;Yes you can but it&#8217;s little bit more complicated than you first thought&#8217; and the long version: &#8216;You get information about if your server&#8217;s network card answers to (and most of the time kernel network stack) received ICMP-packet. If there is firewall rule that turns ICMP-packet answer off you are out of luck. Ping doesn&#8217;t tell if your service is up or Apache running correctly and reliable. Remember ping answer can work even if most of user space is smashed down and kernel is malfunctioning (been there done that!)&#8217;.<br />
So what you get it answer from network card and that&#8217;s it. If it&#8217;s enough (99% times it is) keep reading.</p>
<h2>Script</h2>
<p>Show me code you scream and I give it to you and please read comments on code before using. This is edited version from <a href="http://stackoverflow.com/questions/18258364/ping-tool-to-check-if-server-is-online" title="Stackoverflow.com">Stackoverflow.com</a> message script (so nothing original here):</p>
<pre>
#!/bin/bash

echo "Press [CTRL+C] to stop.."

# Make at least 10 pings in one time
COUNT=50
SUCCESS=0
LASTFAIL=NONE
# Change this to Domain name/IP
# or ip you want to monitor
IP=192.168.1.1
FAILS=0

while true
do
        #
        # Ping with interval 0.5s to IP (192.168.1.1)
        # COUNT (50) times
        # after that we just grep 'byte from' from output
        # or ping and them calculate how many we got
        # with wc -l (Lines of output) bacause we drop
        # other from output
        # You can use up (normally) 2000 size (-s) of package
        # to see if it's starts to drop..
        LINES=$(ping -s 1024 -i 0.5 -c ${COUNT} ${IP} | \
                grep "bytes from ${SERVERSERVER}" | wc -l)

        # Calculate how many fails there were
        let FAILS=${COUNT}-${LINES}+${FAILS}
        # Add to success rate
        let SUCCESS=${LINES}+${SUCCESS}

        # If there were error but date to LASTFAIL
        # so if you not every moment looking you can
        # see when this error happened
        if [ ${LINES} -ne ${COUNT} ]; then
             LASTFAIL=$(date)
        fi

        # Ok ping all together failed
        if [ $? -ne 0 ] ; then
          echo "Can't Connect to server ${IP}"
        else
          # Print statistics to screen
          echo "$(date) ${IP} Success: ${LINES} (Tot. F ${FAILS}) \
(Tot. S ${SUCCESS}) (Last F ${LASTFAIL})"
        fi

        # Sleep a while (not consume all the bandwidth)
        sleep 1
done
</pre>
<h2>Output</h2>
<p>Script prints mystical output. Things that matters that Success rate is 50 (or what pinging rate you are using) and Fails are not rising fast. It they are rising fast packets are dropped if you are not getting anything check IP/domain name. With this one you can get ping time. If success level is 50 but ping time is high you network is still very slow but that you have to check with ping-command by hand. Even with 2G mobile modem you should get under 300ms (3G should be like 100ms).<br />
To have any clue about your connection you have make this at least 30 minutes (First ping packets can tell everything but if you want to see whole picture). Actually this is stupid way to find out is your server up but if your WIFI-card  is working everywhere else great you can check are you packets going through. If ICMP-packets are dropping very fast then your TCP/IP packages are dropping very fast and you network stack have to re-send them so you notice that your network is slow (even though it has nothing to do with that). Again it can be route, WIFI-card or firewall problem still.. and ping doesn&#8217;t answer to that question. So this was this days script stuff. If you have better ways to do this.. please share I&#8217;m always interested in this topic.</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/10/is-my-server-alive-and-how-good-is-my-connection/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Short report from Installfest 2014 Prague</title>
		<link>https://lizards.opensuse.org/2014/03/06/short-report-from-installfest-2014-prague/</link>
		<comments>https://lizards.opensuse.org/2014/03/06/short-report-from-installfest-2014-prague/#comments</comments>
		<pubDate>Thu, 06 Mar 2014 18:25:49 +0000</pubDate>
		<dc:creator><![CDATA[calumma]]></dc:creator>
				<category><![CDATA[Boosters]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10627</guid>
		<description><![CDATA[This week, Michal and Tomáš write about their visit of the Installfest 2014 in Prague. Installfest Prague is a local conference that despite it&#8217;s name has talk tracks and sometime even quite technical topics. We, Michal Hrušecký and Tomáš Chvátal, attended this event and spread the Geeko News around&#8230; Linux for beginners workshop Tomáš worked [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><a href="//lizards.opensuse.org/wp-content/uploads/2014/03/installfest-prague.jpg"><img src="//lizards.opensuse.org/wp-content/uploads/2014/03/installfest-prague-300x169.jpg" alt="installfest prague" width="300" height="169" class="alignright size-medium wp-image-10628" /></a><em>This week, Michal and Tomáš write about their visit of the Installfest 2014 in Prague.</em></p>
<p><a href="http://installfest.cz/if14/" target="_blank">Installfest Prague</a> is a local conference that despite it&#8217;s name has talk tracks and sometime even quite technical topics. We, Michal Hrušecký and Tomáš Chvátal, attended this event and spread the Geeko News around&#8230;</p>
<h2>Linux for beginners workshop</h2>
<p>Tomáš worked with local community member <a href="https://plus.google.com/u/0/113374907586002424670" target="_blank">Amy Winston</a> to show that our lovely openSUSE 13.1 is great for day-to-day usage, even (or especially) for people migrating from windows. We demonstrated KDE&#8217;s Plasma Desktop, how to use YaST to achieve common tasks and then asked the audience for specific requests about things to demonstrate. We can tell you the participants liked Steam a lot! Apart from  the talking about and demonstrating openSUSE we also explained people that SUSE is selling SLE and they can <a href="https://www.suse.com/shop/" target="_blank">buy it in the store </a>if they want a rock-solid stable OS.</p>
<p>The workshop setup was a bit tricky because the machines didn&#8217;t have optical drives and we didn&#8217;t have enough usb sticks to work around the issue. Our solution was to boot up the ISO directly from PXE server and force NetworkManager to not start during the boot because it happily overwrote the network configuration and thus loosing the ISO it was booting from.</p>
<h2>Factory workflow presentation</h2>
<p>Over the last months, our team has been working on improving the way we develop openSUSE: theF Factory Workflow. You can read up on it in earlier blogs here. During the Installfest, we showcased our new workflow which uses openQA and staging projects. We discussed what we try to achieve what we can already do right now with osc/obs/openQA combo. People were quite enthusiastic and two people in the audience already used Factory!</p>
<p>As always we mentioned that we have Easy hacks and we really really want people to work on them.</p>
<h2>Overall SUSE presence</h2>
<p>openSUSE/SUSE presence was as usual high on this event so we tried our best to let people know that we are cool as project and great as company. We shared with everyone our openSUSE/SLE dvds, posters, stickers, &#8230; During the talks/workshops we also gave out SUSE swag as presents to people who answered some tricky questions.</p>
<h2>Job offerings</h2>
<p>We let everyone know that we are looking for plenty of new people in various departements. Namely QA/QAM to which few people got interested and took the printed out prospects. So hopefully our teams will grow <img src="https://lizards.opensuse.org/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /> </p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/06/short-report-from-installfest-2014-prague/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>getting my DVB-T card to work</title>
		<link>https://lizards.opensuse.org/2014/03/06/getting-my-dvb-t-card-to-work/</link>
		<comments>https://lizards.opensuse.org/2014/03/06/getting-my-dvb-t-card-to-work/#comments</comments>
		<pubDate>Thu, 06 Mar 2014 18:04:06 +0000</pubDate>
		<dc:creator><![CDATA[bmwiedemann]]></dc:creator>
				<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Documentation]]></category>
		<category><![CDATA[dvb]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10631</guid>
		<description><![CDATA[Today I tried to get a DVB-T card to work with a new antenna on a new 13.1 install. I know it was working, because I ran it with 12.3 on this machine last year. hwinfo &#8211;tv showed Model: &#8220;Hauppauge computer works WinTV HVR-1110&#8243; Vendor: pci 0&#215;1131 &#8220;Philips Semiconductors&#8221; Device: pci 0&#215;7133 &#8220;SAA7131/SAA7133/SAA7135 Video Broadcast [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Today I tried to get a DVB-T card to work with a new antenna on a new 13.1 install.<br />
I know it was working, because I ran it with 12.3 on this machine last year.</p>
<p>hwinfo &#8211;tv<br />
showed<br />
  Model: &#8220;Hauppauge computer works WinTV HVR-1110&#8243;<br />
  Vendor: pci 0&#215;1131 &#8220;Philips Semiconductors&#8221;<br />
  Device: pci 0&#215;7133 &#8220;SAA7131/SAA7133/SAA7135 Video Broadcast Decoder&#8221;</p>
<p>So after plugging everything in, I started kaffeine, which still knew about all local channels, but could not tune.<br />
<a href="http://www.linuxtv.org/wiki/index.php/Hauppauge_WinTV-HVR-1110">http://www.linuxtv.org/wiki/index.php/Hauppauge_WinTV-HVR-1110</a> gave the important hint that one needs a firmware file. After that was in /lib/firmware and after a reboot, came the next try. kaffeine now would show 99% SNR, so a good signal and even know about what is currently on air, however picture remained black.<br />
kaffeine hinted that it needs extra software, but could not find it, even though packman repos were available (annoying bug).<br />
Installing kde3-kaffeine from packman did not help.<br />
<a href="http://opensuse-community.org/">http://opensuse-community.org/</a> finally helped &#8211; I needed some codec packages from the packman repo.<br />
Now everything is working after less than an hour.</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/03/06/getting-my-dvb-t-card-to-work/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>About openQA and authentication</title>
		<link>https://lizards.opensuse.org/2014/02/28/about-openqa-and-authentication/</link>
		<comments>https://lizards.opensuse.org/2014/02/28/about-openqa-and-authentication/#comments</comments>
		<pubDate>Fri, 28 Feb 2014 17:41:51 +0000</pubDate>
		<dc:creator><![CDATA[calumma]]></dc:creator>
				<category><![CDATA[Boosters]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10618</guid>
		<description><![CDATA[As you might have read in our previous post, our most important milestone in improving openQA is to make it possible to run the new version in public and accessible to everyone. To achieve this we need to add support for some form of authentication. This blog is about what we chose to support and [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><img src="//lizards.opensuse.org/wp-content/uploads/2013/05/factory-tested.png" alt="factory-tested" width="217" height="232" class="alignright size-full wp-image-9447" /><br />
As you might have read in our previous post, our most important milestone in improving openQA is to make it possible to run the new version in public and accessible to everyone. To achieve this we need to add support for some form of authentication. This blog is about what we chose to support and why.</p>
<h2>So what do we need?</h2>
<p>openQA has several components that communicate with each other. The central point is the openQA server. It coordinates execution, stores the results and provides both the web interface for human beings and a REST-like API for the less-human beings. The REST API is needed for the so-called &#8216;workers&#8217;, which run the tests and send the results back to the server, but also for client command line utilities. Since this API can be used to schedule new tests, control job execution or upload results to the server, some kind of authentication is needed. We don&#8217;t want to write a whole article about REST authentication, but maybe some overview of the general problem could be useful to explain the chosen solution.</p>
<h3>Authentication vs authorization</h3>
<p>Let&#8217;s first clarify two related concepts: authentication vs authorization. Web authentication is easy when there is no API involved. You simply have a user and a password for accessing the service. You provide both to the server through your web browser so the server knows that you are the legitimate owner of the account, that&#8217;s all. That means a (hopefully different) combination of user and password for each service which is annoying and insecure. This is where <a href="http://en.wikipedia.org/wiki/OpenID">openID</a> comes into play. It allows any website to delegate authentication to a third party (an openID provider) so you can login in that website using your Google, Github or openSUSE account. In any case, it doesn&#8217;t matter if you are using a specific user, an openID user or another alternative system &#8211; authentication is always about proving to the server that you are the legitimate owner of the account so you can use it for whatever purpose in the website.<br />
<img src="//lizards.opensuse.org/wp-content/uploads/2014/02/openid-icon-250x250.png" alt="openid-icon-250x250" width="250" height="250" class="alignright size-full wp-image-10621" /></p>
<p>But, what about if you also provide a API meant to be consumed by applications instead of humans using a web browser? That&#8217;s where authorization comes into play. The owner of the account issues an authorization that can be used by an application to access a given subset of the information or the functionality. This authorization has nothing to do with the system used for real authentication. The application has no access to the user credentials (username or password) and is not impersonating the user in any way. It is just acting on his or her behalf for a limited subset of actions. The user can decide to revoke this authorization at any time (they usually simply expire in a certain period of time). Of course, a new problem arises: we need to verify that every request comes from a legitimately authorized entity.</p>
<h2>Technologies we picked</h2>
<p>We need a way to authenticate users, a way to authorize the client applications (like the workers) to act on their behalf and a way to check the validity of the authorizations. We could rely on the openSUSE login infrastructure (powered by <a href="https://www.netiq.com/products/access-manager/">Access Manager</a>), but we want openQA to be usable and secure for everybody willing to install it. Without caring if he is inside or outside the openSUSE umbrella.</p>
<h3>openID</h3>
<p>There&#8217;s not much to say about user authentication; openID was the obvious choice. Open, highly standarized and supported and compatible with the openSUSE system and with some popular providers like Google or Github. And even more important, a great way to save ourself the work and the risk of managing user credentials.</p>
<h3>authentication &#8211; harder</h3>
<p>According to the level of popularity and standardization, the equivalent of openID for authorization would be <a href="http://en.wikipedia.org/wiki/Oauth">oAuth</a>, but a closer look into it revealed some drawbacks, complexity being the first. oAuth is also not free of controversy, resulting in three alternative specifications: 1.0, 1.0a and 2.0. Despite what the numbers suggest, different specifications are not just versions of the same thing, but different approaches to the problem that have their own supporters and detractors. Using oAuth would mean enabling the openQA server to be able to act as an oAuth provider and the different client applications to act as oAuth consumers. Aside from the complexity and various versions of the standard, one of the steps of the oAuth authorization flow (used for adding a new script or tool) is redirecting the user to the oAuth provider web page in order for him/her to explicitly authorize the application. Which means that a browser is needed, not nice at all when the consumer is a command line tool (usually executed remotely). We want to keep it simple and we don&#8217;t want to run a browser to configure the workers or any other client tool. Let&#8217;s look for less popular alternatives.</p>
<p>There are two sides to the authorization coin: identifying who is sending the request (and hence the privileges) and verifying that the request is legitimate and the server is not being cheated about that identity. The first part is usually achieved with an <a href="http://en.wikipedia.org/wiki/Application_programming_interface_key">API key</a>, a useful solution for open APIs in order to keep service volume under control, but not enough for a full authorization system. To achieve the second part, there is a strategy which is both easy to implement and safe enough for most cases: <a href="http://en.wikipedia.org/wiki/Hmac">HMAC</a> with a &#8220;shared secret&#8221;. </p>
<p>In short, every authorization includes two automatically generated hash keys, the already mentioned API key and an additional private one which is only known to the server and to the application using that authorization. In each request, several headers are added: at least one with the timestamp of the request, another with the API key and a third one which is the result of applying an encryption algorithm (such as SHA-1) to the request itself (including the timestamp and the parameters) using the private hash as salt. In the server, queries with old timestamps are discarded. For fresh requests, the API key header is used to determine the associated private key and the same encryption algorithm is applied to the query, checking the result against the corresponding header to verify both the integrity of the request and the legitimacy of the sender.</p>
<p>We decided to go for this as it is both simple and secure enough for our use case. Of course, the private key still needs to be stored both server and client side, but it&#8217;s not the users&#8217; password. It&#8217;s just a random shared secret with no relation to the real user credentials or identity. It also can be revoked at any point and can only be used for actions like upload a test result or cancel a job. Secure enough for a system like openQA, with no personal information stored and no critical functionality exposed.</p>
<h2>Conclusion</h2>
<p>So, we&#8217;ve implemented openID and are working on a lightweight HMAC based authorization system. Next week we&#8217;ll update you on the other things we are working on, including our staging projects progress!</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2014/02/28/about-openqa-and-authentication/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
