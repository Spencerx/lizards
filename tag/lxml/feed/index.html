<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>lxml &#8211; openSUSE Lizards</title>
	<atom:link href="https://lizards.opensuse.org/tag/lxml/feed/" rel="self" type="application/rss+xml" />
	<link>https://lizards.opensuse.org</link>
	<description>Blogs and Ramblings of the openSUSE Members</description>
	<lastBuildDate>Fri, 06 Mar 2020 11:29:40 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.7.5</generator>
	<item>
		<title>Query your XML with xpathgrep.py</title>
		<link>https://lizards.opensuse.org/2008/06/09/query-your-xml-with-xpathgreppy/</link>
		<pubDate>Mon, 09 Jun 2008 13:32:16 +0000</pubDate>
		<dc:creator><![CDATA[Thomas Schraitle]]></dc:creator>
				<category><![CDATA[Miscellaneous]]></category>
		<category><![CDATA[lxml]]></category>
		<category><![CDATA[Python]]></category>
		<category><![CDATA[XML]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=52</guid>
		<description><![CDATA[Maybe you know this problem: You have a couple of XML files and you need a specific information. Probably everybody would think of grep or similar tools first. But maybe your query is a bit more complicated than just a simple piece of text. What do do?]]></description>
				<content:encoded><![CDATA[<p>Maybe you know this problem: You have a couple of XML files and you need a specific information. Probably everybody would think of grep or similar tools first. But maybe your query is a bit more complicated than just a simple piece of text. What do do?</p>
<p>Recently I&#8217;ve found a very useful command line utility, which is probably not very known. It&#8217;s named xpathgrep.py and you can get it from the <a href="http://codespeak.net/svn/lxml/trunk/tools/xpathgrep.py">lxml repository</a> (you need lxml too). Let&#8217;s assume we have the following DocBook file:</p>
<pre><em>File db.xml</em>
&lt;?xml version="1.0"?&gt;
&lt;book&gt;
  &lt;title&gt;My Cooking Book&lt;/title&gt;
  &lt;chapter&gt;
    &lt;title&gt;Ingredients&lt;/title&gt;
    &lt;para&gt;...&lt;/para&gt;
  &lt;/chapter&gt;
  &lt;chapter id="howtocook"&gt;
    &lt;title&gt;How to cook&lt;/title&gt;
    &lt;para&gt;...&lt;/para&gt;
  &lt;/chapter&gt;
&lt;/book&gt;</pre>
<p>Now, if I want to get all the titles I have to use a <a href="http://www.w3.org/TR/xpath">XPath</a> (which is a <span>path description language for XML</span>, similar to Unix/Linux paths, but more powerful). To get all title elements all I have to do is to write <span style="mono;">//title</span>, regardless of the level:</p>
<p><code>$ <strong>xpathgrep.py</strong> //title db.xml</code></p>
<p>and I get this:</p>
<p><code>&lt;title&gt;My Cooking Book&lt;/title&gt;<br />
<br />
&lt;title&gt;Ingredients&lt;/title&gt;<br />
<br />
&lt;title&gt;How to cook&lt;/title&gt;<br />
</code></p>
<p>Nice, isn&#8217;t it? Probably you say: &#8220;But, hey, I can get this with grep too!&#8221; Yes, but if you want just all chapter titles, you have a problem with grep. With XPath and xpathgrep.py I only modify my XPath expression a bit:</p>
<p><code>$ <strong>xpathgrep.py</strong> //chapter/title db.xml</code></p>
<p>Now this reduces the above output just to the wanted chapter titles. And I can extent my query just for all chapters that doesn&#8217;t have an id attribute:</p>
<p><code>$ <strong>xpathgrep.py</strong> '//chapter[not(@id)]/title' db.xml</code></p>
<p>(You need the apostroph because of the shell.) The tool outputs this:</p>
<p><code>&lt;title&gt;Ingredients&lt;/title&gt;</code></p>
<p>That&#8217;s nice, isn&#8217;t it? There are a lot of more to discover. A few hours ago I send a small patch to the lxml-devel mailinglist to support namespaces. Hopefully, it will be accepted. <img src="https://s.w.org/images/core/emoji/2.2.1/72x72/1f642.png" alt="&#x1f642;" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
]]></content:encoded>
			</item>
	</channel>
</rss>
