<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>osc &#8211; openSUSE Lizards</title>
	<atom:link href="https://lizards.opensuse.org/tag/osc/feed/" rel="self" type="application/rss+xml" />
	<link>https://lizards.opensuse.org</link>
	<description>Blogs and Ramblings of the openSUSE Members</description>
	<lastBuildDate>Fri, 06 Mar 2020 11:29:40 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>

	<item>
		<title>oSC15 &#8211; 200, Why not packaging workshop like mini hack sprint</title>
		<link>https://lizards.opensuse.org/2015/01/17/osc15-200-why-not-packaging-workshop-like-mini-hack-sprint/</link>
		<pubDate>Sat, 17 Jan 2015 16:01:50 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Build Service]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Events]]></category>
		<category><![CDATA[Hackweek]]></category>
		<category><![CDATA[2015]]></category>
		<category><![CDATA[osc]]></category>
		<category><![CDATA[workshop]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=11193</guid>
		<description><![CDATA[Hello Geekos. I&#8217;m contacting you personally, as an openSUSE Board member. You certainly already know that we want to have a kicking openSUSE conference next 1st-4th May 2015 at the Haag (NL). Thus I&#8217;ve found that creating special workshop organized by development project could foster our beloved distribution. oSC is the unique case in the [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><a href="//lizards.opensuse.org/wp-content/uploads/2015/01/li2.png"><img src="//lizards.opensuse.org/wp-content/uploads/2015/01/li2-163x300.png" alt="welcome" width="163" height="300" class="alignright size-medium wp-image-11198" srcset="https://lizards.opensuse.org/wp-content/uploads/2015/01/li2-163x300.png 163w, https://lizards.opensuse.org/wp-content/uploads/2015/01/li2.png 214w" sizes="(max-width: 163px) 100vw, 163px" /></a>Hello Geekos. </p>
<p>I&#8217;m contacting you personally, as an openSUSE Board member.</p>
<p>You certainly already know that we want to have a kicking openSUSE conference next 1st-4th May 2015 at the Haag (NL).</p>
<p>Thus I&#8217;ve found that creating special workshop organized by development project could foster our beloved distribution.</p>
<p>oSC is the unique case in the year, where Geekos from all around the world meet together.<br />
Let&#8217;s imagine you, meeting perhaps for the first time your fellows, having nice discussions, and hacking around the software you maintain.<br />
There&#8217;s high level of chance to meet also your end users, and have constructive exchanges.</p>
<p>That&#8217;s why I invite you to propose a workshop directly to our event tools:<br />
<a href="https://events.opensuse.org/conference/osc15/proposal" target="_blank">https://events.opensuse.org/conference/osc15/proposal</a></p>
<p>Having a workshop run like a mini-hack sprint, would help any of us in the distribution and the project.<br />
Be it like learn people how to submit nice package, how to do maintenance, or how to do bug triage.<br />
<a href="//lizards.opensuse.org/wp-content/uploads/2015/01/li1.png"><img src="//lizards.opensuse.org/wp-content/uploads/2015/01/li1.png" alt="li1" width="248" height="287" class="aligncenter size-full wp-image-11197" /></a><br />
I feel confident that you will have the creative approach to resolve your own problematic.<br />
The event place has small rooms for unattended sessions and they could be used to extend your workshop to get some more work done.</p>
<p>Some practical aspects:<br />
oSC website : <a href="https://events.opensuse.org/conference/oSC15" target="_blank">https://events.opensuse.org/conference/oSC15</a></p>
<p>And soon the travel support program for oSC 15 will be opened to handle your request about getting financial support for going to oSC.<br />
<a href="https://connect.opensuse.org/travel-support/" target="_blank">https://connect.opensuse.org/travel-support/</a></p>
<p>If you have any questions, thoughts or ideas, don&#8217;t hesitate to ask on -project mailing list<br />
or ping me by reply.</p>
<p><a href="//lizards.opensuse.org/wp-content/uploads/2015/01/li3.png"><img src="//lizards.opensuse.org/wp-content/uploads/2015/01/li3.png" alt="" width="191" height="280" class="alignleft size-full wp-image-11199" /></a>A final note about the why you should do it? Well beside being one of our &#8220;heroes&#8221; even if nobody need them <img src="https://s.w.org/images/core/emoji/2.2.1/72x72/1f642.png" alt="&#x1f642;" class="wp-smiley" style="height: 1em; max-height: 1em;" /><br />
You and your co-maintainers will be able to explain your &#8220;job&#8221; on the project.<br />
Don&#8217;t you want to inspire new comers, lead them directly to the right direction, and share the load.<br />
Meeting you there, will also help our &#8220;marketing&#8221; force to light up a bit the work done in the shadow.</p>
<p>I really will appreciate your presence, afterwards, it&#8217;s you that create our distribution.<br />
The time has come for you to be warmly thank.</p>
<p>I&#8217;m looking forward to see you there.</p>
]]></content:encoded>
			</item>
		<item>
		<title>osc build with kvm on an encrypted volume group</title>
		<link>https://lizards.opensuse.org/2014/03/15/osc-build-with-kvm-on-an-encrypted-volume-group/</link>
		<pubDate>Sat, 15 Mar 2014 17:34:14 +0000</pubDate>
		<dc:creator><![CDATA[Bruno Friedmann]]></dc:creator>
				<category><![CDATA[Base System]]></category>
		<category><![CDATA[Distribution]]></category>
		<category><![CDATA[Kernel]]></category>
		<category><![CDATA[Packaging]]></category>
		<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[Build]]></category>
		<category><![CDATA[kvm]]></category>
		<category><![CDATA[osc]]></category>
		<category><![CDATA[virtio]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=10665</guid>
		<description><![CDATA[How-to build a initrd-virtio on a fully encrypted volume group If like me you care about your data stored on your laptop, you certainly use a fully encrypted (excepted /boot) configuration based on lvm. In my case I also like to create, build, fix packages locally with our tool osc. I&#8217;ve plenty of power, beefy [&#8230;]]]></description>
				<content:encoded><![CDATA[<h1>How-to build a initrd-virtio on a fully encrypted volume group</h1>
<p>If like me you care about your data stored on your laptop, you certainly use a fully encrypted (excepted /boot) configuration based on lvm.</p>
<p>In my case I also like to create, build, fix packages locally with our tool osc. I&#8217;ve plenty of power, beefy ssd, so I dedicate a logical lvm for building cleanly package with qemu-kvm configuration, like <a href="http://build.opensuse.org">obs</a> does</p>
<h2>Prepare the kvm building system</h2>
<p>As root you create 2 lvm volume with lvcreate, one will be the build root, the other one will be the additional swap</p>
<p>In ~/.oscrc I enable the following parameters</p>
<pre>
build-type = kvm
build-device = /dev/mapper/vg0-lvobsbuild
build-swap = /dev/mapper/vg1-lvobsswap
build-memory = 4096
build-vmdisk-rootsize = 16000
build-vmdisk-swapsize = 4000
build-vmdisk-filesystem = ext4
</pre>
<p>You just have to adjust the Memory quantity and the device to what you create for your own environment.</p>
<p><span id="more-10665"></span></p>
<h2>Building with qemu-kvm</h2>
<p>Once the preparation is done you could try to build a package</p>
<pre>
Skipping verification of package signatures due to secure VM build
Writing build configuration
Running build
No initrd that provides virtio support found. virtio accelleration disabled.
Run the following command as root to enable virtio:
 "env" "rootfstype=ext4" "mkinitrd" "-d" "/dev/null" "-m" "ext3 ext4 btrfs reiserfs binfmt_misc virtio_pci virtio_blk" "-k" "/boot/vmlinuz" "-i" "/boot/initrd-3.13.6-1.g4727218-desktop-virtio"
VM_IMAGE: /dev/mapper/vg0-lvobsbuild, VM_SWAP: /dev/mapper/vg1-lvobsswap
Creating ext4 filesystem on /dev/mapper/vg0-lvobsbuild
tune2fs 1.42.8 (20-Jun-2013)
Setting maximal mount count to -1
mkswap /dev/mapper/vg1-lvobsswap
Setting up swapspace version 1, size = 4194300 KiB
no label, UUID=935f0e2d-52d7-4013-8a7f-7d48c813a482
logging output to /tmp/obsbuild/.build.log...
</pre>
<p>As you can see, it warn you that you could create a -virtio initrd to use virtio acceleration (who contribute a patch for the typo <img src="https://s.w.org/images/core/emoji/2.2.1/72x72/1f642.png" alt="&#x1f642;" class="wp-smiley" style="height: 1em; max-height: 1em;" /><br />
<br />But the command line is not completely correct in our case. It need the -d to be filled with the lvm buildroot to work as expected. If you successfully create the initrd-virtio you still will face a number of trouble, due to the way mkinitrd work.
</p>
<h2>Defeating the errors</h2>
<p>You remember that we have a fully encrypted volume group, and as a clever tool mkinitrd will feed the initrd with all the tools needed to boot your system.<br />
<br />But that mean it will forget the lv buildroot we ask, and will put unnecessary tools and options.
</p>
<p>Typical errors with a non optimized -virtio initrd</p>
<pre>
[    3s] /usr/bin/qemu-kvm -no-reboot -nographic -vga none -net none -cpu host -kernel /boot/vmlinuz -initrd /boot/initrd-3.13.6-1.g4727218-desktop -append root=/dev/sda panic=1 quiet no-kvmclock nmi_watchdog=0 rw elevator=noop console=ttyS0 init=/.build/build -m 4096 -hda /dev/mapper/vg0-lvobsbuild -drive file=/dev/mapper/vg1-lvobsswap,if=ide,index=1,cache=none -smp 8
[    9s] FATAL: Error inserting nvidia (/lib/modules/3.13.6-1.g4727218-desktop/updates/nvidia.ko): No such device
[    9s]   WARNING: Failed to connect to lvmetad: No such file or directory. Falling back to internal scanning.
[    9s]   Volume group "vg0" not found
[    9s]   WARNING: Failed to connect to lvmetad: No such file or directory. Falling back to internal scanning.
[    9s]   Volume group "vg0" not found
[    9s] *** Note: only US keyboard layout is supported.
[    9s] *** Please ensure that the password is typed correctly.
[   41s] Waiting for device /dev/disk/by-id/ata-Corsair_Force_GT_blah-part2 to appear: ..............................Unlocking cr_sda2 (/dev/disk/by-id/ata-Corsair_Force_GT_blah-part2)
[   41s] Device /dev/disk/by-id/ata-Corsair_Force_GT_blah-part2 doesn't exist or access denied.
[   41s] Trying manual resume from /dev/vg0/lvswap
[   41s] resume device /dev/vg0/lvswap not found (ignoring)
[   41s] Trying manual resume from /dev/vg0/lvswap
[   41s] resume device /dev/vg0/lvswap not found (ignoring)
[   73s] Waiting for device /dev/sda to appear: ..............................Could not find /dev/sda.
[   73s] Want me to fall back to /dev/vg0/lvsuse? (Y/n)
</pre>
<p><b>Rescue</b> you have as root to kill all build process.</p>
<pre>for P in $(ps auxw| grep build | grep -v grep | awk {'print $2'} );do kill $P;done</pre>
<p>
<h2>Find a solution</h2>
<p>We want an optimized -virtio initrd, which filter all the lvm and crypting tools we don&#8217;t need. Also there&#8217;s no need to encumber it with graphic blob.<br />
Then I create a small script I&#8217;ve called patch-initrd-virtio (source below) which exactly do that work anytime I&#8217;ve a kernel change.<br />
As it need to be run by root only, I normally place it in /root/bin/
</p>
<h2>patch-initrd-virtio sources</h2>
<pre>
#!/usr/bin/env bash

# WTF License 1.0 
# Author Bruno Friedmann tigerfoot (at) opensuse.org

# Usage : this script will create an optimized virtio initrd without
# lvm, crypt, gfx tool
# by using the actual /boot/initrd symlink you have.
# Edit the 2 devices you target to use 
# 
DEVBUILD='/dev/vg0/lvobsbuild'
DEVSWAP='/dev/vg1/lvobsswap'

nokms(){
sed -i '/^NO_KMS_IN_INITRD/s/no/yes/' /etc/sysconfig/kernel
}

kms(){
sed -i '/^NO_KMS_IN_INITRD/s/yes/no/' /etc/sysconfig/kernel
}

echo "cleanup /tmp"
rm -fr /tmp/initrd*

# Patch the virtio initrd
if [ -z "$1" ];then
export VER=`uname -r`
else
export VER="$1"
fi
export INITRD="/boot/initrd-$VER-virtio"
echo "Setting nokms"
nokms

echo "Building -virtio initrd ..."
"env" "rootfstype=ext4,resume=$DEVSWAP,rootdev=$DEVBUILD,udevtimeout=2,udev_timeout=2,nosplash,noluks" "mkinitrd" "-B" "-d" "$DEVBUILD" "-m" "ext4 btrfs binfmt_misc virtio_pci virtio_blk" "-k" "/boot/vmlinuz-$VER" "-i" "$INITRD"

ls -l $INITRD

echo "Setting kms"
kms

# copy the *.virtio initrd to /tmp
cp -vfa $INITRD /tmp/initrd-virtio.gz

# ungzip it gzip -d initrd
cd /tmp
mkdir initrd.build
gzip -d initrd-virtio.gz

cd initrd.build

# uncpio cpio -id &lt; ../initrd
cpio -id  ../initrd
rm -fv ../initrd-virtio
echo "rebuilding initrd ..."
find . | cpio --create --format='newc' &gt; ../initrd-virtio
cd ../
echo "Compressing initrd ..."
# Install pigz if you want to save half an hour of your life.
if [ -x /usr/bin/pigz ];then
 pigz -9v initrd-virtio
else
 gzip -9v initrd-virtio
fi
# copy to /boot
cp -v initrd-virtio.gz $INITRD
echo "Done ..."

</pre>
<h2>Usage of patch-initrd-virtio</h2>
<p>Here&#8217;s the result of a run</p>
<pre>
cleanup /tmp
Setting nokms
Building -virtio initrd ...

Kernel image:   /boot/vmlinuz-3.13.6-1.g4727218-desktop
Initrd image:   /boot/initrd-3.13.6-1.g4727218-desktop-virtio
Root device:    /dev/vg0/lvobsbuild (mounted on / as ext4)
Resume device:  /dev/vg0/lvswap
enabling LUKS support for /dev/disk/by-id/ata-Corsair_Force_GT_blah-part2 (cr_sda2)
Microcode: Adding Intel microcode 06-2a-07
Kernel Modules: thermal_sys thermal processor fan libcrc32c xor raid6_pq btrfs binfmt_misc virtio virtio_ring virtio_pci virtio_blk dm-mod dm-crypt dm-log dm-region-hash dm-mirror dm-snapshot scsi_dh scsi_dh_hp_sw scsi_dh_alua scsi_dh_rdac scsi_dh_emc xhci-hcd hid-logitech-dj hid-holtek-kbd hid-lenovo-tpkbd hid-ortek hid-roccat hid-roccat-common hid-roccat-arvo hid-roccat-isku hid-samsung ohci-pci linear arc4 sha256_generic cryptd crct10dif-pclmul crc32-pclmul crc32c-intel ghash-clmulni-intel aes-x86_64 glue_helper gf128mul lrw ablk_helper aesni-intel
Features:       acpi dm intel_microcode block usb lvm2 luks btrfs resume.userspace resume.kernel
Did not refresh the bootloader. You might need to refresh it manually.
-rw------- 1 root root 29338540 Mar 15 18:18 /boot/initrd-3.13.6-1.g4727218-desktop-virtio
Setting kms
‘/boot/initrd-3.13.6-1.g4727218-desktop-virtio’ -&gt; ‘/tmp/initrd-virtio.gz’
160249 blocks
removed ‘./boot/71-luks.sh’
removed ‘./config/luks.sh’
removed ‘../initrd-virtio’
rebuilding initrd ...
160239 blocks
Compressing initrd ...
initrd-virtio to initrd-virtio.gz
‘initrd-virtio.gz’ -&gt; ‘/boot/initrd-3.13.6-1.g4727218-desktop-virtio’
Done ...
</pre>
<h2>Finally start a build with -virtio activated</h2>
<p>So with our new optimized initrd-virtio we can restart a fully qemu-kvm build with osc build &#8211;clean</p>
<pre>
Skipping verification of package signatures due to secure VM build
Writing build configuration
Running build
VM_IMAGE: /dev/mapper/vg0-lvobsbuild, VM_SWAP: /dev/mapper/vg1-lvobsswap
Creating ext4 filesystem on /dev/mapper/vg0-lvobsbuild
tune2fs 1.42.8 (20-Jun-2013)
Setting maximal mount count to -1
mkswap /dev/mapper/vg1-lvobsswap
mkswap: /dev/mapper/vg1-lvobsswap: warning: wiping old swap signature.
Setting up swapspace version 1, size = 4194300 KiB
no label, UUID=c19c873b-2b6c-4200-9575-a60adc581204
logging output to /tmp/obsbuild/.build.log...
[    0s] Using BUILD_ROOT=/tmp/obsbuild/.mount
[    0s] Using BUILD_ARCH=x86_64:i686:i586:i486:i386
[    0s] Doing kvm build in /dev/mapper/vg0-lvobsbuild
[    0s] 
[    0s] 
[    0s] c-3po.labaroche.ioda.net started "build postgresql-plr.spec" at Sat Mar 15 17:27:18 UTC 2014.
[    0s] 
[    0s] 
[    0s] processing specfile /home/bruno/openSUSE/obs/home:bruno_friedmann:branches:openSUSE:12.3:Update/postgresql-plr.openSUSE_12.3_Update/postgresql-plr.spec ...
[    0s] running changelog2spec --target rpm --file /home/bruno/openSUSE/obs/home:bruno_friedmann:branches:openSUSE:12.3:Update/postgresql-plr.openSUSE_12.3_Update/postgresql-plr.spec
[    0s] init_buildsystem --configdir /usr/lib/build/configs --cachedir /var/cache/build --prepare --clean --rpmlist /tmp/rpmlist.Vy31Li /home/bruno/openSUSE/obs/home:bruno_friedmann:branches:openSUSE:12.3:Update/postgresql-plr.openSUSE_12.3_Update/postgresql-plr.spec ...
[    1s] cycle: pam -&gt; permissions -&gt; coreutils
[    1s]   breaking dependency permissions -&gt; coreutils
[    1s] [1/29] preinstalling filesystem...

</pre>
<p>Hope this give you the taste of building!</p>
]]></content:encoded>
			</item>
		<item>
		<title>Combine osc with git</title>
		<link>https://lizards.opensuse.org/2009/04/15/combine-osc-with-git/</link>
		<comments>https://lizards.opensuse.org/2009/04/15/combine-osc-with-git/#comments</comments>
		<pubDate>Wed, 15 Apr 2009 12:08:26 +0000</pubDate>
		<dc:creator><![CDATA[Sascha Manns]]></dc:creator>
				<category><![CDATA[Build Service]]></category>
		<category><![CDATA[Documentation]]></category>
		<category><![CDATA[lizards.openSUSE.org]]></category>
		<category><![CDATA[Packaging]]></category>
		<category><![CDATA[git]]></category>
		<category><![CDATA[osc]]></category>
		<category><![CDATA[version]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=707</guid>
		<description><![CDATA[Yesterday Jan-Simon (dl9pf) tells me about an great Program calls &#8220;git&#8221;. Git is an Version-Administration Program. Anything knows the Problem. We working on an Project into our osc, and 2 Weeks later, we don&#8217;t know, what the last changes was. On this place can git help.Now following a short Introducting: First of all we need [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Yesterday Jan-Simon (dl9pf) tells me about an great Program calls &#8220;git&#8221;. Git is an Version-Administration Program. Anything knows the Problem. We working on an Project into our osc, and 2 Weeks later, we don&#8217;t know, what the last changes was. On this place can git help.Now following a short Introducting:</p>
<p>First of all we need an .git Folder. In my case i have all Projects in ~/osc/- As example i&#8217;m going to my foo.</p>
<p>$ ~/osc&gt; cd foo<br />
$ ~/osc/foo&gt; git init<br />
Then git says:<br />
Initialized empty Git repository in /home/sascha/osc/foo/.git/</p>
<p>$~/osc/foo&gt; echo 123 &gt; datei1</p>
<p>$~/osc/foo&gt; git add datei1<br />
This adds datei1 to your .git folder. If you use git add * you can add more than one File.</p>
<p>$~/osc/foo&gt; git commit -m&#8221;Initial Version&#8221; (Or what you want)<br />
git says:<br />
Created initial commit a7458cf: Test<br />
1 files changed, 1 insertions(+), 0 deletions(-)<br />
create mode 100644 datei1</p>
<p>$~/osc/foo&gt; echo 456 &gt; datei2<br />
$~/osc/foo&gt; git commit -m&#8221;Change 1&#8243;<br />
git says:<br />
Created commit d1ef978: Change 1<br />
1 files changed, 1 insertions(+), 0 deletions(-)<br />
create mode 100644 datei2<br />
$~/osc/foo&gt; gitk (this is an GUI)</p>
<p>That looks:</p>
<p><img class="aligncenter size-medium wp-image-708" src="http://lizards.opensuse.org/wp-content/uploads/2009/04/gitk-300x240.png" alt="gitk" width="300" height="240" srcset="https://lizards.opensuse.org/wp-content/uploads/2009/04/gitk-300x240.png 300w, https://lizards.opensuse.org/wp-content/uploads/2009/04/gitk-1024x819.png 1024w, https://lizards.opensuse.org/wp-content/uploads/2009/04/gitk.png 1280w" sizes="(max-width: 300px) 100vw, 300px" /></p>
<p>There you can find all Changes since &#8220;Intial Version&#8221;.  Git can also manage branches and can merge it perfectly. So i think that git is very good Tool. And an good completion. With an wrapper file it is also possible to add or remove files in osc and git. Very nice -)</p>
]]></content:encoded>
			<wfw:commentRss>https://lizards.opensuse.org/2009/04/15/combine-osc-with-git/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>Linking Buildservice packages with exact revisions</title>
		<link>https://lizards.opensuse.org/2009/02/06/linking-buildservice-packages-with-exact-revisions/</link>
		<pubDate>Fri, 06 Feb 2009 08:57:53 +0000</pubDate>
		<dc:creator><![CDATA[kl_eisbaer]]></dc:creator>
				<category><![CDATA[Build Service]]></category>
		<category><![CDATA[linpac]]></category>
		<category><![CDATA[osc]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=410</guid>
		<description><![CDATA[During the &#8220;cleanup&#8221; of the HP-Education repository, I used a very interesting feature of the openSUSE Build Service: linking against revisions. Sometimes, you want to patch a package from another repository to build with special features enabled or disabled. The Build Service allows you to link the package from this other repository (and avoid wasting [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>During the &#8220;cleanup&#8221; of the HP-Education repository, I used a very interesting feature of the openSUSE Build Service: linking against revisions.</p>
<p>Sometimes, you want to patch a package from another repository to build with special features enabled or disabled. The Build Service allows you to link the package from this other repository (and avoid wasting space by duplicating the sources) and add your patches.</p>
<p>Now think about a patch against a special version of a package &#8211; and you know that you don&#8217;t want a package with a newer version in your repository for a foreseeable time. But if you use the plain link command of the Build Service, the linked package in your repository will get updated if the original package in the original project is updated.</p>
<p>Luckily, the buildservice allows you to link against a &#8220;frozen&#8221; state of a package: it&#8217;s source-revision. People already knowing any revision control systems like Subversion also know that the revision of a source is increased each time, a new change is submitted. And that&#8217;s what we need now: link against a special revision of the package from the other repository and apply our patch against it. The webclient currently doesn&#8217;t support such special features, but with osc it&#8217;s very easy.<br />
<span id="more-410"></span><br />
First, check the needed revision in the original project:<br />
<code><br />
cd Education/MultiplicationStation<br />
osc info<br />
</code><br />
<code><br />
Project name: Education<br />
Package name: MultiplicationStation<br />
Path: /home/data/SVN/Education/MultiplicationStation<br />
API URL: https://api.opensuse.org<br />
Source URL: https://api.opensuse.org/source/Education/MultiplicationStation<br />
srcmd5: 484c329659d613e3bbdd515a1a8d1099<br />
Revision: 10<br />
Link info: None<br />
</code><br />
Now create a link with this (or any further) revision to your new project:<br />
<code><br />
osc linkpac -r 10 Education MultiplicationStation isv:hp:education<br />
</code><br />
..and in the resulting &#8220;_link&#8221; file in your new project, you&#8217;ll find:<br />
<code><br />
&lt;link project="Education" package="MultiplicationStation" rev="10"&gt;<br />
&lt;patches&gt;<br />
&lt;!-- &lt;apply name="patch" /&gt; --&gt;<br />
&lt;!-- &lt;topadd&gt;%define build_with_feature_x 1&lt;/topadd&gt; --&gt;<br />
&lt;/patches&gt;<br />
&lt;/link&gt;<br />
</code><br />
So your linked package will always use the source revision 10 of the original project. Let&#8217;s start applying patches&#8230;</p>
]]></content:encoded>
			</item>
		<item>
		<title>new osc package released</title>
		<link>https://lizards.opensuse.org/2008/07/10/new-osc-package-released/</link>
		<pubDate>Thu, 10 Jul 2008 02:15:13 +0000</pubDate>
		<dc:creator><![CDATA[Peter Pöml]]></dc:creator>
				<category><![CDATA[Build Service]]></category>
		<category><![CDATA[Packaging]]></category>
		<category><![CDATA[osc]]></category>

		<guid isPermaLink="false">http://lizards.opensuse.org/?p=92</guid>
		<description><![CDATA[After two or three weeks of coding (not mine mostly, but by Marcus and Dirk), a lot of good stuff has accumulated in the osc development tree. Time to release a new package. It is a particularly good moment because today the 1.0 release of the Build Service has been announced. The list of changes [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>After two or three weeks of coding (not mine mostly, but by Marcus and Dirk), a lot of good stuff has accumulated in the osc development tree. Time to release a <a href="http://download.opensuse.org/repositories/openSUSE:/Tools/">new package</a>. It is a particularly good moment because today the 1.0 release of the Build Service has been <a href="http://news.opensuse.org/2008/07/09/opensuse-build-service-10-released/" target="_blank">announced</a>.</p>
<p>The list of changes is long, the <a href="https://forgesvn1.novell.com/svn/opensuse/trunk/buildservice/src/clientlib/python/osc/NEWS">NEWS file</a> has it all. Overview:</p>
<ul>
<li>version 0.105</li>
<li>easier usage of <strong>osc submitreq</strong>:<strong> </strong>It is less picky on commandline arguments, can be called in working copies or project directories, figures out which build service instance to use, and has improved output. Also, there is a <strong>osc submitreq delete</strong> action now (which only works if you have write permissions on the destination though)</li>
<li><strong>osc search</strong>: added option -i|&#8211;involved, to show in which projects/packages a developer is involved</li>
<li><strong>osc importsrcpkg</strong>: no signature check anymore</li>
<li> <strong>osc linkpac</strong>: &#8211;revision option added.</li>
<li><strong>osc copypac</strong>: use the correct userid when copying to another api host</li>
<li><strong>osc build</strong>: double check the buildinfo for local builds.</li>
<li><strong>osc buildhist</strong>: change the output into a format which better matches actual RPM filenames.</li>
<li><strong>osc commit</strong>: give commit message tempfiles a &#8220;.diff&#8221; suffix, so syntax highlighting automatically works in capable editors</li>
<li> don&#8217;t expand/unexpand if the working copy has local modifications &#8211; this is a workaround for #399247 but this way the working copy isn&#8217;t screwed up. Also, make sure no _linkerror files end up in working copies.</li>
<li>better error reporting in a whole number of cases, especially printing out more available detail. For instance,<strong> osc meta</strong> now prints out a concrete text <em>why</em> something you submitted was not accepted.</li>
</ul>
<p>Have a lot of fun with it.</p>
<p>And just a note, remember that it is very easy to write <strong>osc plugins</strong> in order to extend or alter the functionality! Here&#8217;s the <a href="http://en.opensuse.org/Build_Service/osc_plugins">documentation</a>.</p>
]]></content:encoded>
			</item>
	</channel>
</rss>
